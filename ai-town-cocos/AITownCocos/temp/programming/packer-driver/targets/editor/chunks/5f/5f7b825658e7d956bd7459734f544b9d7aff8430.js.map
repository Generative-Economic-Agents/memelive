{"version":3,"sources":["file:///Users/feiwang/cutepet/assets/src/game/components/ListItemComponent2.ts"],"names":["_decorator","Component","Node","Label","Animation","uiMgr","ccclass","property","ListItemComponent2","touchStartX","_hasPlaying","start","node","on","EventType","TOUCH_START","touchStart","TOUCH_MOVE","touchMove","TOUCH_END","touchEnd","TOUCH_CANCEL","setData","event","touch","getLocationX","currTouchX","contentNode","getComponent","play","v","getPosition","x","setPosition","openGedanXiangqing","evt","popToParent","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Label, EventTouch ,Animation} from 'cc';\nimport { uiMgr } from '../App';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ListItemComponent2')\nexport class ListItemComponent2 extends Component {\n    @property(Label)\n    public Label_title:Label = null;\n    @property(Label)\n    public Label_num:Label = null;\n    @property(Node)\n    public contentNode:Node = null;\n    @property(Node)\n    public btnsNode:Node = null;\n    @property(Node)\n    public Sprite_touxiang:Node = null;\n    start() {\n        this.node.on(Node.EventType.TOUCH_START, this.touchStart, this);\n        this.node.on(Node.EventType.TOUCH_MOVE, this.touchMove, this);\n        this.node.on(Node.EventType.TOUCH_END, this.touchEnd, this);\n        this.node.on(Node.EventType.TOUCH_CANCEL, this.touchEnd, this);\n        this.node.on(\"setdata\",this.setData,this);\n    }\n    \n    private touchStartX:number  = 0;\n    touchStart(event: EventTouch) {\n        this.touchStartX = event.touch.getLocationX();\n    }\n    /**\n     * 是否已打开\n     */\n    private _hasPlaying:boolean = false;\n    touchMove(event: EventTouch) {\n        const currTouchX = event.touch.getLocationX();\n        if( !this._hasPlaying&&(this.touchStartX - currTouchX>30)){\n            this.contentNode.getComponent(Animation).play(\"gedanitem\");\n            this._hasPlaying = true;\n        }\n        if((this.touchStartX - currTouchX<-30)&&this._hasPlaying){\n            this.contentNode.getComponent(Animation).play(\"gedanitem2\");\n            this._hasPlaying = false;\n        }\n    }\n    touchEnd(event: EventTouch) {\n    }\n\n    /**\n     * 更新数据\n     */\n    public setData(){\n        let v =this.contentNode.getPosition();\n        v.x= -344;\n        this.contentNode.setPosition(v);\n        this._hasPlaying = false;\n    }\n\n    /**\n     * \n     * @param evt \n     */\n    public openGedanXiangqing(evt){\n        uiMgr.popToParent(\"prefabs/pre_gequlist\");\n    }\n    update(deltaTime: number) {\n        \n    }\n}\n\n"]}