{"version":3,"sources":["file:///Users/feiwang/cutepet/assets/src/game/components/CatWorkingComponent.ts"],"names":["_decorator","Button","Color","Component","EditBox","Label","Node","Sprite","LoadingController","modelMgr","observer","socket","uiMgr","network","GlobalConfig","EventType","StaticConfigModel","GuideIndex","NewGuideComponentWork","Log","AudioManager","ccclass","property","TAG","currentWorkCostAp","CatWorkingComponent","selectCatId","isGuide","start","item1txt1","setPosition","item1txt2","item2txt1","item2txt2","ins","hideLoading","setUserAp","guideInfo","instance","LoginData","data","player","guide","find","element","START_GUIDE_STATE7","end","post","UPDATE_GUIDE_INFO_WORK_PAGE","editItemOver","addStr","EditBox1","string","length","EditBox2","itemsCombe","EditBox1Guide","EditBox2Guide","node","getComponent","showGuide3","log","editItemOverGuide","setGoButtonState","interactable","go","grayscale","goGuide","update","deltaTime","catName","catNameGuide","apDown","active","catSelectNum","showCatSelectList","currentAp","mainModel","getserItemCountById","toFixed","work_cost_energy","configModel","getconfigByGrpAId","SysParameter","Number","value","apLimit","apLimitGuide","color","setPreWorkData","id","energyTxt","rate","name","catOccupation","career","energyTxtGuide","catOccupationGuide","showCatSelectView","playSound","closeGuide1","catSelectList","occupationBg","hideCatSelectView","showGuide2","goToWork","catWorkData","CreateCatWorkCatRequest","catIds","itemArr","push","items","sendWebSocketBinary","START_CAT_WORK","closeWorkPage","removeParent"],"mappings":"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","sourcesContent":["import { _decorator, Button, Color, ColorKey, Component, EditBox, Label, Node, RichText, Sprite } from 'cc';\nimport { LoadingController } from './LoadingController';\nimport { modelMgr, observer, socket, uiMgr } from '../App';\nimport { TAOBAO } from 'cc/env';\nimport { catCfgD, catInfo } from '../config/DataStruct';\nimport { network } from '../../model/RequestData';\nimport { GlobalConfig } from '../config/GlobalConfig';\nimport { EventType } from '../../EventType';\nimport StaticConfigModel from '../../model/StaticConfig/StaticConfigModel';\nimport { GuideIndex } from '../../model/StaticTextConfig';\nimport { NewGuideComponentWork } from '../../module/main/NewGuideComponentWork';\nimport Log from '../../../../assets/src/utils/LogUtils'\nimport { AudioManager } from '../../manager/AudioManager';\nconst { ccclass, property } = _decorator;\n\nconst TAG = 'CatWorkingComponent'\n\nconst currentWorkCostAp = 20\n\n@ccclass(\"CatWorkingComponent\")\nexport class CatWorkingComponent extends Component {\n  @property(Node)\n  catSelectList: Node = null;\n\n  @property(Label)\n  public energyTxt: Label = null;\n\n  @property(Label)\n  public catName: Label = null;\n\n  @property(Label)\n  public catOccupation: Label = null;\n\n  //引导\n  @property(Label)\n  public energyTxtGuide: Label = null;\n\n  @property(Label)\n  public catNameGuide: Label = null;\n\n  @property(Label)\n  public catOccupationGuide: Label = null;\n  //\n\n  @property(Label)\n  public itemsCombe: Label = null;\n\n  @property(Label)\n  public apLimit: Label = null;\n\n  @property(Label)\n  public apLimitGuide: Label = null;\n\n  @property(Label)\n  public catSelectNum: Label = null;\n\n  @property(EditBox)\n  public EditBox1: Label = null;\n\n  @property(EditBox)\n  public EditBox2: Label = null;\n\n  //引导部分\n  @property(EditBox)\n  public EditBox1Guide: Label = null;\n\n  @property(EditBox)\n  public EditBox2Guide: Label = null;\n  //\n\n  @property(Node)\n  public go: Node = null;\n\n  //引导部分\n  @property(Node)\n  public goGuide: Node = null;\n  //\n\n  @property(Node)\n  public occupationBg: Node = null;\n  selectCatId: number;\n\n  @property(Node)\n  public item1txt1: Node = null;\n  @property(Node)\n  public item1txt2: Node = null;\n\n  @property(Node)\n  public item2txt1: Node = null;\n  @property(Node)\n  public item2txt2: Node = null;\n\n  //Ap不足\n  @property(Node)\n  public apDown: Node = null;\n\n  isGuide: boolean = false;\n  start() {\n    this.item1txt1.setPosition(0, 0);\n    this.item1txt2.setPosition(0, 0);\n    this.item2txt1.setPosition(0, 0);\n    this.item2txt2.setPosition(0, 0);\n\n    LoadingController.ins.hideLoading();\n    this.setUserAp();\n    const guideInfo = GlobalConfig.instance.LoginData.data.player.guide;\n    if (\n      !guideInfo?.find?.(\n        (element) => element === GuideIndex.START_GUIDE_STATE7.end\n      )\n    ) {\n      //触发第7阶段引导\n      observer.post(EventType.UPDATE_GUIDE_INFO_WORK_PAGE, {\n        start: 1,\n        end: 5,\n      });\n    }\n  }\n\n  editItemOver(data: any) {\n    const addStr =\n      (this.EditBox1.string.length && this.EditBox2.string.length) \n        ? \" + \"\n        : \"\";\n    (this.EditBox1.string.length || this.EditBox2.string.length) &&\n      (this.itemsCombe.string = `${this.EditBox1.string}${addStr}${this.EditBox2.string}`);\n      this.EditBox1Guide.string = this.EditBox1.string\n      this.EditBox2Guide.string = this.EditBox2.string\n    if(this.isGuide && (this.EditBox1.string.length && this.EditBox2.string.length)){\n        this.node.getComponent(NewGuideComponentWork).showGuide3()\n    }\n    Log.log(TAG, data);\n  }\n\n  editItemOverGuide(data: any) {\n    const addStr =\n      this.EditBox1Guide.string.length && this.EditBox2Guide.string.length\n        ? \" + \"\n        : \"\";\n    (this.EditBox1Guide.string.length || this.EditBox2Guide.string.length) &&\n      (this.itemsCombe.string = `${this.EditBox1Guide.string}${addStr}${this.EditBox2Guide.string}`);\n    this.EditBox1.string = this.EditBox1Guide.string\n    this.EditBox2.string = this.EditBox2Guide.string\n    if(this.isGuide && (this.EditBox1.string.length && this.EditBox2.string.length)){\n        this.node.getComponent(NewGuideComponentWork).showGuide3()\n    }\n    Log.log(TAG, data);\n  }\n\n  setGoButtonState(interactable: boolean) {\n    this.go.getComponent(Button).interactable = interactable;\n    this.go.getComponent(Sprite).grayscale = !interactable;\n\n    this.goGuide.getComponent(Button).interactable = interactable;\n    this.goGuide.getComponent(Sprite).grayscale = !interactable;\n  }\n\n  update(deltaTime: number) {\n    if (\n      (this.EditBox1.string.length ||\n        this.EditBox2.string.length ||\n        this.EditBox1Guide.string.length ||\n        this.EditBox2Guide.string.length) &&\n      (this.catName.string.length || this.catNameGuide.string.length) &&\n        !this.apDown.active\n    ) {\n      this.setGoButtonState(true);\n    } else {\n      this.setGoButtonState(false);\n    }\n    if (this.catName.string.length || this.catNameGuide.string.length) {\n      this.catSelectNum.string = \"1/1\";\n    } else {\n      this.catSelectNum.string = \"0/1\";\n    }\n  }\n\n  showCatSelectList() {}\n\n  setUserAp() {\n    const currentAp = modelMgr.mainModel\n      .getserItemCountById(10101002)\n      .toFixed(0);\n    const work_cost_energy = modelMgr.configModel.getconfigByGrpAId(\n      StaticConfigModel.SysParameter,\n      4\n    );\n    // this.apLimit.string = `${work_cost_energy.value}/${currentAp}`;\n    // this.apLimitGuide.string = `${work_cost_energy.value}/${currentAp}`;\n    if (Number(work_cost_energy.value)> Number(currentAp)) {\n      this.apLimit.string = `${currentAp}`;\n      this.apLimitGuide.string = `${currentAp}`;\n      this.apLimit.color = new Color('#FF5946');\n      this.apLimitGuide.color = new Color('#FF5946');\n      this.apDown.active = true\n      this.setGoButtonState(false);\n    } else {\n      this.apLimit.string = `${currentAp}`;\n      this.apLimitGuide.string = `${currentAp}`;\n      this.apLimit.color = new Color('#00ff00');\n      this.apLimitGuide.color = new Color('#00ff00');\n      this.apDown.active = false\n    }\n  }\n\n  setPreWorkData(data: catInfo) {\n    this.selectCatId = data.id;\n    this.energyTxt.string = data.rate.toFixed(0);\n    this.catName.string = data.name;\n    this.catOccupation.string = data.career;\n\n    this.energyTxtGuide.string = data.rate.toFixed(0);\n    this.catNameGuide.string = data.name;\n    this.catOccupationGuide.string = data.career;\n    Log.log(TAG, \"setPreWorkData\");\n  }\n\n  showCatSelectView() {\n    AudioManager.instance.playSound(\"new_NormanBtn\");\n    if(this.isGuide){\n        this.node.getComponent(NewGuideComponentWork).closeGuide1()\n    }\n    this.catSelectList.active = true;\n    this.occupationBg.active = false;\n  }\n\n  hideCatSelectView() {\n    AudioManager.instance.playSound(\"new_NormanBtn\");\n    if (this.isGuide) {\n      this.node.getComponent(NewGuideComponentWork).showGuide2();\n    }\n    this.catSelectList.active = false;\n    this.occupationBg.active = true;\n  }\n\n  goToWork() {\n    if (\n      this.selectCatId &&\n      (this.EditBox1.string.length || this.EditBox2.string.length)\n    ) {\n      let catWorkData = new network.CreateCatWorkCatRequest();\n      catWorkData.data.catIds = [this.selectCatId];\n      let itemArr = [];\n      this.EditBox1.string.length && itemArr.push(this.EditBox1.string);\n      this.EditBox2.string.length && itemArr.push(this.EditBox2.string);\n      catWorkData.data.items = itemArr;\n      socket.sendWebSocketBinary(catWorkData);\n    }\n    observer.post(EventType.START_CAT_WORK);\n    //AudioManager.instance.playSound(\"new_starWork\");\n    AudioManager.instance.playSound(\"new_NormanBtn\");\n    this.closeWorkPage();\n  }\n\n  closeWorkPage() {\n    AudioManager.instance.playSound(\"new_NormanBtn\");\n    uiMgr.removeParent(\"prefabs/pre_cat_working\");\n  }\n}\n\n"]}