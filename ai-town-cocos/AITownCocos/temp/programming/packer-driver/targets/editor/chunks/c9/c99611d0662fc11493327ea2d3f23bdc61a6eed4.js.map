{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws-sdk/lib/json/parser.js"],"names":["_cjsLoader","_req","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","util","JsonParser","prototype","parse","value","shape","translate","JSON","undefined","type","translateStructure","translateMap","translateList","translateScalar","structure","isDocument","struct","shapeMembers","members","isAwsQueryCompatible","api","awsQueryCompatible","each","name","memberShape","locationName","isLocationName","Object","hasOwnProperty","call","result","defaultValue","list","out","arrayEach","member","push","map","key","toType","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '../util';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var util = require('../util');\n\n function JsonParser() { }\n\n JsonParser.prototype.parse = function(value, shape) {\n   return translate(JSON.parse(value), shape);\n };\n\n function translate(value, shape) {\n   if (!shape || value === undefined) return undefined;\n\n   switch (shape.type) {\n     case 'structure': return translateStructure(value, shape);\n     case 'map': return translateMap(value, shape);\n     case 'list': return translateList(value, shape);\n     default: return translateScalar(value, shape);\n   }\n }\n\n function translateStructure(structure, shape) {\n   if (structure == null) return undefined;\n   if (shape.isDocument) return structure;\n\n   var struct = {};\n   var shapeMembers = shape.members;\n   var isAwsQueryCompatible = shape.api && shape.api.awsQueryCompatible;\n   util.each(shapeMembers, function(name, memberShape) {\n     var locationName = memberShape.isLocationName ? memberShape.name : name;\n     if (Object.prototype.hasOwnProperty.call(structure, locationName)) {\n       var value = structure[locationName];\n       var result = translate(value, memberShape);\n       if (result !== undefined) struct[name] = result;\n     } else if (isAwsQueryCompatible && memberShape.defaultValue) {\n       if (memberShape.type === 'list') {\n         struct[name] = typeof memberShape.defaultValue === 'function' ? memberShape.defaultValue() : memberShape.defaultValue;\n       }\n     }\n   });\n   return struct;\n }\n\n function translateList(list, shape) {\n   if (list == null) return undefined;\n\n   var out = [];\n   util.arrayEach(list, function(value) {\n     var result = translate(value, shape.member);\n     if (result === undefined) out.push(null);\n     else out.push(result);\n   });\n   return out;\n }\n\n function translateMap(map, shape) {\n   if (map == null) return undefined;\n\n   var out = {};\n   util.each(map, function(key, value) {\n     var result = translate(value, shape.value);\n     if (result === undefined) out[key] = null;\n     else out[key] = result;\n   });\n   return out;\n }\n\n function translateScalar(value, shape) {\n   return shape.toType(value);\n }\n\n /**\n  * @api private\n  */\n module.exports = JsonParser;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  '../util': _req,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}