{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/assets/src/module/main/tujian/TujianComponent.ts"],"names":["_decorator","Component","Node","observer","uiMgr","RedManager","LoadingController","AudioManager","ccclass","property","TujianComponent","start","ins","hideLoading","instance","registRedPoint","Sprite_redpointA","on","updateRenwuList","update","deltaTime","onDestroy","onMessage","isred","getKeyState","KEY","renwutabred","changeState","closeself","playSound","removeParent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;AACbC,MAAAA,Q,iBAAAA,Q;AAAkBC,MAAAA,K,iBAAAA,K;;AAG9BC,MAAAA,U;;AACEC,MAAAA,iB,iBAAAA,iB;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;iCAGjBU,e,WADZF,OAAO,CAAC,iBAAD,C,UAEHC,QAAQ,CAACP,IAAD,C,2BAFb,MACaQ,eADb,SACqCT,SADrC,CAC+C;AAAA;AAAA;;AAAA;AAAA;;AAG3CU,QAAAA,KAAK,GAAG;AACJ;AAAA;AAAA,sDAAkBC,GAAlB,CAAsBC,WAAtB,GADI,CAGJ;;AACA;AAAA;AAAA,wCAAWC,QAAX,CAAoBC,cAApB,CAAmC,aAAnC,EAAiD,KAAKC,gBAAtD;AACA;AAAA;AAAA,oCAASC,EAAT,CAAY,WAAZ,EAAyB,KAAKC,eAA9B,EAA+C,IAA/C;AACA,eAAKA,eAAL;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAESC,QAAAA,SAAS,GAAS,CAE3B;;AACOC,QAAAA,SAAS,GAAG,CAEnB;;AACOJ,QAAAA,eAAe,GAAG;AACtB;AACA;AACA;AACA,cAAIK,KAAa,GAAI;AAAA;AAAA,wCAAWT,QAAX,CAAoBU,WAApB,CAAgC;AAAA;AAAA,wCAAWC,GAAX,CAAeC,WAA/C,CAArB;AACA;AAAA;AAAA,wCAAWZ,QAAX,CAAoBa,WAApB,CAAgC;AAAA;AAAA,wCAAWF,GAAX,CAAeC,WAA/C,EAA2DH,KAA3D;AACH;AACD;AACJ;AACA;;;AACWK,QAAAA,SAAS,GAAG;AACf;AAAA;AAAA,4CAAad,QAAb,CAAsBe,SAAtB,CAAgC,eAAhC;AACA;AAAA;AAAA,8BAAMC,YAAN,CAAmB,oBAAnB;AACH;;AAnC0C,O;;;;;iBAEZ,I","sourcesContent":["import { _decorator, Component, Node } from 'cc';\nimport { modelMgr, observer, socket, uiMgr } from '../../../game/App';\nimport { network } from '../../../model/RequestData';\nimport { EventType } from '../../../EventType';\nimport RedManager from '../../../manager/RedManager';\nimport { LoadingController } from '../../../game/components/LoadingController';\nimport { AudioManager } from '../../../manager/AudioManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('TujianComponent')\nexport class TujianComponent extends Component {\n    @property(Node)\n    public Sprite_redpointA:Node = null;\n    start() {\n        LoadingController.ins.hideLoading();\n\n        // modelMgr.mainModel.tasklistReq();\n        RedManager.instance.registRedPoint(\"renwutabred\",this.Sprite_redpointA);\n        observer.on(\"keychange\", this.updateRenwuList, this);\n        this.updateRenwuList();\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n    protected onDestroy(): void {\n\n    }\n    private onMessage() {\n\n    }\n    private updateRenwuList() {\n        // let da: taskcell[] = modelMgr.mainModel.tasklist.data;\n        // let arr = modelMgr.configModel.commonConfigJson.TaskCfg;\n        // this.showRenwuList(arr);\n        let isred:boolean  = RedManager.instance.getKeyState(RedManager.KEY.renwutabred);\n        RedManager.instance.changeState(RedManager.KEY.renwutabred,isred);\n    }\n    /**\n    * 关闭自己\n    */\n    public closeself() {\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        uiMgr.removeParent(\"prefabs/pre_tujian\");\n    }\n\n}\n\n\n"]}