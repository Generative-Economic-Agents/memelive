{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws-sdk/lib/services/cloudsearchdomain.js"],"names":["_cjsLoader","_req","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","AWS","util","update","CloudSearchDomain","prototype","validateService","config","endpoint","indexOf","msg","error","Error","name","message","setupRequestListeners","request","removeListener","EventListeners","Core","VALIDATE_CREDENTIALS","onAsync","validateCredentials","addListener","updateRegion","operation","convertGetToPost","req","done","service","api","signatureVersion","getCredentials","err","SIGN","httpRequest","method","path","split","body","headers","length","hostname","zones","region","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '../core';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var AWS = require('../core');\n\n /**\n  * Constructs a service interface object. Each API operation is exposed as a\n  * function on service.\n  *\n  * ### Sending a Request Using CloudSearchDomain\n  *\n  * ```javascript\n  * var csd = new AWS.CloudSearchDomain({endpoint: 'my.host.tld'});\n  * csd.search(params, function (err, data) {\n  *   if (err) console.log(err, err.stack); // an error occurred\n  *   else     console.log(data);           // successful response\n  * });\n  * ```\n  *\n  * ### Locking the API Version\n  *\n  * In order to ensure that the CloudSearchDomain object uses this specific API,\n  * you can construct the object by passing the `apiVersion` option to the\n  * constructor:\n  *\n  * ```javascript\n  * var csd = new AWS.CloudSearchDomain({\n  *   endpoint: 'my.host.tld',\n  *   apiVersion: '2013-01-01'\n  * });\n  * ```\n  *\n  * You can also set the API version globally in `AWS.config.apiVersions` using\n  * the **cloudsearchdomain** service identifier:\n  *\n  * ```javascript\n  * AWS.config.apiVersions = {\n  *   cloudsearchdomain: '2013-01-01',\n  *   // other service API versions\n  * };\n  *\n  * var csd = new AWS.CloudSearchDomain({endpoint: 'my.host.tld'});\n  * ```\n  *\n  * @note You *must* provide an `endpoint` configuration parameter when\n  *   constructing this service. See {constructor} for more information.\n  *\n  * @!method constructor(options = {})\n  *   Constructs a service object. This object has one method for each\n  *   API operation.\n  *\n  *   @example Constructing a CloudSearchDomain object\n  *     var csd = new AWS.CloudSearchDomain({endpoint: 'my.host.tld'});\n  *   @note You *must* provide an `endpoint` when constructing this service.\n  *   @option (see AWS.Config.constructor)\n  *\n  * @service cloudsearchdomain\n  * @version 2013-01-01\n  */\n AWS.util.update(AWS.CloudSearchDomain.prototype, {\n   /**\n    * @api private\n    */\n   validateService: function validateService() {\n     if (!this.config.endpoint || this.config.endpoint.indexOf('{') >= 0) {\n       var msg = 'AWS.CloudSearchDomain requires an explicit ' +\n                 '`endpoint\\' configuration option.';\n       throw AWS.util.error(new Error(),\n         {name: 'InvalidEndpoint', message: msg});\n     }\n   },\n\n   /**\n    * @api private\n    */\n   setupRequestListeners: function setupRequestListeners(request) {\n     request.removeListener('validate',\n       AWS.EventListeners.Core.VALIDATE_CREDENTIALS\n     );\n     request.onAsync('validate', this.validateCredentials);\n     request.addListener('validate', this.updateRegion);\n     if (request.operation === 'search') {\n       request.addListener('build', this.convertGetToPost);\n     }\n   },\n\n   /**\n    * @api private\n    */\n   validateCredentials: function(req, done) {\n     if (!req.service.api.signatureVersion) return done(); // none\n     req.service.config.getCredentials(function(err) {\n       if (err) {\n         req.removeListener('sign', AWS.EventListeners.Core.SIGN);\n       }\n       done();\n     });\n   },\n\n   /**\n    * @api private\n    */\n   convertGetToPost: function(request) {\n     var httpRequest = request.httpRequest;\n     if (httpRequest.method === 'POST') {\n       return;\n     }\n     // convert queries to POST to avoid length restrictions\n     var path = httpRequest.path.split('?');\n     httpRequest.method = 'POST';\n     httpRequest.path = path[0];\n     httpRequest.body = path[1];\n     httpRequest.headers['Content-Length'] = httpRequest.body.length;\n     httpRequest.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n   },\n\n   /**\n    * @api private\n    */\n   updateRegion: function updateRegion(request) {\n     var endpoint = request.httpRequest.endpoint.hostname;\n     var zones = endpoint.split('.');\n     request.httpRequest.region = zones[1] || request.httpRequest.region;\n   }\n\n });\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  '../core': _req,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}