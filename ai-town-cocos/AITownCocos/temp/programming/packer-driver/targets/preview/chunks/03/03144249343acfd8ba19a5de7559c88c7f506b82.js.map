{"version":3,"sources":["file:///Users/feiwang/AITown/AITownCocos/assets/src/game/config/GlobalConfig.ts"],"names":["GlobalConfig","log","Node","modelMgr","isProduction","jsonData","hasLogin","hasInitGame","LoginData","hasJsonsLoad","haSelect","currentChatTimes","nickName","playername","userId","curCatData","catInRange","catRootNode","testTools","currentNpcIndex","instance","_instance","start","getGlobalData","key","setGlobalData","value","getCurCatId","data","player","catId","setCurCatId","catid","configModel","getCatDataById"],"mappings":";;;oGAKaA,Y;;;;;;;;;;;;;;;;;;;;;;;AALJC,MAAAA,G,OAAAA,G;AAAKC,MAAAA,I,OAAAA,I;;AAELC,MAAAA,Q,iBAAAA,Q;;;;;;;;;8BAGIH,Y,GAAN,MAAMA,YAAN,CAAmB;AAAA;AAEtB;AACJ;AACA;AAJ0B,eAMtBI,YANsB,GAME,KANF;AAAA,eAQtBC,QARsB;AAAA,eASfC,QATe,GASK,KATL;AAAA,eAUtBC,WAVsB,GAUC,KAVD;AAAA,eAWtBC,SAXsB;AAAA,eAYtBC,YAZsB,GAYE,KAZF;AAAA,eAatBC,QAbsB;AAAA,eActBC,gBAdsB,GAcK,CAdL;AAetB;AAfsB,eAgBfC,QAhBe,GAgBJ,EAhBI;AAAA,eAiBfC,UAjBe,GAiBF,EAjBE;AAAA,eAkBfC,MAlBe,GAkBN,EAlBM;AAAA,eAmBfC,UAnBe;AAAA,eAoBtBC,UApBsB,GAoBA,IApBA;AAAA,eAqBtBC,WArBsB,GAqBF,IAAIf,IAAJ,EArBE;AAAA,eAsBtBgB,SAtBsB,GAsBD,KAtBC;AAAA,eAuBtBC,eAvBsB,GAuBC,CAvBD;AAAA;;AAwBH,mBAARC,QAAQ,GAAG;AAClB,cAAI,KAAKC,SAAT,EAAoB;AAChB,mBAAO,KAAKA,SAAZ;AACH;;AAEL,eAAKA,SAAL,GAAiB,IAAIrB,YAAJ,EAAjB;;AACI,eAAKqB,SAAL,CAAeC,KAAf;;AACD,eAAKD,SAAL,CAAeT,QAAf,GAA0B,KAAKS,SAAL,CAAeR,UAAf,GAA4B,KAAKQ,SAAL,CAAeP,MAAf,GAAwB,QAA9E;AACC,iBAAO,KAAKO,SAAZ;AACH;;AACDC,QAAAA,KAAK,GAAG;AACJ,eAAKjB,QAAL,GAAgB;AACZ,sBAAU;AADE,WAAhB;AAGH;;AACDkB,QAAAA,aAAa,CAACC,GAAD,EAAc;AACvB,iBAAO,KAAKnB,QAAL,CAAcmB,GAAd,CAAP;AACH;;AACDC,QAAAA,aAAa,CAACD,GAAD,EAAcE,KAAd,EAA0B;AACnC,eAAKrB,QAAL,CAAcmB,GAAd,IAAqBE,KAArB;AACH;;AACMC,QAAAA,WAAW,GAAG;AAAA;;AACjB,cAAI,2BAAC3B,YAAY,CAACoB,QAAb,CAAsBZ,SAAvB,sCAAC,sBAAiCoB,IAAlC,sCAAC,sBAAuCC,MAAxC,aAAC,sBAA+CC,KAAhD,CAAJ,EAA2D;AACvD,mBAAO,CAAP;AACH,WAFD,MAEO;AACH,mBAAO9B,YAAY,CAACoB,QAAb,CAAsBZ,SAAtB,CAAgCoB,IAAhC,CAAqCC,MAArC,CAA4CC,KAAnD;AACH;AACJ;;AACMC,QAAAA,WAAW,CAACC,KAAD,EAAgB;AAAA;;AAC9B,wCAAIhC,YAAY,CAACoB,QAAb,CAAsBZ,SAA1B,aAAI,uBAAiCoB,IAArC,EAA2C;AACvC5B,YAAAA,YAAY,CAACoB,QAAb,CAAsBZ,SAAtB,CAAgCoB,IAAhC,CAAqCC,MAArC,CAA4CC,KAA5C,GAAoDE,KAApD;AACD,iBAAKjB,UAAL,GAAmB;AAAA;AAAA,sCAASkB,WAAT,CAAqBC,cAArB,CAAoCF,KAApC,CAAnB;AACF,WAHD,MAGO;AACH/B,YAAAA,GAAG,CAAC,QAAD,CAAH;AACH;AACJ;;AA3DqB,O;;AAAbD,MAAAA,Y,CACFqB,S","sourcesContent":["import { log, Node } from \"cc\";\nimport { network } from \"../../model/RequestData\";\nimport { modelMgr } from \"../App\";\nimport { catCfgD } from \"./DataStruct\";\n\nexport class GlobalConfig {\n    static _instance: GlobalConfig;\n    /**\n     * 保存项目运行时状态\n     */\n\n    isProduction: boolean = false\n\n    jsonData: {};\n    public hasLogin: boolean = false;\n    hasInitGame: boolean = false;\n    LoginData: network.LoginResponse;\n    hasJsonsLoad: boolean = false;\n    haSelect: boolean;\n    currentChatTimes: number = 0\n    // curSelCat: network.SelectCatResponse;//首次登录使用\n    public nickName = \"\";\n    public playername = \"\";\n    public userId = \"\";\n    public curCatData:catCfgD;\n    catInRange: boolean = true;\n    catRootNode: Node = new Node();\n    testTools: boolean = false;\n    currentNpcIndex: any = 0;\n    static get instance() {\n        if (this._instance) {\n            return this._instance;\n        }\n\n    this._instance = new GlobalConfig();\n        this._instance.start();\n       this._instance.nickName = this._instance.playername = this._instance.userId = \"jack13\";\n        return this._instance;\n    }\n    start() {\n        this.jsonData = {\n            \"userId\": \"\"\n        };\n    }\n    getGlobalData(key: string) {\n        return this.jsonData[key];\n    }\n    setGlobalData(key: string, value: any) {\n        this.jsonData[key] = value;\n    }\n    public getCurCatId() {\n        if (!GlobalConfig.instance.LoginData?.data?.player?.catId) {\n            return 0;\n        } else {\n            return GlobalConfig.instance.LoginData.data.player.catId;\n        }\n    }\n    public setCurCatId(catid: number) {\n        if (GlobalConfig.instance.LoginData?.data) {\n            GlobalConfig.instance.LoginData.data.player.catId = catid;\n           this.curCatData =  modelMgr.configModel.getCatDataById(catid);\n        } else {\n            log(\"没有登录信息\");\n        }\n    }\n    \n}"]}