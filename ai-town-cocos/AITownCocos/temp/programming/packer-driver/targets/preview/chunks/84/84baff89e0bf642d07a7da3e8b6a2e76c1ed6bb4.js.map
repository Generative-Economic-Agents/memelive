{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/node_modules/lodash-es/_createFlow.js"],"names":["createFlow","fromRight","flatRest","funcs","length","index","prereq","LodashWrapper","prototype","thru","reverse","func","TypeError","FUNC_ERROR_TEXT","wrapper","getFuncName","funcName","data","getData","undefined","isLaziable","WRAP_ARY_FLAG","WRAP_CURRY_FLAG","WRAP_PARTIAL_FLAG","WRAP_REARG_FLAG","apply","args","arguments","value","isArray","plant","result","call"],"mappings":"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","sourcesContent":["import LodashWrapper from './_LodashWrapper.js';\nimport flatRest from './_flatRest.js';\nimport getData from './_getData.js';\nimport getFuncName from './_getFuncName.js';\nimport isArray from './isArray.js';\nimport isLaziable from './_isLaziable.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a `_.flow` or `_.flowRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new flow function.\n */\nfunction createFlow(fromRight) {\n  return flatRest(function(funcs) {\n    var length = funcs.length,\n        index = length,\n        prereq = LodashWrapper.prototype.thru;\n\n    if (fromRight) {\n      funcs.reverse();\n    }\n    while (index--) {\n      var func = funcs[index];\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n        var wrapper = new LodashWrapper([], true);\n      }\n    }\n    index = wrapper ? index : length;\n    while (++index < length) {\n      func = funcs[index];\n\n      var funcName = getFuncName(func),\n          data = funcName == 'wrapper' ? getData(func) : undefined;\n\n      if (data && isLaziable(data[0]) &&\n            data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n            !data[4].length && data[9] == 1\n          ) {\n        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n      } else {\n        wrapper = (func.length == 1 && isLaziable(func))\n          ? wrapper[funcName]()\n          : wrapper.thru(func);\n      }\n    }\n    return function() {\n      var args = arguments,\n          value = args[0];\n\n      if (wrapper && args.length == 1 && isArray(value)) {\n        return wrapper.plant(value).value();\n      }\n      var index = 0,\n          result = length ? funcs[index].apply(this, args) : value;\n\n      while (++index < length) {\n        result = funcs[index].call(this, result);\n      }\n      return result;\n    };\n  });\n}\n\nexport default createFlow;\n"]}