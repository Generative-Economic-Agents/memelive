{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/core-decorators/lib/debounce.js"],"names":["_cjsLoader","_req","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","err","Array","isArray","TypeError","default","debounce","_utils","DEFAULT_TIMEOUT","handleDescriptor","descriptor","_ref","_ref2","_ref2$","wait","_ref2$2","immediate","callback","SyntaxError","_this","_metaFor","metaFor","debounceTimeoutIds","timeout","callNow","args","clearTimeout","setTimeout","apply","_len","_key","decorate","_cjsExports","___esModule","__esModule","_default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from './private/utils';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n 'use strict';\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n\n var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n exports.default = debounce;\n\n var _utils = require('./private/utils');\n\n var DEFAULT_TIMEOUT = 300;\n\n function handleDescriptor(target, key, descriptor, _ref) {\n   var _ref2 = _slicedToArray(_ref, 2),\n       _ref2$ = _ref2[0],\n       wait = _ref2$ === undefined ? DEFAULT_TIMEOUT : _ref2$,\n       _ref2$2 = _ref2[1],\n       immediate = _ref2$2 === undefined ? false : _ref2$2;\n\n   var callback = descriptor.value;\n\n   if (typeof callback !== 'function') {\n     throw new SyntaxError('Only functions can be debounced');\n   }\n\n   return _extends({}, descriptor, {\n     value: function value() {\n       var _this = this;\n\n       var _metaFor = (0, _utils.metaFor)(this),\n           debounceTimeoutIds = _metaFor.debounceTimeoutIds;\n\n       var timeout = debounceTimeoutIds[key];\n       var callNow = immediate && !timeout;\n       var args = arguments;\n\n       clearTimeout(timeout);\n\n       debounceTimeoutIds[key] = setTimeout(function () {\n         delete debounceTimeoutIds[key];\n         if (!immediate) {\n           callback.apply(_this, args);\n         }\n       }, wait);\n\n       if (callNow) {\n         callback.apply(this, args);\n       }\n     }\n   });\n }\n\n function debounce() {\n   for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n     args[_key] = arguments[_key];\n   }\n\n   return (0, _utils.decorate)(handleDescriptor, args);\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  './private/utils': _req,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}