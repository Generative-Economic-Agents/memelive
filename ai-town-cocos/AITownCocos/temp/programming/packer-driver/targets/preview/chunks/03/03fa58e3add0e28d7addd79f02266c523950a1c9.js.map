{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/assets/src/module/main/MxpComponent.ts"],"names":["_decorator","Component","EditBox","Label","Node","Animation","Button","Slider","Toggle","RichText","GlobalConfig","modelMgr","observer","WebUtils","LoadingController","EventType","showMsg2","AudioManager","termsTxt","ccclass","property","CurrentVoice","MxpComponent","index","final","_edittype","start","localStorage","getItem","slider","progress","Number","isChecked","showBar","setScale","on","SOCKET_CHANGE_CATSDATA","freshinfo","termPageIndex","string","onDestroy","off","onEnable","ins","hideLoading","showTips","tips","active","scheduleOnce","setPageAdd","instance","playSound","term","setPageSlice","showTerm","termAll","hideTerm","clickStopVoice","setSoundVolume","setMusicVolume","setItem","String","setSliderBySliderValue","event","showVoiceControl","voiceControl","hideVoiceControl","maxAnimationPlay","Sprite_pass","getComponent","play","resetEdit","catid","getCurCatId","cat","mainModel","getServerCatsData","mbti","configModel","getCatDataById","Label_IQ","iq","Label_earnRate","rate","toFixed","Label_name","name","Label_bir","occupation","career","Label_pri","userName","cv","sprite_passtop","toLowerCase","getResouceImg","sprite_mxp","update","deltaTime","changeInfoOKClickHandler","edit","username","changecatInfoReq","Node_edit","openChgHandler","evt","data"],"mappings":"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","sourcesContent":["import { _decorator, Component, EditBox, Label, Node,Animation, Button, Touch, Event, SystemEvent, Slider, System, sys, Toggle, RichText } from 'cc';\nimport { GlobalConfig } from '../../game/config/GlobalConfig';\nimport { modelMgr, observer } from '../../game/App';\nimport { network } from '../../model/RequestData';\nimport { catServerD } from '../../game/config/DataStruct';\nimport BoswerUtils from '../../utils/BoswerUtils';\nimport WebUtils from '../../utils/WebUtils';\nimport { LoadingController } from '../../game/components/LoadingController';\nimport { EventType } from '../../EventType';\nimport { showMsg2 } from '../../core/message/MessageManager';\nimport { AudioManager } from '../../manager/AudioManager';\nimport { termsTxt } from '../../model/StaticTextConfig';\nconst { ccclass, property } = _decorator;\n\nexport const CurrentVoice = 'CurrentVoice'\n@ccclass('MxpComponent')\nexport class MxpComponent extends Component {\n    @property(Label)\n    public Label_bir: Label = null;\n    @property(Label)\n    public Label_pri: Label = null;\n    @property(Label)\n    public Label_name: Label = null;\n    @property(Node)\n    public sprite_mxp: Node = null;\n    @property(Node)\n    public Sprite_pass: Node = null;\n    @property(Node)\n    public sprite_passtop: Node = null;\n    @property(Node)\n    public Node_edit: Node = null;\n    @property(EditBox)\n    public edit: EditBox = null;\n\n    @property(Button)\n    public notice: Button = null;\n\n    @property(Node)\n    public tips: Node = null;\n    \n    @property(Label)\n    public Label_earnRate: Label = null;\n    @property(Label)\n    public Label_IQ: Label = null;\n\n    @property(Label)\n    public occupation: Label = null;\n\n    @property(Node)\n    public voiceControl: Node = null;\n\n    @property(Node)\n    public showBar: Node = null;\n\n    @property(Slider)\n    public slider: Slider = null;\n\n    @property(Toggle)\n    public Toggle: Toggle = null;\n\n    @property(Label)\n    public term: Label = null;\n\n    @property(RichText)\n    public termPageIndex: RichText = null;\n\n    index :number = 1\n    final :number = 4\n    @property(Node)\n    public termAll: Node = null;\n\n    start() {\n        if(localStorage.getItem(CurrentVoice)){\n            this.slider.progress = Number(localStorage.getItem(CurrentVoice))\n            if(this.slider.progress <= 0){\n                this.Toggle.isChecked = true\n            }else{\n                this.Toggle.isChecked = false\n            }\n            this.showBar.setScale(this.slider.progress, 1)\n        }\n\n\n        observer.on(EventType.SOCKET_CHANGE_CATSDATA, this.freshinfo, this);\n        // this.notice.node.on(SystemEvent.EventType.TOUCH_START, ()=>{\n        //     this.tips.active = true\n        // })\n        // this.notice.node.on(SystemEvent.EventType.TOUCH_END, ()=>{\n        //     this.tips.active = false\n        // })\n        this.termPageIndex.string = `<color=#B3C3B7>${this.index}</color> / <color=#290202>${this.final}</color>`\n    }\n    protected onDestroy(): void {\n        observer.off(EventType.SOCKET_CHANGE_CATSDATA, this.freshinfo, this);\n\n    }\n    protected onEnable(): void {\n        LoadingController.ins.hideLoading();\n        this.freshinfo();\n\n    }\n\n    showTips(){\n        this.tips.active = true\n        this.scheduleOnce(() => {\n            this.tips.active = false\n          }, 5);\n    }\n\n    setPageAdd(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        if(this.index + 1 > 4){\n            return\n        }\n        this.index = this.index + 1\n        this.term.string = termsTxt[this.index - 1]\n        this.termPageIndex.string = `<color=#B3C3B7>${this.index}</color> / <color=#290202>${this.final}</color>`\n    }\n\n    setPageSlice(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        if(this.index - 1 < 1){\n            return\n        }\n        this.index = this.index - 1\n        this.term.string = termsTxt[this.index - 1]\n        this.termPageIndex.string = `<color=#B3C3B7>${this.index}</color> / <color=#290202>${this.final}</color>`\n    }\n\n    showTerm(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.termAll.active = true\n    }\n\n    hideTerm(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.termAll.active = false\n    }\n\n\n    // checkVoiceClose(toggle: Toggle){\n    //     this.slider.progress = 0\n    //     this.showBar.setScale(0, 1)\n    //     AudioManager.instance.setSoundVolume(0)\n    //     AudioManager.instance.setMusicVolume(0)\n    // }\n\n    clickStopVoice(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        if(this.slider.progress <= 0 && this.Toggle.isChecked){\n            this.showBar.setScale(1, 1)\n            this.slider.progress = 1\n            //\n            AudioManager.instance.setSoundVolume(1)\n            AudioManager.instance.setMusicVolume(1)\n            localStorage.setItem(CurrentVoice, String(this.slider.progress))\n        }else{\n            this.slider.progress = 0\n            this.showBar.setScale(0, 1)\n            AudioManager.instance.setSoundVolume(0)\n            AudioManager.instance.setMusicVolume(0)\n            localStorage.setItem(CurrentVoice, String(this.slider.progress))\n        }\n    }\n\n\n    setSliderBySliderValue(event : Slider = null){\n        this.showBar.setScale(event.progress, 1)\n        //\n        AudioManager.instance.setSoundVolume(event.progress)\n        AudioManager.instance.setMusicVolume(event.progress)\n        localStorage.setItem(CurrentVoice, String(event.progress))\n        if(this.slider.progress <= 0){\n            this.Toggle.isChecked = true\n        }else{\n            this.Toggle.isChecked = false\n        }\n    }\n\n\n    showVoiceControl(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.voiceControl.active = true\n    }\n\n    hideVoiceControl(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.voiceControl.active = false\n    }\n\n    /**\n     * \n     */\n    private maxAnimationPlay(){\n        AudioManager.instance.playSound(\"maodemax\");\n        this.Sprite_pass.getComponent(Animation).play(\"gaizhang\");\n    }\n    private freshinfo() {\n        this.resetEdit();\n\n        let catid = GlobalConfig.instance.getCurCatId();\n        let cat: catServerD = modelMgr.mainModel.getServerCatsData(catid);\n        let mbti = modelMgr.configModel.getCatDataById(catid)?.mbti;\n\n        this.Label_IQ.string = `${cat.iq}`\n        this.Label_earnRate.string = `${cat.rate.toFixed(2)}`\n        this.Label_name.string = cat.name;\n        this.Label_bir.string = \"\" + mbti;\n        this.occupation.string = \"\" + cat.career ? cat.career : \"teacher\"\n        // this.Label_bir.string = \"\" + BoswerUtils.parseTime(cat.birthday, \"{y}-{m}-{d}\");\n        this.Label_pri.string = cat.userName;\n        if (cat.cv >= 100) {\n            this.Sprite_pass.active = true;\n            this.sprite_passtop.active = true;\n            this.maxAnimationPlay();\n        } else {\n            this.Sprite_pass.active = false;\n            this.sprite_passtop.active = false;\n        }\n        mbti = mbti.toLowerCase();\n        WebUtils.getResouceImg(`mingxinpian/${mbti}_mxp`, this.sprite_mxp);\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n    /**\n     * 修改猫咪信息；\n     */\n    public changeInfoOKClickHandler() {\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        if (!this.edit.string) {\n            showMsg2(\"invalid input\");\n            return;\n        }\n        let catid = GlobalConfig.instance.getCurCatId();\n        if (this._edittype == \"name\") {\n            if (this.Label_name.string == this.edit.string) {\n                this.resetEdit();\n                return;\n            }\n            this.Label_name.string = this.edit.string;\n        } else if (this._edittype == \"user\") {\n            if (this.Label_pri.string == this.edit.string) {\n               this.resetEdit();\n                return;\n            }\n            this.Label_pri.string = this.edit.string;\n        }\n        let name = this.Label_name.string;\n        let username = this.Label_pri.string;\n        let career = this.occupation.string\n        modelMgr.mainModel.changecatInfoReq(catid, name, username, career);\n\n    }\n    private resetEdit(){\n        this.Node_edit.active = false;\n        this.edit.string = \"\";\n\n    }\n    private _edittype: string;\n    public openChgHandler(evt, data) {\n        this.Node_edit.active = true;\n        this._edittype = data;\n    }\n\n}\n\n\n"]}