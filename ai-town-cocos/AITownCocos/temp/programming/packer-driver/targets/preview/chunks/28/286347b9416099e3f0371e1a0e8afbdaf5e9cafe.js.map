{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/assets/src/module/main/shop/CatEnjoyToolsItemComponent.ts"],"names":["_decorator","Component","Label","Node","Sprite","WebUtils","ShopPurchaseComponent","ToysInfo","Log","AudioManager","ccclass","property","TAG","CatEnjoyToolsItemComponent","_da","start","node","on","updateData","update","deltaTime","onDestroy","off","da","setScale","getResouceImg","storeId","id","itempic","Label_name","string","item","eName","price","String","log","clickHandler","evt","instance","playSound","buy_page","active","getComponent","setItemData"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;;AACtCC,MAAAA,Q;;AACEC,MAAAA,qB,iBAAAA,qB;;AAEAC,MAAAA,Q,iBAAAA,Q;;AACFC,MAAAA,G;;AACEC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBX,U;AAExBY,MAAAA,G,GAAM,4B;;4CAGCC,0B,WADZH,OAAO,CAAC,4BAAD,C,UAGHC,QAAQ,CAACR,IAAD,C,UAIRQ,QAAQ,CAACT,KAAD,C,UAERS,QAAQ,CAACP,MAAD,C,UAERO,QAAQ,CAACP,MAAD,C,UAERO,QAAQ,CAACR,IAAD,C,UAGRQ,QAAQ,CAACT,KAAD,C,2BAhBb,MACaW,0BADb,SACgDZ,SADhD,CAC0D;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAkB/Ca,GAlB+C;AAAA;;AAmBtDC,QAAAA,KAAK,GAAG;AACJ,eAAKC,IAAL,CAAUC,EAAV,CAAa,aAAb,EAA4B,KAAKC,UAAjC,EAA6C,IAA7C;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AACSC,QAAAA,SAAS,GAAS;AACxB,eAAKL,IAAL,CAAUM,GAAV,CAAc,aAAd,EAA6B,KAAKJ,UAAlC,EAA8C,IAA9C;AACH;AACD;AACJ;AACA;AACA;;;AACWA,QAAAA,UAAU,CAACK,EAAD,EAAwB;AACrC,eAAKT,GAAL,GAAWS,EAAX;AACA,eAAKP,IAAL,CAAUQ,QAAV,CAAmB,CAAnB,EAAqB,CAArB;;AACA,cAAI,KAAKV,GAAT,EAAc;AACd;AAAA;AAAA,sCAASW,aAAT,mBAAuCF,EAAE,CAACG,OAA1C,kBAA8DH,EAAE,CAACI,EAAjE,EAAuE,KAAKC,OAA5E;AACA,iBAAKC,UAAL,CAAgBC,MAAhB,GAAyB;AAAA;AAAA,sCAASP,EAAE,CAACQ,IAAH,CAAQ,CAAR,CAAT,EAAqBC,KAA9C;AACA,iBAAKC,KAAL,CAAWH,MAAX,GAAoBI,MAAM,CAACX,EAAE,CAACU,KAAJ,CAA1B;AACA;AAAA;AAAA,4BAAIE,GAAJ,CAAQvB,GAAR,EAAaW,EAAb;AACC;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACWa,QAAAA,YAAY,CAACC,GAAD,EAAMd,EAAN,EAAU;AACzB;AAAA;AAAA,4CAAae,QAAb,CAAsBC,SAAtB,CAAgC,eAAhC;;AACA,cAAI,KAAKzB,GAAT,EAAc;AACV,iBAAK0B,QAAL,CAAcC,MAAd,GAAuB,IAAvB;AACA,iBAAKD,QAAL,CAAcE,YAAd;AAAA;AAAA,gEAAkDC,WAAlD,CAA8D,KAAK7B,GAAnE;AAEH;;AACD;AAAA;AAAA,0BAAIqB,GAAJ,CAAQvB,GAAR,EAAa,OAAb,EAAsB,KAAKE,GAA3B;AACH;;AA1DqD,O;;;;;iBAG/B,I;;;;;;;iBAII,I;;;;;;;iBAEC,I;;;;;;;iBAEE,I;;;;;;;iBAEN,I;;;;;;;iBAGF,I","sourcesContent":["import { _decorator, Component, Label, Node, Sprite } from 'cc';\nimport WebUtils from '../../../utils/WebUtils';\nimport { ShopPurchaseComponent } from '../ShopPurchaseComponent';\nimport { CatEnjoyToolsData } from './CatEnjoyToolsDataType';\nimport { ToysInfo } from '../../../model/StaticTextConfig';\nimport Log from '../../../../../assets/src/utils/LogUtils'\nimport { AudioManager } from '../../../manager/AudioManager';\nconst { ccclass, property } = _decorator;\n\nconst TAG = 'CatEnjoyToolsItemComponent'\n\n@ccclass('CatEnjoyToolsItemComponent')\nexport class CatEnjoyToolsItemComponent extends Component {\n\n    @property(Node)\n    public itempic: Node = null;\n\n\n    @property(Label)\n    public Label_name: Label = null;\n    @property(Sprite)\n    public sprite_name: Label = null;\n    @property(Sprite)\n    public Sprite_select: Label = null;\n    @property(Node)\n    public buy_page: Node = null\n\n    @property(Label)\n    public price: Label = null;\n\n    public _da;\n    start() {\n        this.node.on(\"update_data\", this.updateData, this);\n    }\n\n    update(deltaTime: number) {\n\n    }\n    protected onDestroy(): void {\n        this.node.off(\"update_data\", this.updateData, this);\n    }\n    /**\n    * 视图更新\n    * @param da \n    */\n    public updateData(da: CatEnjoyToolsData) {\n        this._da = da;\n        this.node.setScale(1,1)\n        if (this._da) {\n        WebUtils.getResouceImg(`shopGoodsPic/${da.storeId}_shopItem_${da.id}`, this.itempic);\n        this.Label_name.string = ToysInfo[da.item[0]].eName\n        this.price.string = String(da.price)\n        Log.log(TAG, da)\n        }\n    }\n\n    /**\n     * 切换购买道具\n     * @param evt \n     * @param da \n     * @returns \n     */\n    public clickHandler(evt, da) {\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        if (this._da) {\n            this.buy_page.active = true\n            this.buy_page.getComponent(ShopPurchaseComponent).setItemData(this._da)\n\n        }\n        Log.log(TAG, 'click', this._da)\n    }\n\n}\n\n\n"]}