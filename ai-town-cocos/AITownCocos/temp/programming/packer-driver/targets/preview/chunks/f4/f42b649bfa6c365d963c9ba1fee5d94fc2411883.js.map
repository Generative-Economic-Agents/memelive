{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/assets/src/game/components/SpinBoxComponent.ts"],"names":["_decorator","Component","EditBox","ccclass","property","SpinBoxComponent","Number","temp","start","onLoad","textLabel","node","active","string","String","min","update","deltaTime","up","evt","num","max","emit","down","inputBegin","inputDone","isNaN"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAwBC,MAAAA,O,OAAAA,O;;;;;;;;;OACvC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;kCAGjBK,gB,WADZF,OAAO,CAAC,kBAAD,C,UAEHC,QAAQ,CAACF,OAAD,C,UAERE,QAAQ,CAACE,MAAD,C,UAERF,QAAQ,CAACE,MAAD,C,2BANb,MACaD,gBADb,SACsCJ,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAElB;AAFkB;;AAI5B;AAJ4B;;AAM5B;AAN4B,eAO5CM,IAP4C;AAAA;;AAS5CC,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,GAAG;AACL,eAAKC,SAAL,CAAeC,IAAf,CAAoBC,MAApB,GAA6B,IAA7B;AACA,eAAKF,SAAL,CAAeG,MAAf,GAAwBC,MAAM,CAAC,KAAKC,GAAN,CAA9B;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AACDC,QAAAA,EAAE,CAACC,GAAD,EAAMC,GAAN,EAAW;AACT;AACA,cAAIb,IAAI,GAAID,MAAM,CAAC,KAAKI,SAAL,CAAeG,MAAhB,CAAN,GAAgCP,MAAM,CAACc,GAAD,CAAlD;;AACA,cAAIb,IAAI,GAAG,KAAKc,GAAhB,EAAqB;AACjBd,YAAAA,IAAI,GAAG,KAAKc,GAAZ;AACH;;AAED,eAAKX,SAAL,CAAeG,MAAf,GAAwBC,MAAM,CAACP,IAAD,CAA9B;AACA,eAAKI,IAAL,CAAUW,IAAV,CAAe,cAAf,EAA8B,KAAKZ,SAAL,CAAeG,MAA7C;AACH;;AACDU,QAAAA,IAAI,CAACJ,GAAD,EAAMC,GAAN,EAAW;AACX;AACA,cAAIb,IAAI,GAAID,MAAM,CAAC,KAAKI,SAAL,CAAeG,MAAhB,CAAN,GAAgCP,MAAM,CAACc,GAAD,CAAlD;;AACA,cAAIb,IAAI,GAAG,KAAKQ,GAAhB,EAAqB;AACjBR,YAAAA,IAAI,GAAG,KAAKQ,GAAZ;AACH;;AACD,eAAKL,SAAL,CAAeG,MAAf,GAAwBC,MAAM,CAACP,IAAD,CAA9B;AACA,eAAKI,IAAL,CAAUW,IAAV,CAAe,cAAf,EAA8B,KAAKZ,SAAL,CAAeG,MAA7C;AACH;;AAIDW,QAAAA,UAAU,GAAG;AACT;AACA,eAAKjB,IAAL,GAAY,KAAKG,SAAL,CAAeG,MAA3B;AACH;;AAEDY,QAAAA,SAAS,GAAG;AACR;AACA,cAAIC,KAAK,CAACpB,MAAM,CAAC,KAAKI,SAAL,CAAeG,MAAhB,CAAP,CAAT,EAA0C;AACtC,iBAAKH,SAAL,CAAeG,MAAf,GAAwB,KAAKN,IAA7B,CADsC,CACiB;AAC1D,WAFD,MAGK,IAAID,MAAM,CAAC,KAAKI,SAAL,CAAeG,MAAhB,CAAN,GAAgC,KAAKQ,GAAzC,EAA8C;AAAQ;AACvD,iBAAKX,SAAL,CAAeG,MAAf,GAAwBC,MAAM,CAAC,KAAKO,GAAN,CAA9B;AACH,WAFI,MAGA,IAAIf,MAAM,CAAC,KAAKI,SAAL,CAAeG,MAAhB,CAAN,GAAgC,KAAKE,GAAzC,EAA8C;AAAQ;AACvD,iBAAKL,SAAL,CAAeG,MAAf,GAAwBC,MAAM,CAAC,KAAKC,GAAN,CAA9B;AACH;AACJ;;AA3D2C,O;;;;;iBAEvB,I;;;;;;;iBAEP,C;;;;;;;iBAEA,C","sourcesContent":["import { _decorator, Component, Node, Label, EditBox } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('SpinBoxComponent')\nexport class SpinBoxComponent extends Component {\n    @property(EditBox)\n    textLabel: EditBox = null;//输入文本框\n    @property(Number)\n    min: number = 0;//最小值\n    @property(Number)\n    max: number = 0;//最大值\n    temp: string;\n\n    start() {\n\n    }\n\n    onLoad() {\n        this.textLabel.node.active = true;\n        this.textLabel.string = String(this.min);\n    }\n\n    update(deltaTime: number) {\n\n    }\n    up(evt ,num) {\n        // 调高数字\n        let temp = (Number(this.textLabel.string) + Number(num));\n        if (temp > this.max) {\n            temp = this.max;\n        }\n        \n        this.textLabel.string = String(temp);\n        this.node.emit(\"update_money\",this.textLabel.string);\n    }\n    down(evt ,num) {\n        // 调低数字\n        let temp = (Number(this.textLabel.string) - Number(num));\n        if (temp < this.min) {\n            temp = this.min;\n        }\n        this.textLabel.string = String(temp);\n        this.node.emit(\"update_money\",this.textLabel.string);\n    }\n\n\n\n    inputBegin() {\n        // 输入开始\n        this.temp = this.textLabel.string;\n    };\n\n    inputDone() {\n        // 输入结束\n        if (isNaN(Number(this.textLabel.string))) {\n            this.textLabel.string = this.temp;                     // 如果输入非数字则数字不变\n        }\n        else if (Number(this.textLabel.string) > this.max) {       // 输入数字不能超过最大值\n            this.textLabel.string = String(this.max);\n        }\n        else if (Number(this.textLabel.string) < this.min) {       // 输入数字不能小于最小值\n            this.textLabel.string = String(this.min);\n        }\n    }\n}\n\n"]}