{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws-sdk/lib/model/operation.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","url","define","exports","require","module","__filename","__dirname","Shape","util","property","memoizedProperty","Operation","name","operation","options","self","api","http","endpoint","method","requestUri","authtype","endpointdiscovery","required","httpChecksumRequired","httpChecksum","requestChecksumRequired","input","create","type","output","list","errors","i","length","push","paginators","documentation","documentationUrl","idempotentMembers","members","hasOwnProperty","isIdempotent","hasEventStream","topLevelShape","payload","payloadMember","isEventStream","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from './shape';\nimport { __cjsMetaURL as _req0} from '../util';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var Shape = require('./shape');\n\n var util = require('../util');\n var property = util.property;\n var memoizedProperty = util.memoizedProperty;\n\n function Operation(name, operation, options) {\n   var self = this;\n   options = options || {};\n\n   property(this, 'name', operation.name || name);\n   property(this, 'api', options.api, false);\n\n   operation.http = operation.http || {};\n   property(this, 'endpoint', operation.endpoint);\n   property(this, 'httpMethod', operation.http.method || 'POST');\n   property(this, 'httpPath', operation.http.requestUri || '/');\n   property(this, 'authtype', operation.authtype || '');\n   property(\n     this,\n     'endpointDiscoveryRequired',\n     operation.endpointdiscovery ?\n       (operation.endpointdiscovery.required ? 'REQUIRED' : 'OPTIONAL') :\n     'NULL'\n   );\n\n   // httpChecksum replaces usage of httpChecksumRequired, but some APIs\n   // (s3control) still uses old trait.\n   var httpChecksumRequired = operation.httpChecksumRequired\n     || (operation.httpChecksum && operation.httpChecksum.requestChecksumRequired);\n   property(this, 'httpChecksumRequired', httpChecksumRequired, false);\n\n   memoizedProperty(this, 'input', function() {\n     if (!operation.input) {\n       return new Shape.create({type: 'structure'}, options);\n     }\n     return Shape.create(operation.input, options);\n   });\n\n   memoizedProperty(this, 'output', function() {\n     if (!operation.output) {\n       return new Shape.create({type: 'structure'}, options);\n     }\n     return Shape.create(operation.output, options);\n   });\n\n   memoizedProperty(this, 'errors', function() {\n     var list = [];\n     if (!operation.errors) return null;\n\n     for (var i = 0; i < operation.errors.length; i++) {\n       list.push(Shape.create(operation.errors[i], options));\n     }\n\n     return list;\n   });\n\n   memoizedProperty(this, 'paginator', function() {\n     return options.api.paginators[name];\n   });\n\n   if (options.documentation) {\n     property(this, 'documentation', operation.documentation);\n     property(this, 'documentationUrl', operation.documentationUrl);\n   }\n\n   // idempotentMembers only tracks top-level input shapes\n   memoizedProperty(this, 'idempotentMembers', function() {\n     var idempotentMembers = [];\n     var input = self.input;\n     var members = input.members;\n     if (!input.members) {\n       return idempotentMembers;\n     }\n     for (var name in members) {\n       if (!members.hasOwnProperty(name)) {\n         continue;\n       }\n       if (members[name].isIdempotent === true) {\n         idempotentMembers.push(name);\n       }\n     }\n     return idempotentMembers;\n   });\n\n   memoizedProperty(this, 'hasEventOutput', function() {\n     var output = self.output;\n     return hasEventStream(output);\n   });\n }\n\n function hasEventStream(topLevelShape) {\n   var members = topLevelShape.members;\n   var payload = topLevelShape.payload;\n\n   if (!topLevelShape.members) {\n     return false;\n   }\n\n   if (payload) {\n     var payloadMember = members[payload];\n     return payloadMember.isEventStream;\n   }\n\n   // check if any member is an event stream\n   for (var name in members) {\n     if (!members.hasOwnProperty(name)) {\n       if (members[name].isEventStream === true) {\n         return true;\n       }\n     }\n   }\n   return false;\n }\n\n /**\n  * @api private\n  */\n module.exports = Operation;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  './shape': _req,\n  '../util': _req0,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}