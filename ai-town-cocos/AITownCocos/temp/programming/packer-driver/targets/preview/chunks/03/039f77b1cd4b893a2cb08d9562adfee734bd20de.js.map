{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/assets/src/utils/BoswerUtils.ts"],"names":["BoswerUtils","log","sys","showMsg2","modelMgr","webCopyString","str","cb","input","el","document","createElement","value","setAttribute","style","position","left","fontSize","selection","getSelection","originalRange","rangeCount","getRangeAt","body","appendChild","select","selectionStart","selectionEnd","length","success","execCommand","err","removeChild","removeAllRanges","addRange","getQueryVariable","variable","query","window","location","search","substring","vars","split","i","pair","getLocalStorage","key","type","localStorage","getItem","JSON","parse","setLocalData","setItem","removeLocalData","removeItem","getParam","outputParam","mapurl","href","params","substr","forEach","item","keyValue","myBrowser","userAgent","navigator","indexOf","isWeixin","u","appVersion","wx","match","toString","toLowerCase","isIOS15","ver","is_qq","sUserAgent","test","getPhoneSys","app","isXiaomi","isAndroid","isIOS","getParamStr","obj","searchstr","hasOwnProperty","element","getParamByUrl","url","reg","RegExp","console","r","unescape","parseTime","time","cFormat","arguments","format","date","parseInt","replace","Date","formatObj","y","getFullYear","m","getMonth","d","getDate","h","getHours","getMinutes","s","getSeconds","a","getDay","time_str","result","padStart","copystring","textToCopy","isBrowser","clipboard","writeText","then","catch","error","configModel","getStrById","textarea","isNative"],"mappings":"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","sourcesContent":["import { log, sys } from \"cc\";\nimport { showMsg2 } from \"../core/message/MessageManager\";\nimport { modelMgr } from \"../game/App\";\n\nexport default class BoswerUtils {\n\n      //复制到系统剪切板\n      public static webCopyString(str: string, cb?: Function) {\n\n        var input = str + '';\n        const el = document.createElement('textarea');\n        el.value = input;\n        el.setAttribute('readonly', '');\n        // el.style.contain = 'strict';\n        el.style.position = 'absolute';\n        el.style.left = '-9999px';\n        el.style.fontSize = '12pt'; // Prevent zooming on iOS\n  \n        const selection = getSelection()!;\n        var originalRange = null;\n        if (selection.rangeCount > 0) {\n          originalRange = selection.getRangeAt(0);\n        }\n        document.body.appendChild(el);\n        el.select();\n        el.selectionStart = 0;\n        el.selectionEnd = input.length;\n  \n        var success = false;\n        try {\n          success = document.execCommand('copy');\n        }\n        catch (err) {\n  \n        }\n  \n        document.body.removeChild(el);\n  \n        if (originalRange) {\n          selection.removeAllRanges();\n          selection.addRange(originalRange);\n        }\n  \n        cb && cb(success);\n        return success;\n      }\n\n  /**\n   *\n   * @param variable\n   */\n  public static getQueryVariable(variable: string) {\n    var query = window.location.search.substring(1);\n    var vars = query.split(\"&\");\n    for (var i = 0; i < vars.length; i++) {\n      var pair = vars[i].split(\"=\");\n      if (pair[0] == variable) {\n        return pair[1];\n      }\n    }\n    return false;\n  }\n\n  public static getLocalStorage(key: string, type: string = \"object\"): any {\n    let str = window.localStorage.getItem(key);\n\n    if (type == \"string\") {\n      return str;\n    } else if (type == \"object\") {\n      if (!str) return null;\n      return JSON.parse(str);\n    }\n    return;\n  }\n  public static setLocalData(key: string, str: string) {\n    window.localStorage.setItem(key, str);\n  }\n  public static removeLocalData(key: string) {\n    window.localStorage.removeItem(key);\n  }\n  /**\n   * 获取url中的变量列表\n   */\n  public static getParam() {\n    const outputParam = {};\n    let mapurl = location.href; //\"https://mall.baidu.com/warrior/?taskId=bt2020-chip&singleTop=1&byRouter=1&noTitleBar=1\";\n    if (mapurl.length > 1) {\n      const params = location.search.substr(1).split(\"&\"); // mapurl.split('?')[1].split(\"&\");\n      params.forEach((item) => {\n        const keyValue = item.split(\"=\");\n        if (keyValue.length === 2) {\n          outputParam[keyValue[0]] = keyValue[1];\n        }\n      });\n      return outputParam;\n    }\n  }\n\n\n  public static myBrowser() {\n    var userAgent = navigator.userAgent; //取得浏览器的userAgent字符串\n    if (userAgent.indexOf(\"OPR\") > -1) {\n      return \"Opera\";\n    } //判断是否Opera浏览器 OPR/43.0.2442.991\n    if (userAgent.indexOf(\"Firefox\") > -1) {\n      return \"FF\";\n    } //判断是否Firefox浏览器  Firefox/51.0\n    if (userAgent.indexOf(\"Trident\") > -1) {\n      return \"IE\";\n    } //判断是否IE浏览器  Trident/7.0; rv:11.0\n    if (userAgent.indexOf(\"Edge\") > -1) {\n      return \"Edge\";\n    } //判断是否Edge浏览器  Edge/14.14393\n    if (userAgent.indexOf(\"Chrome\") > -1) {\n      return \"Chrome\";\n    } // Chrome/56.0.2924.87\n    if (userAgent.indexOf(\"Safari\") > -1) {\n      return \"Safari\";\n    } //判断是否Safari浏览器 AppleWebKit/534.57.2 Version/5.1.7 Safari/534.57.2\n    if (userAgent.indexOf(\"MicroMessenger\") > -1) {\n      return \"MicroMessenger\";\n    } //微信User-Agent\n    if (userAgent.indexOf(\"MicroMessenger\") > -1) {\n      return \"MicroMessenger\";\n    } //微信User-Agent\n    if (userAgent.indexOf(\"QQ/\") > -1) {\n      return \"PA QQ\";\n    } //qq\n    return null;\n  }\n  public static isWeixin() {\n    var u = navigator.appVersion;\n    var wx =\n      u.match(/MicroMessenger/i) &&\n      u\n        .match(/MicroMessenger/i)\n        .toString()\n        .toLowerCase() == \"micromessenger\";\n    return wx;\n  }\n\n  public static isIOS15() {\n    var str = navigator.userAgent.toLowerCase();\n    var ver = str.match(/cpu iphone os (.*?) like mac os/);\n    if (!ver) {\n      return false;\n    } else {\n      if (ver[1].indexOf(\"15\") != -1) return true;\n    }\n  }\n\n  public static is_qq() {\n    let sUserAgent: any = navigator.userAgent;\n    return /QQ\\/([\\d.]+) /i.test(sUserAgent) && !/miniprogram/i.test(sUserAgent)\n    // if (sUserAgent.match(/QQ/i) == 'qq') {\n    //         return true\n    // } else {\n    //         return false\n    // }\n  }\n\n  /**\n   * 判断手机型号\n   * @returns string \"andriod\"||\"ios\"\n   */\n  public static getPhoneSys() {\n    var u = navigator.userAgent,\n      app = navigator.appVersion;\n    var isXiaomi = u.indexOf(\"XiaoMi\") > -1; // 小米手机\n    var isAndroid = u.indexOf(\"Android\") > -1 || u.indexOf(\"Linux\") > -1; // 其它安卓\n    var isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); // ios\n    if (isAndroid) {\n      return \"android\";\n    } else if (isIOS) {\n      if (isXiaomi) {\n        return \"android\";\n      } else {\n        return \"ios\";\n      }\n    }\n  }\n  /**\n   *\n   * @param obj\n   */\n  public static getParamStr(obj: object) {\n    let searchstr = \"\";\n    for (let key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        let element = obj[key];\n        searchstr += key + \"=\" + element + \"&\";\n      }\n    }\n    searchstr = searchstr.substring(0, searchstr.length - 1);\n    return searchstr;\n  }\n\n  /**\n   *从url地址中获取根据参数名获取值\n   * @param url url字符串\n   * @param key 参数名\n   * @returns\n   * @author xingtong\n   */\n  public static getParamByUrl(url: string, key: string) {\n    var reg = new RegExp(\"(^|&)\" + key + \"=([^&]*)(&|$)\", \"i\");\n    if (url.indexOf(\"?\") != -1) {\n      url = url.split(\"?\")[1];\n    }\n    console.log(url);\n    var r = url.match(reg);\n    if (r != null) return unescape(r[2]);\n    return null;\n  }\n\n  public static parseTime(time, cFormat) {\n    if (arguments.length === 0 || !time) {\n      return null;\n    }\n    const format = cFormat || \"{y}-{m}-{d} {h}:{i}:{s}\";\n    let date;\n    if (typeof time === \"object\") {\n      date = time;\n    } else {\n      if (typeof time === \"string\") {\n        if (/^[0-9]+$/.test(time)) {\n          // support \"1548221490638\"\n          time = parseInt(time);\n        } else {\n          // support safari\n          // https://stackoverflow.com/questions/4310953/invalid-date-in-safari\n          time = time.replace(new RegExp(/-/gm), \"/\");\n        }\n      }\n\n      if (typeof time === \"number\" && time.toString().length === 10) {\n        time = time * 1000;\n      }\n      date = new Date(time);\n    }\n    const formatObj = {\n      y: date.getFullYear(),\n      m: date.getMonth() + 1,\n      d: date.getDate(),\n      h: date.getHours(),\n      i: date.getMinutes(),\n      s: date.getSeconds(),\n      a: date.getDay(),\n    };\n    const time_str = format.replace(/{([ymdhisa])+}/g, (result, key) => {\n      const value = formatObj[key];\n      // Note: getDay() returns 0 on Sunday\n      if (key === \"a\") {\n        return [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"][value];\n      }\n      return value.toString().padStart(2, \"0\");\n    });\n    return time_str;\n  }\n\n  public static copystring(textToCopy: string) {\n    if (sys.isBrowser) {\n      // 在 Web 平台上，使用 document.execCommand('copy') 方法将文本复制到剪贴板\n\n      if (navigator.clipboard) {\n        navigator.clipboard.writeText(textToCopy).then(() => {\n          log(`Copied text: ${textToCopy}`);\n          showMsg2(\"Link Copied!  Quick, share it with your friends to join in the fun.\")\n        }).catch((error) => {\n          // error(`Failed to copy text: ${error}`);\n          // showMsg2(\"权限不足，请手动输入:\" + textToCopy);\n          showMsg2(modelMgr.configModel.getStrById(10006)+textToCopy);\n\n          \n        });\n      } else if (document.execCommand) {\n        // 创建一个临时的 textarea 元素，并设置其内容为需要复制的文本\n        const textarea = document.createElement('textarea');\n        textarea.value = textToCopy;\n\n        // 将 textarea 元素添加到文档中\n        document.body.appendChild(textarea);\n\n        // 选中 textarea 元素中的文本\n        textarea.select();\n\n        // 将文本复制到剪贴板中\n        document.execCommand('copy');\n\n        // 将 textarea 元素从文档中移除\n        document.body.removeChild(textarea);\n        showMsg2(modelMgr.configModel.getStrById(10014));\n        // showMsg2(\"Link Copied!  Quick, share it with your friends to join in the fun.\");\n        log(`Copied text: ${textToCopy}`);\n      }\n\n    } else if (sys.isNative) {\n      // 在原生平台上，使用平台提供的 API 实现复制功能\n\n\n      // 调用平台提供的 API 将文本复制到剪贴板\n      // systemEvent.emit(Input.EventType.CLIPBOARD, textToCopy);\n      log(`Copied text: ${textToCopy}`);\n    }\n  }\n}\n\n"]}