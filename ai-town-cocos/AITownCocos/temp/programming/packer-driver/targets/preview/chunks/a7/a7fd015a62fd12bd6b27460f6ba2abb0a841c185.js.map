{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/xml2js/lib/builder.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","url","define","exports","require","module","__filename","__dirname","builder","defaults","escapeCDATA","requiresCDATA","wrapCDATA","hasProp","hasOwnProperty","entry","indexOf","replace","Builder","opts","key","ref","value","options","call","prototype","buildObject","rootObj","attrkey","charkey","render","rootElement","rootName","Object","keys","length","_this","element","obj","attr","child","index","cdata","raw","txt","Array","isArray","ele","up","att","toString","create","xmldec","doctype","headless","allowSurrogateChars","end","renderOpts","_cjsExports","_Builder"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from 'xmlbuilder';\nimport { __cjsMetaURL as _req0} from './defaults';\nlet _cjsExports;\nlet _Builder;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n // Generated by CoffeeScript 1.12.7\n (function() {\n   \"use strict\";\n   var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA,\n     hasProp = {}.hasOwnProperty;\n\n   builder = require('xmlbuilder');\n\n   defaults = require('./defaults').defaults;\n\n   requiresCDATA = function(entry) {\n     return typeof entry === \"string\" && (entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0);\n   };\n\n   wrapCDATA = function(entry) {\n     return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n   };\n\n   escapeCDATA = function(entry) {\n     return entry.replace(']]>', ']]]]><![CDATA[>');\n   };\n\n   exports.Builder = (function() {\n     function Builder(opts) {\n       var key, ref, value;\n       this.options = {};\n       ref = defaults[\"0.2\"];\n       for (key in ref) {\n         if (!hasProp.call(ref, key)) continue;\n         value = ref[key];\n         this.options[key] = value;\n       }\n       for (key in opts) {\n         if (!hasProp.call(opts, key)) continue;\n         value = opts[key];\n         this.options[key] = value;\n       }\n     }\n\n     Builder.prototype.buildObject = function(rootObj) {\n       var attrkey, charkey, render, rootElement, rootName;\n       attrkey = this.options.attrkey;\n       charkey = this.options.charkey;\n       if ((Object.keys(rootObj).length === 1) && (this.options.rootName === defaults['0.2'].rootName)) {\n         rootName = Object.keys(rootObj)[0];\n         rootObj = rootObj[rootName];\n       } else {\n         rootName = this.options.rootName;\n       }\n       render = (function(_this) {\n         return function(element, obj) {\n           var attr, child, entry, index, key, value;\n           if (typeof obj !== 'object') {\n             if (_this.options.cdata && requiresCDATA(obj)) {\n               element.raw(wrapCDATA(obj));\n             } else {\n               element.txt(obj);\n             }\n           } else if (Array.isArray(obj)) {\n             for (index in obj) {\n               if (!hasProp.call(obj, index)) continue;\n               child = obj[index];\n               for (key in child) {\n                 entry = child[key];\n                 element = render(element.ele(key), entry).up();\n               }\n             }\n           } else {\n             for (key in obj) {\n               if (!hasProp.call(obj, key)) continue;\n               child = obj[key];\n               if (key === attrkey) {\n                 if (typeof child === \"object\") {\n                   for (attr in child) {\n                     value = child[attr];\n                     element = element.att(attr, value);\n                   }\n                 }\n               } else if (key === charkey) {\n                 if (_this.options.cdata && requiresCDATA(child)) {\n                   element = element.raw(wrapCDATA(child));\n                 } else {\n                   element = element.txt(child);\n                 }\n               } else if (Array.isArray(child)) {\n                 for (index in child) {\n                   if (!hasProp.call(child, index)) continue;\n                   entry = child[index];\n                   if (typeof entry === 'string') {\n                     if (_this.options.cdata && requiresCDATA(entry)) {\n                       element = element.ele(key).raw(wrapCDATA(entry)).up();\n                     } else {\n                       element = element.ele(key, entry).up();\n                     }\n                   } else {\n                     element = render(element.ele(key), entry).up();\n                   }\n                 }\n               } else if (typeof child === \"object\") {\n                 element = render(element.ele(key), child).up();\n               } else {\n                 if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                   element = element.ele(key).raw(wrapCDATA(child)).up();\n                 } else {\n                   if (child == null) {\n                     child = '';\n                   }\n                   element = element.ele(key, child.toString()).up();\n                 }\n               }\n             }\n           }\n           return element;\n         };\n       })(this);\n       rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n         headless: this.options.headless,\n         allowSurrogateChars: this.options.allowSurrogateChars\n       });\n       return render(rootElement, rootObj).end(this.options.renderOpts);\n     };\n\n     return Builder;\n\n   })();\n\n }).call(this);\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n_Builder = module.exports.Builder;\n\n}, () => ({\n  'xmlbuilder': _req,\n  './defaults': _req0,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}