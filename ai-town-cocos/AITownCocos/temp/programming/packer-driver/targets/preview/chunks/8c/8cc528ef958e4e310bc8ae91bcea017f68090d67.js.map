{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/assets/src/model/jishi/JishiModel.ts"],"names":["JishiModel","_","BaseModel","GoumaiItemVO","ZhongziItemVO","storelist","_storelist","value","remove","item","amount","constructor","_buyzhongziArr","hasPlSell","hasPlSelect","hasSelectData","currentTabName","currentchushouTab","shoplist","_buyDaojiArr","_haveZhongziArr","items","seedId","name","restrict","quanta","quota","dimension","subType","icon","salePrice","sell","buyPrice","seeds","index","getBuyZhongzi","length","i","itemvo","info","suoyoudu","xilie","yanse","num","push","getBuyDaoju","getHaveZhongzi","pinji","saiji"],"mappings":"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","sourcesContent":["import * as _ from \"lodash-es\";\nimport { find } from \"lodash-es\";\nimport BaseModel from \"../../core/base/BaseModel\";\nimport { showMsg2 } from \"../../core/message/MessageManager\";\nimport { modelMgr } from \"../../game/App\";\nimport AxiosManager from \"../../manager/AxiosManager\";\nimport { JishiGoumaiTK } from \"../../module/main/jishi/JishiGoumaiTK\";\nimport { DataEvents } from \"../DataEvents\";\nimport GoumaiItemVO from \"./GoumaiItemVO\";\nimport ZhongziItemVO from \"./ZhongziItemVO\";\n\nexport default class JishiModel extends BaseModel {\n    private _buyzhongziArr: GoumaiItemVO[] = [];\n    hasPlSell: boolean;\n    hasPlSelect: boolean;\n    public hasSelectData: any[] = [];\n    currentTabName: string;\n    currentchushouTab: string;\n    private _storelist: any;\n    shoplist: any;\n\n    public get storelist(): any {\n        return this._storelist;\n    }\n    public set storelist(value: any) {\n        this._storelist = value;\n        _.remove(this._storelist, item => item[\"seeds\"].amount === 0);\n    }\n    constructor() {\n        super();\n        //netRsp.on(this);\n        this.shoplist ={items:[{ seedId: 1,name:\"猫爬架1\", restrict: 0, quanta: 10, quota: 100, dimension: 1, subType: 1, icon: \"\", salePrice: 10, sell: 1 ,amount:10,buyPrice:20},\n        { seedId: 2,name:\"猫爬架1\", restrict: 0, quanta: 10, quota: 100, dimension: 1, subType: 1, icon: \"\", salePrice: 10, sell: 1 ,amount:10,buyPrice:20},\n        { seedId: 3,name:\"猫爬架1\", restrict: 0, quanta: 10, quota: 100, dimension: 1, subType: 1, icon: \"\", salePrice: 10, sell: 1 ,amount:10,buyPrice:20},\n        { seedId: 4,name:\"猫爬架3\", restrict: 0, quanta: 10, quota: 100, dimension: 1, subType: 1, icon: \"\", salePrice: 10, sell: 1 ,amount:10,buyPrice:20},\n        { seedId: 5,name:\"猫爬架1\", restrict: 0, quanta: 10, quota: 100, dimension: 1, subType: 1, icon: \"\", salePrice: 10, sell: 1 ,amount:10,buyPrice:20},\n        { seedId: 6,name:\"猫爬架1\", restrict: 0, quanta: 10, quota: 100, dimension: 1, subType: 1, icon: \"\", salePrice: 10, sell: 1 ,amount:10,buyPrice:20},\n    ],\n        seeds:[{index:0},{index:0},{index:0},{index:0},{index:0}]\n    }; \n    }\n    /**\n     * 获取购买的种子列表\n     * @returns \n     */\n    public getBuyZhongzi() {\n        if (this._buyzhongziArr.length > 0) {\n            return this._buyzhongziArr;\n        }\n        for (let i = 0; i < 7; i++) {\n            let itemvo = new GoumaiItemVO();\n            itemvo.icon = \"\";\n            itemvo.name = \"种子\" + i;\n            itemvo.info = \"种子info\" + i;\n            itemvo.suoyoudu = i;\n            itemvo.xilie = i;\n            itemvo.yanse = i;\n            itemvo.num = 1000 + i;\n            this._buyzhongziArr.push(itemvo);\n        }\n        return this._buyzhongziArr;\n    }\n\n    private _buyDaojiArr:GoumaiItemVO[] = [];\n    \n    /**\n     * 获取购买道具列表\n     */\n    public getBuyDaoju(){\n        if (this._buyDaojiArr.length > 0) {\n            return this._buyDaojiArr;\n        }\n        for (let i = 0; i < 7; i++) {\n            let itemvo = new GoumaiItemVO();\n            itemvo.icon = \"\";\n            itemvo.name = \"道具\" + i;\n            itemvo.info = \"道具info\" + i;\n            itemvo.suoyoudu = i;\n            itemvo.xilie = i;\n            itemvo.yanse = i;\n            itemvo.num = 1000 + i;\n            this._buyDaojiArr.push(itemvo);\n        }\n        return this._buyDaojiArr;\n    }\n\n    private _haveZhongziArr:ZhongziItemVO[] =[];\n    /**\n     * 获取已拥有种子列表\n     * @returns \n     */\n    public getHaveZhongzi(){\n        if (this._haveZhongziArr.length > 0) {\n            return this._haveZhongziArr;\n        }\n        for (let i = 0; i < 7; i++) {\n            let itemvo = new ZhongziItemVO();\n            itemvo.icon = \"\";\n            itemvo.name = \"have种子\" + i;\n            itemvo.xilie = i;\n            itemvo.yanse = i;\n            itemvo.pinji = i;\n            itemvo.saiji = i;\n            itemvo.num = 1000 + i;\n            this._haveZhongziArr.push(itemvo);\n        }\n        return this._buyDaojiArr;\n    }\n\n}"]}