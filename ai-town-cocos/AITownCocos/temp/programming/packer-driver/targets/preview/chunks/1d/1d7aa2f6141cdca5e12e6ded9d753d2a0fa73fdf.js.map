{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/caseless/index.js"],"names":["_cjsLoader","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","Caseless","dict","prototype","set","name","value","clobber","i","has","keys","Object","toLowerCase","length","get","result","_key","headers","forEach","key","swap","Error","del","httpify","resp","c","setHeader","hasHeader","getHeader","removeHeader","_cjsExports","_httpify"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nlet _cjsExports;\nlet _httpify;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n function Caseless (dict) {\n   this.dict = dict || {}\n }\n Caseless.prototype.set = function (name, value, clobber) {\n   if (typeof name === 'object') {\n     for (var i in name) {\n       this.set(i, name[i], value)\n     }\n   } else {\n     if (typeof clobber === 'undefined') clobber = true\n     var has = this.has(name)\n\n     if (!clobber && has) this.dict[has] = this.dict[has] + ',' + value\n     else this.dict[has || name] = value\n     return has\n   }\n }\n Caseless.prototype.has = function (name) {\n   var keys = Object.keys(this.dict)\n     , name = name.toLowerCase()\n     ;\n   for (var i=0;i<keys.length;i++) {\n     if (keys[i].toLowerCase() === name) return keys[i]\n   }\n   return false\n }\n Caseless.prototype.get = function (name) {\n   name = name.toLowerCase()\n   var result, _key\n   var headers = this.dict\n   Object.keys(headers).forEach(function (key) {\n     _key = key.toLowerCase()\n     if (name === _key) result = headers[key]\n   })\n   return result\n }\n Caseless.prototype.swap = function (name) {\n   var has = this.has(name)\n   if (has === name) return\n   if (!has) throw new Error('There is no header than matches \"'+name+'\"')\n   this.dict[name] = this.dict[has]\n   delete this.dict[has]\n }\n Caseless.prototype.del = function (name) {\n   var has = this.has(name)\n   return delete this.dict[has || name]\n }\n\n module.exports = function (dict) {return new Caseless(dict)}\n module.exports.httpify = function (resp, headers) {\n   var c = new Caseless(headers)\n   resp.setHeader = function (key, value, clobber) {\n     if (typeof value === 'undefined') return\n     return c.set(key, value, clobber)\n   }\n   resp.hasHeader = function (key) {\n     return c.has(key)\n   }\n   resp.getHeader = function (key) {\n     return c.get(key)\n   }\n   resp.removeHeader = function (key) {\n     return c.del(key)\n   }\n   resp.headers = c.dict\n   return c\n }\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n_httpify = module.exports.httpify;\n\n}, {});\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}