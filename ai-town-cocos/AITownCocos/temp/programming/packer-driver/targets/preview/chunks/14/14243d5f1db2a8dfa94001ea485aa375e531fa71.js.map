{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws-sdk/lib/dynamodb/translator.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","url","define","exports","require","module","__filename","__dirname","util","convert","Translator","options","attrValue","convertEmptyValues","Boolean","wrapNumbers","prototype","translateInput","value","shape","mode","translate","translateOutput","self","undefined","type","translateStructure","translateMap","translateList","translateScalar","structure","struct","each","name","memberShape","members","result","list","out","arrayEach","member","push","map","key","toType","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '../core';\nimport { __cjsMetaURL as _req0} from './converter';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var util = require('../core').util;\n var convert = require('./converter');\n\n var Translator = function(options) {\n   options = options || {};\n   this.attrValue = options.attrValue;\n   this.convertEmptyValues = Boolean(options.convertEmptyValues);\n   this.wrapNumbers = Boolean(options.wrapNumbers);\n };\n\n Translator.prototype.translateInput = function(value, shape) {\n   this.mode = 'input';\n   return this.translate(value, shape);\n };\n\n Translator.prototype.translateOutput = function(value, shape) {\n   this.mode = 'output';\n   return this.translate(value, shape);\n };\n\n Translator.prototype.translate = function(value, shape) {\n   var self = this;\n   if (!shape || value === undefined) return undefined;\n\n   if (shape.shape === self.attrValue) {\n     return convert[self.mode](value, {\n       convertEmptyValues: self.convertEmptyValues,\n       wrapNumbers: self.wrapNumbers,\n     });\n   }\n   switch (shape.type) {\n     case 'structure': return self.translateStructure(value, shape);\n     case 'map': return self.translateMap(value, shape);\n     case 'list': return self.translateList(value, shape);\n     default: return self.translateScalar(value, shape);\n   }\n };\n\n Translator.prototype.translateStructure = function(structure, shape) {\n   var self = this;\n   if (structure == null) return undefined;\n\n   var struct = {};\n   util.each(structure, function(name, value) {\n     var memberShape = shape.members[name];\n     if (memberShape) {\n       var result = self.translate(value, memberShape);\n       if (result !== undefined) struct[name] = result;\n     }\n   });\n   return struct;\n };\n\n Translator.prototype.translateList = function(list, shape) {\n   var self = this;\n   if (list == null) return undefined;\n\n   var out = [];\n   util.arrayEach(list, function(value) {\n     var result = self.translate(value, shape.member);\n     if (result === undefined) out.push(null);\n     else out.push(result);\n   });\n   return out;\n };\n\n Translator.prototype.translateMap = function(map, shape) {\n   var self = this;\n   if (map == null) return undefined;\n\n   var out = {};\n   util.each(map, function(key, value) {\n     var result = self.translate(value, shape.value);\n     if (result === undefined) out[key] = null;\n     else out[key] = result;\n   });\n   return out;\n };\n\n Translator.prototype.translateScalar = function(value, shape) {\n   return shape.toType(value);\n };\n\n /**\n  * @api private\n  */\n module.exports = Translator;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  '../core': _req,\n  './converter': _req0,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}