{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws-sdk/lib/xml/builder.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","url","define","exports","require","module","__filename","__dirname","util","XmlNode","XmlText","XmlBuilder","prototype","toXML","params","shape","rootElement","noEmpty","xml","applyNamespaces","serialize","children","length","toString","value","type","serializeStructure","serializeMap","serializeList","serializeScalar","arrayEach","memberNames","memberName","memberShape","members","location","name","undefined","isXmlAttribute","addAttribute","flattened","element","addChildNode","map","xmlKey","key","xmlValue","each","entry","entryKey","entryValue","list","member","toWireFormat","isRoot","uri","prefix","xmlNamespaceUri","xmlNamespacePrefix","api","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '../util';\nimport { __cjsMetaURL as _req0} from './xml-node';\nimport { __cjsMetaURL as _req1} from './xml-text';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var util = require('../util');\n var XmlNode = require('./xml-node').XmlNode;\n var XmlText = require('./xml-text').XmlText;\n\n function XmlBuilder() { }\n\n XmlBuilder.prototype.toXML = function(params, shape, rootElement, noEmpty) {\n   var xml = new XmlNode(rootElement);\n   applyNamespaces(xml, shape, true);\n   serialize(xml, params, shape);\n   return xml.children.length > 0 || noEmpty ? xml.toString() : '';\n };\n\n function serialize(xml, value, shape) {\n   switch (shape.type) {\n     case 'structure': return serializeStructure(xml, value, shape);\n     case 'map': return serializeMap(xml, value, shape);\n     case 'list': return serializeList(xml, value, shape);\n     default: return serializeScalar(xml, value, shape);\n   }\n }\n\n function serializeStructure(xml, params, shape) {\n   util.arrayEach(shape.memberNames, function(memberName) {\n     var memberShape = shape.members[memberName];\n     if (memberShape.location !== 'body') return;\n\n     var value = params[memberName];\n     var name = memberShape.name;\n     if (value !== undefined && value !== null) {\n       if (memberShape.isXmlAttribute) {\n         xml.addAttribute(name, value);\n       } else if (memberShape.flattened) {\n         serialize(xml, value, memberShape);\n       } else {\n         var element = new XmlNode(name);\n         xml.addChildNode(element);\n         applyNamespaces(element, memberShape);\n         serialize(element, value, memberShape);\n       }\n     }\n   });\n }\n\n function serializeMap(xml, map, shape) {\n   var xmlKey = shape.key.name || 'key';\n   var xmlValue = shape.value.name || 'value';\n\n   util.each(map, function(key, value) {\n     var entry = new XmlNode(shape.flattened ? shape.name : 'entry');\n     xml.addChildNode(entry);\n\n     var entryKey = new XmlNode(xmlKey);\n     var entryValue = new XmlNode(xmlValue);\n     entry.addChildNode(entryKey);\n     entry.addChildNode(entryValue);\n\n     serialize(entryKey, key, shape.key);\n     serialize(entryValue, value, shape.value);\n   });\n }\n\n function serializeList(xml, list, shape) {\n   if (shape.flattened) {\n     util.arrayEach(list, function(value) {\n       var name = shape.member.name || shape.name;\n       var element = new XmlNode(name);\n       xml.addChildNode(element);\n       serialize(element, value, shape.member);\n     });\n   } else {\n     util.arrayEach(list, function(value) {\n       var name = shape.member.name || 'member';\n       var element = new XmlNode(name);\n       xml.addChildNode(element);\n       serialize(element, value, shape.member);\n     });\n   }\n }\n\n function serializeScalar(xml, value, shape) {\n   xml.addChildNode(\n     new XmlText(shape.toWireFormat(value))\n   );\n }\n\n function applyNamespaces(xml, shape, isRoot) {\n   var uri, prefix = 'xmlns';\n   if (shape.xmlNamespaceUri) {\n     uri = shape.xmlNamespaceUri;\n     if (shape.xmlNamespacePrefix) prefix += ':' + shape.xmlNamespacePrefix;\n   } else if (isRoot && shape.api.xmlNamespaceUri) {\n     uri = shape.api.xmlNamespaceUri;\n   }\n\n   if (uri) xml.addAttribute(prefix, uri);\n }\n\n /**\n  * @api private\n  */\n module.exports = XmlBuilder;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  '../util': _req,\n  './xml-node': _req0,\n  './xml-text': _req1,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}