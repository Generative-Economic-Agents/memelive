{"version":3,"sources":["file:///Users/feiwang/cutepet/assets/src/module/main/catWork/workSelectCatItemComponent.ts"],"names":["_decorator","Component","Label","Node","WebUtils","modelMgr","CatWorkingComponent","Log","AudioManager","ccclass","property","TAG","workSelectCatItemComponent","_da","start","node","on","updateData","update","deltaTime","onDestroy","off","da","catName","string","name","occupationTxt","career","energyTxt","rate","toFixed","mbti","configModel","getCatDataById","id","toLowerCase","getResouceImg","catPic","setScale","log","clickAvatarCat","instance","playSound","energyTxtInfo","selectedCatPic","selectedCatPicGuide","preWorkPageNode","getComponent","setPreWorkData","toyClickShowUseBtn"],"mappings":"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","sourcesContent":["import { _decorator, Button, Component, Label, Node, Sprite } from 'cc';\nimport WebUtils from '../../../utils/WebUtils';\nimport { modelMgr, observer, socket } from '../../../game/App';\nimport { GlobalConfig } from '../../../game/config/GlobalConfig';\nimport { showMsg2 } from '../../../core/message/MessageManager';\nimport { network } from '../../../model/RequestData';\nimport { EventType } from '../../../EventType';\nimport { catCfgD, catInfo, catServerD } from '../../../game/config/DataStruct';\nimport { ToysInfo } from '../../../model/StaticTextConfig';\nimport { ToyDataType } from '../shop/CatEnjoyToolsDataType';\nimport { CatWorkingComponent } from '../../../game/components/CatWorkingComponent';\nimport Log from '../../../../../assets/src/utils/LogUtils'\nimport { AudioManager } from '../../../manager/AudioManager';\nconst { ccclass, property } = _decorator;\n\nconst TAG = 'workSelectCatItemComponent'\n\n@ccclass('workSelectCatItemComponent')\nexport class workSelectCatItemComponent extends Component {\n\n    @property(Node)\n    public catPic: Node = null;\n\n    @property(Label)\n    public catName: Label = null;\n\n    @property(Label)\n    public occupationTxt: Label = null;\n\n    @property(Label)\n    public energyTxt: Label = null;\n\n    @property(Label)\n    public energyTxtInfo: Label = null;\n\n    @property(Node)\n    public preWorkPageNode: Node = null;\n\n    @property(Node)\n    public selectedCatPic: Node = null;\n\n    //引导\n    @property(Node)\n    public selectedCatPicGuide: Node = null;\n\n    public _da : catInfo;\n    start() {\n        this.node.on(\"update_data\", this.updateData, this);\n    }\n\n    update(deltaTime: number) {\n\n    }\n    protected onDestroy(): void {\n        this.node.off(\"update_data\", this.updateData, this);\n    }\n    /**\n    * 视图更新\n    * @param da \n    */\n    public updateData(da: catInfo) {\n        if(da){\n            this._da = da;\n            this.catName.string = da.name\n            this.occupationTxt.string = `${da.career}`\n            this.energyTxt.string = da.rate.toFixed(0)\n            let mbti = modelMgr.configModel.getCatDataById(da.id)?.mbti;\n            mbti = mbti.toLowerCase();\n            WebUtils.getResouceImg(`mingxinpian/${mbti}_mxp`, this.catPic);\n            this.node.setScale(1, 1)\n            Log.log(TAG, da)\n        }\n    }\n\n    /**\n    选择某一个猫\n     */\n\n    clickAvatarCat(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        let mbti = modelMgr.configModel.getCatDataById(this._da.id)?.mbti;\n        mbti = mbti.toLowerCase();\n        this.energyTxtInfo.string = this._da.rate.toFixed(0)\n        WebUtils.getResouceImg(`mingxinpian/${mbti}_mxp`, this.selectedCatPic);\n        WebUtils.getResouceImg(`mingxinpian/${mbti}_mxp`, this.selectedCatPicGuide);\n        this.preWorkPageNode.getComponent(CatWorkingComponent).setPreWorkData(this._da)\n\n\n    }\n\n    public toyClickShowUseBtn() {\n\n    }\n\n}\n\n\n"]}