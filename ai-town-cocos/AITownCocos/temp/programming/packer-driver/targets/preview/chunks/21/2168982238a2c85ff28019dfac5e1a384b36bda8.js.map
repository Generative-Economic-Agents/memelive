{"version":3,"sources":["file:///Users/feiwang/cutepet/assets/src/module/main/getcat/GetCatComponent.ts"],"names":["_decorator","Component","EditBox","Label","Node","randomRangeInt","sp","Vec3","modelMgr","socket","uiMgr","WebUtils","showMsgWithMask","CatSpineMap","namePool","occupationPool","network","loadRemoteSpineRes","AudioManager","ccclass","property","GetCatComponent","Skeleton","postion","isfp","x","y","entp","intp","intj","esfp","estj","infj","istp","istj","isfj","estp","esfj","infp","entj","enfp","enfj","currentName","currentOccupation","openCat","start","edit1Txt1","setPosition","edit1Txt2","edit2Txt1","edit2Txt2","secondNode","active","firstNode","length","setDefaultInfo","update","deltaTime","maodan","mainModel","taskmaodan","qiandaoResp","data","itemValue","catMbitInfo","configModel","getCatDataById","cat","getServerCatsData","json","changeCatInfoRequest","catId","id","name","userName","career","sendWebSocketBinary","gotoSecondClickHandler","getCatResponse","instance","playSound","Label_name","string","mbti","Label_type","iq","toLowerCase","getResouceImg","Sprite_catpic","pos","atlas","img","catSke","setAnimation","submitName","nameEditBox","nameLabel","node","nameBg","occupationEditBox","nameSubmitBtn","occupationSubmitBtn","submitOccupation","occupationLabel","occupationBg","okButton","getRandomName","getRandomOccupation","closeself","removeParent"],"mappings":"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","sourcesContent":["import { _decorator, Component, EditBox, Label, Node, randomRangeInt, sp, Sprite, Vec3 } from 'cc';\nimport { modelMgr, socket, uiMgr } from '../../../game/App';\nimport WebUtils from '../../../utils/WebUtils';\nimport { showMsg2 } from '../../../core/message/MessageManager';\nimport { showMsgWithMask } from '../../../core/message/MaskToastManager';\nimport { CatSpineMap, namePool, occupationPool } from '../../../model/StaticTextConfig';\nimport { network } from '../../../model/RequestData';\nimport { catServerD } from '../../../game/config/DataStruct';\nimport { loadRemoteSpineRes } from '../../../utils/loadSpineData';\nimport { AudioManager } from '../../../manager/AudioManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GetCatComponent')\nexport class GetCatComponent extends Component {\n    @property(Node)\n    public firstNode: Node = null;\n\n    @property(Node)\n    public secondNode: Node = null;\n    @property(Label)\n    public Label_name: Label = null;\n    @property(Label)\n    public Label_type: Label = null;\n    @property(Node)\n    public Sprite_catpic: Node = null;\n\n    @property(Node)\n    public nameSubmitBtn: Node = null;\n    @property(Node)\n    public occupationSubmitBtn: Node = null;\n    @property(Node)\n    public okButton: Node = null;\n\n    @property(EditBox)\n    public nameEditBox: EditBox = null;\n    @property(Node)\n    public nameBg: Node = null;\n\n    @property(EditBox)\n    public occupationEditBox: EditBox = null;\n    @property(Node)\n    public occupationBg: Node = null;\n\n    @property(Label)\n    public nameLabel: Label = null;\n    @property(Label)\n    public occupationLabel: Label = null;\n\n\t@property(sp.Skeleton) \n    public catSke: sp.Skeleton = null;\n\n    @property(Node)\n    public edit1Txt1: Node = null;\n    @property(Node)\n    public edit1Txt2: Node = null;\n\n    @property(Node)\n    public edit2Txt1: Node = null;\n    @property(Node)\n    public edit2Txt2: Node = null;\n\n    public postion = {\n        isfp :{x:141,y:423},\n        entp   :{x:155  ,y:341},\n        intp   :{x:229 ,y:35},\n        intj  :{x:170 ,y:372},\n        esfp   :{x:152 ,y:363},\n        estj  :{x:181 ,y:350},\n        infj  :{x:181  ,y:327},\n        istp  :{x:109 ,y:319},\n        istj   :{x:144 ,y:343},\n        isfj  :{x:155 ,y:319},\n        estp :{x:137,y:392},\n        esfj :{x:131,y:350},\n        infp :{x:147,y:423},\n        entj :{x:192,y:326},\n        enfp :{x:144,y:350},\n        enfj :{x:99,y:331},\n        \n    };\n    currentName: string = '';\n    currentOccupation: string = '';\n    openCat:catServerD = null;\n\n//     estp 137 392\n// esfj 131 350\n// infp  147  423\n// entj  192 326\n// enfp 144 350\n// enfj  99 331\n\n    start() {\n        this.edit1Txt1.setPosition(0,0)\n        this.edit1Txt2.setPosition(0,0)\n        this.edit2Txt1.setPosition(0,0)\n        this.edit2Txt2.setPosition(0,0)\n        this.secondNode.active = false;\n        this.firstNode.active = true;\n        this.currentOccupation = occupationPool[randomRangeInt(0, occupationPool.length)]\n        this.setDefaultInfo()\n    }\n\n    update(deltaTime: number) {\n\n    }\n\n    setDefaultInfo(){\n        let maodan = modelMgr.mainModel.taskmaodan;\n        if(!maodan){\n            maodan = modelMgr.mainModel.qiandaoResp.data.itemValue;\n        }\n        let catMbitInfo = modelMgr.configModel.getCatDataById(maodan);//获取新猫咪\n        let cat = modelMgr.mainModel.getServerCatsData(maodan);//获取新猫咪\n        this.openCat = cat\n        if (cat) {\n            let json = new network.changeCatInfoRequest();\n            json.data.catId = cat.id;\n            json.data.name = cat.name;\n            json.data.userName = 'Human';\n            json.data.career = this.currentOccupation;\n            socket.sendWebSocketBinary(json);\n        }\n    }\n    /**\n    * \n    */\n    public gotoSecondClickHandler() {\n        this.firstNode.active = false;\n        this.secondNode.active = true;\n        this.getCatResponse();\n    }\n    /**\n     * 刷新猫咪数据\n     */\n    private getCatResponse(){\n        let maodan = modelMgr.mainModel.taskmaodan;\n        if(!maodan){\n            maodan = modelMgr.mainModel.qiandaoResp.data.itemValue;\n        }\n        let catMbitInfo = modelMgr.configModel.getCatDataById(maodan);//获取新猫咪\n        let cat = modelMgr.mainModel.getServerCatsData(maodan);//获取新猫咪\n        this.openCat = cat\n        if (cat) {\n\n            let json = new network.changeCatInfoRequest();\n            json.data.catId = cat.id;\n            json.data.name = cat.name;\n            json.data.userName = 'Human';\n            json.data.career = this.currentOccupation;\n            socket.sendWebSocketBinary(json);\n\n            AudioManager.instance.playSound(\"new_getCat\");\n            this.Label_name.string = `${catMbitInfo.mbti}`;\n            // this.Label_type.string = cat.mbti;\n            this.Label_type.string = `${cat.iq}`;\n           let mbti = catMbitInfo.mbti.toLowerCase();\n            WebUtils.getResouceImg(`catspic/${mbti}_zjm`, this.Sprite_catpic);\n            let pos = this.postion[mbti];\n            if(pos){\n                this.Sprite_catpic.setPosition(new Vec3(pos.x,-pos.y));\n            }\n            if(CatSpineMap[maodan]?.json){\n                loadRemoteSpineRes(CatSpineMap[maodan].atlas, CatSpineMap[maodan].json, CatSpineMap[maodan].img, this.catSke, null, () => {\n                    this.catSke.setAnimation(0 ,'idle', true)\n                    this.Sprite_catpic.active = false\n                })\n            }\n        }\n        modelMgr.mainModel.qiandaoResp = null;\n        modelMgr.mainModel.taskmaodan = 0;\n    }\n\n    submitName(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        if(!this.nameEditBox.string.length){\n            showMsgWithMask('Please enter name')\n            return\n        }\n        this.currentName = this.nameEditBox.string\n        this.nameLabel.string = this.currentName\n        this.nameEditBox.node.active = false\n        this.nameBg.active = true\n\n        this.occupationEditBox.node.active = true\n        this.nameSubmitBtn.active = false\n        this.occupationSubmitBtn.active = true\n        this.edit2Txt1.setPosition(0,0)\n        this.edit2Txt2.setPosition(0,0)\n    }\n\n    submitOccupation(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        if(!this.nameEditBox.string.length){\n            showMsgWithMask('Please enter occupation')\n            return\n        }\n        this.currentOccupation = this.occupationEditBox.string\n        this.occupationLabel.string = this.currentOccupation\n        this.occupationEditBox.node.active = false\n        this.occupationBg.active = true\n\n        this.occupationSubmitBtn.active = false\n        this.okButton.active = true\n    }\n\n    getRandomName(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.nameEditBox.string = namePool[randomRangeInt(0, namePool.length)]\n    }\n\n    getRandomOccupation(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.occupationEditBox.string = occupationPool[randomRangeInt(0, occupationPool.length)]\n    }\n\n    public closeself() {\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        let json = new network.changeCatInfoRequest();\n        json.data.catId = this.openCat.id;\n        json.data.name = this.currentName;\n        json.data.userName = this.openCat.userName;\n        json.data.career = this.currentOccupation;\n        socket.sendWebSocketBinary(json);\n        uiMgr.removeParent(\"prefabs/pre_getcat\");\n    }\n}\n\n\n"]}