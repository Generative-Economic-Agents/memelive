{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/assets/src/game/components/TabViewComponent.ts"],"names":["_decorator","Component","Node","Label","WebUtils","ccclass","property","TabViewComponent","type","grpArr","_isShow","start","name","index","setListData","onEnable","i","toggleArrs","length","on","itemTouchendHandler","showList","onDisable","off","isshow","togglecontainer","active","getResouceImg","sprite_jiantou","topClickHandler","evt","tar","target","selectInd","label_current","string","update","deltaTime","onDestroy"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Label } from 'cc';\nimport WebUtils from '../../utils/WebUtils';\nimport { ListViewCtrl2 } from './listViewCtrl2';\nconst { ccclass, property } = _decorator;\n\n@ccclass('TabViewComponent')\nexport class TabViewComponent extends Component {\n    @property(Node)\n    public sprite_jiantou: Node = null;\n\n    @property(Label)\n    public label_current: Label = null;\n    private grpArr = [];\n\n    @property({ type: [Node] })\n    public toggleArrs: Node[] = [];\n\n    @property(Node)\n    public togglecontainer: Node = null;\n\n\n    private _isShow: boolean;\n    start() {\n        this.grpArr = [ { name: \"稀有度\", index: 0 }, { name: \"颜色\", index: 1 }, { name: \"系列\", index: 2 }];\n        this.setListData(0);\n\n    }\n\n    onEnable() {\n        for (let i = 0; i < this.toggleArrs.length; i++) {\n            this.toggleArrs[i].on(\"toggle\", this.itemTouchendHandler, this);\n        }\n        this.showList(false);\n    }\n\n    onDisable() {\n        for (let i = 0; i < this.toggleArrs.length; i++) {\n            this.toggleArrs[i].off(\"toggle\", this.itemTouchendHandler, this);\n        }\n    }\n\n    /**\n     * \n     * @param isshow \n     */\n    private showList(isshow: boolean) {\n        this._isShow = isshow;\n        this.togglecontainer.active = this._isShow;\n        if(this._isShow){\n            WebUtils.getResouceImg(\"newjishi/tabview_6\",this.sprite_jiantou);\n        }else{\n            WebUtils.getResouceImg(\"newjishi/tabview_2\",this.sprite_jiantou);\n        }\n    }\n    /**\n     * top 点击\n     * @param evt \n     */\n    topClickHandler(evt) {\n\n        this.showList(!this._isShow);\n    }\n\n    /**\n     * \n     * @param evt \n     */\n    private itemTouchendHandler(evt: TouchEvent) {\n        let tar = evt.target as any as Node;\n        for (let i = 0; i < this.toggleArrs.length; i++) {\n            if (tar == this.toggleArrs[i]) {\n                this.setListData(i);\n            }\n        }\n    }\n    /**\n     * 根据index 修改数据\n     * @param selectInd \n     */\n    public setListData(selectInd: number) {\n        this.label_current.string = this.grpArr[selectInd].name;\n        this.showList(false);\n    }\n\n\n\n    update(deltaTime: number) {\n\n    }\n\n    onDestroy() {\n\n    }\n}\n\n"]}