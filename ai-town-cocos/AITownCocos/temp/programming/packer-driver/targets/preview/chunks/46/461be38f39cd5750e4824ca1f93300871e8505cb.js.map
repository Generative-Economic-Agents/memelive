{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws-sdk/lib/event-stream/event-message-unmarshaller-stream.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","url","define","exports","require","module","__filename","__dirname","Transform","parseEvent","EventUnmarshallerStream","options","readableObjectMode","call","_readableState","objectMode","parser","eventStreamModel","prototype","Object","create","_transform","chunk","encoding","callback","event","push","err","_cjsExports","_EventUnmarshallerStream"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;AACkBC,MAAAA,I,WAAhBC,Y;;AACgBC,MAAAA,K,iBAAhBD,Y;;;8BAGHA,Y,GAAe,cAAYE,G;;AACjCJ,MAAAA,UAAU,CAACK,MAAX,CAAkBH,YAAlB,EAAgC,UAAUI,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC,YAAIC,SAAS,GAAGJ,OAAO,CAAC,QAAD,CAAP,CAAkBI,SAAlC;;AACA,YAAIC,UAAU,GAAGL,OAAO,CAAC,eAAD,CAAP,CAAyBK,UAA1C;AAEA;;;AACA,iBAASC,uBAAT,CAAiCC,OAAjC,EAA0C;AACtCA,UAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB,CADsC,CAEtC;;AACAA,UAAAA,OAAO,CAACC,kBAAR,GAA6B,IAA7B;AACAJ,UAAAA,SAAS,CAACK,IAAV,CAAe,IAAf,EAAqBF,OAArB;AACA,eAAKG,cAAL,CAAoBC,UAApB,GAAiC,IAAjC;AAEA,eAAKC,MAAL,GAAcL,OAAO,CAACK,MAAtB;AACA,eAAKC,gBAAL,GAAwBN,OAAO,CAACM,gBAAhC;AACH;;AAEDP,QAAAA,uBAAuB,CAACQ,SAAxB,GAAoCC,MAAM,CAACC,MAAP,CAAcZ,SAAS,CAACU,SAAxB,CAApC;AAEA;AACD;AACA;AACA;AACA;AACA;;AACCR,QAAAA,uBAAuB,CAACQ,SAAxB,CAAkCG,UAAlC,GAA+C,UAASC,KAAT,EAAgBC,QAAhB,EAA0BC,QAA1B,EAAoC;AAC/E,cAAI;AACA,gBAAIC,KAAK,GAAGhB,UAAU,CAAC,KAAKO,MAAN,EAAcM,KAAd,EAAqB,KAAKL,gBAA1B,CAAtB;AACA,iBAAKS,IAAL,CAAUD,KAAV;AACA,mBAAOD,QAAQ,EAAf;AACH,WAJD,CAIE,OAAOG,GAAP,EAAY;AACVH,YAAAA,QAAQ,CAACG,GAAD,CAAR;AACH;AACJ,SARD;AAUA;AACD;AACA;;;AACCtB,QAAAA,MAAM,CAACF,OAAP,GAAiB;AACbO,UAAAA,uBAAuB,EAAEA;AADZ,SAAjB,CAxC0F,CA6C3F;;AAEA,2BAAAkB,WAAW,GAAGvB,MAAM,CAACF,OAArB;;AACA0B,QAAAA,wBAAwB,GAAGxB,MAAM,CAACF,OAAP,CAAeO,uBAA1C;AAEC,OAlDD,EAkDG,OAAO;AACR,kBAAUZ,IADF;AAER,yBAAiBE;AAFT,OAAP,CAlDH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from 'stream';\nimport { __cjsMetaURL as _req0} from './parse-event';\nlet _cjsExports;\nlet _EventUnmarshallerStream;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var Transform = require('stream').Transform;\n var parseEvent = require('./parse-event').parseEvent;\n\n /** @type {Transform} */\n function EventUnmarshallerStream(options) {\n     options = options || {};\n     // set output to object mode\n     options.readableObjectMode = true;\n     Transform.call(this, options);\n     this._readableState.objectMode = true;\n\n     this.parser = options.parser;\n     this.eventStreamModel = options.eventStreamModel;\n }\n\n EventUnmarshallerStream.prototype = Object.create(Transform.prototype);\n\n /**\n  *\n  * @param {Buffer} chunk\n  * @param {string} encoding\n  * @param {*} callback\n  */\n EventUnmarshallerStream.prototype._transform = function(chunk, encoding, callback) {\n     try {\n         var event = parseEvent(this.parser, chunk, this.eventStreamModel);\n         this.push(event);\n         return callback();\n     } catch (err) {\n         callback(err);\n     }\n };\n\n /**\n  * @api private\n  */\n module.exports = {\n     EventUnmarshallerStream: EventUnmarshallerStream\n };\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n_EventUnmarshallerStream = module.exports.EventUnmarshallerStream;\n\n}, () => ({\n  'stream': _req,\n  './parse-event': _req0,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}