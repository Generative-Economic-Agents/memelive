{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws-sdk/vendor/endpoint-cache/utils/LRU.js"],"names":["_cjsLoader","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","LinkedListNode","key","LRUCache","size","nodeMap","Error","sizeLimit","prototype","get","enumerable","configurable","prependToList","node","headerNode","tailNode","prev","next","removeFromTail","undefined","prevNode","detachFromList","remove","put","key_1","newNode","empty","keys","i","length","_cjsExports","___esModule","__esModule","_LRUCache"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nlet _cjsExports;\nlet ___esModule;\nlet _LRUCache;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n Object.defineProperty(exports, \"__esModule\", { value: true });\n var LinkedListNode = /** @class */ (function () {\n     function LinkedListNode(key, value) {\n         this.key = key;\n         this.value = value;\n     }\n     return LinkedListNode;\n }());\n var LRUCache = /** @class */ (function () {\n     function LRUCache(size) {\n         this.nodeMap = {};\n         this.size = 0;\n         if (typeof size !== 'number' || size < 1) {\n             throw new Error('Cache size can only be positive number');\n         }\n         this.sizeLimit = size;\n     }\n     Object.defineProperty(LRUCache.prototype, \"length\", {\n         get: function () {\n             return this.size;\n         },\n         enumerable: true,\n         configurable: true\n     });\n     LRUCache.prototype.prependToList = function (node) {\n         if (!this.headerNode) {\n             this.tailNode = node;\n         }\n         else {\n             this.headerNode.prev = node;\n             node.next = this.headerNode;\n         }\n         this.headerNode = node;\n         this.size++;\n     };\n     LRUCache.prototype.removeFromTail = function () {\n         if (!this.tailNode) {\n             return undefined;\n         }\n         var node = this.tailNode;\n         var prevNode = node.prev;\n         if (prevNode) {\n             prevNode.next = undefined;\n         }\n         node.prev = undefined;\n         this.tailNode = prevNode;\n         this.size--;\n         return node;\n     };\n     LRUCache.prototype.detachFromList = function (node) {\n         if (this.headerNode === node) {\n             this.headerNode = node.next;\n         }\n         if (this.tailNode === node) {\n             this.tailNode = node.prev;\n         }\n         if (node.prev) {\n             node.prev.next = node.next;\n         }\n         if (node.next) {\n             node.next.prev = node.prev;\n         }\n         node.next = undefined;\n         node.prev = undefined;\n         this.size--;\n     };\n     LRUCache.prototype.get = function (key) {\n         if (this.nodeMap[key]) {\n             var node = this.nodeMap[key];\n             this.detachFromList(node);\n             this.prependToList(node);\n             return node.value;\n         }\n     };\n     LRUCache.prototype.remove = function (key) {\n         if (this.nodeMap[key]) {\n             var node = this.nodeMap[key];\n             this.detachFromList(node);\n             delete this.nodeMap[key];\n         }\n     };\n     LRUCache.prototype.put = function (key, value) {\n         if (this.nodeMap[key]) {\n             this.remove(key);\n         }\n         else if (this.size === this.sizeLimit) {\n             var tailNode = this.removeFromTail();\n             var key_1 = tailNode.key;\n             delete this.nodeMap[key_1];\n         }\n         var newNode = new LinkedListNode(key, value);\n         this.nodeMap[key] = newNode;\n         this.prependToList(newNode);\n     };\n     LRUCache.prototype.empty = function () {\n         var keys = Object.keys(this.nodeMap);\n         for (var i = 0; i < keys.length; i++) {\n             var key = keys[i];\n             var node = this.nodeMap[key];\n             this.detachFromList(node);\n             delete this.nodeMap[key];\n         }\n     };\n     return LRUCache;\n }());\n exports.LRUCache = LRUCache;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_LRUCache = module.exports.LRUCache;\n\n}, {});\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}