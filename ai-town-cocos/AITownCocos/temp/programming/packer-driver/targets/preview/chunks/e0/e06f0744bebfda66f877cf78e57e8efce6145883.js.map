{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/assets/src/module/main/jishi/GoumaiController.ts"],"names":["_decorator","Component","Node","instantiate","Prefab","warn","modelMgr","observer","WebUtils","Log","ccclass","property","TAG","GoumaiController","type","_gmzhongziItemArr","start","showBuyZhongziList","on","sortselectHandler","onEnable","update","deltaTime","evt","log","data","arr","jishiModel","getBuyZhongzi","loadRes","err","clip","i","length","item","itemcontainer","addChild","push"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,I,OAAAA,I;;AAClDC,MAAAA,Q,iBAAAA,Q;AAAUC,MAAAA,Q,iBAAAA,Q;;AACZC,MAAAA,Q;;AACAC,MAAAA,G;;;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBX,U;AAExBY,MAAAA,G,GAAM,kB;;kCAECC,gB,WADZH,OAAO,CAAC,kBAAD,C,UAEHC,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAEZ;AAAR,OAAD,C,UAERS,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAEZ;AAAR,OAAD,C,2BAJb,MACaW,gBADb,SACsCZ,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAKpCc,iBALoC,GAKR,EALQ;AAAA;;AAM5CC,QAAAA,KAAK,GAAG;AACJ,eAAKC,kBAAL;AACA;AAAA;AAAA,oCAASC,EAAT,CAAY,QAAZ,EAAsB,KAAKC,iBAA3B,EAA8C,IAA9C;AACH;;AACDC,QAAAA,QAAQ,GAAG,CACV;;AACDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;AAED;AACJ;AACA;AACA;;;AACYH,QAAAA,iBAAiB,CAACI,GAAD,EAAM;AAC3B;AAAA;AAAA,0BAAIC,GAAJ,CAAQD,GAAG,CAACE,IAAZ;AACH;AACD;AACJ;AACA;;;AACWR,QAAAA,kBAAkB,GAAG;AACxB,cAAIS,GAAG,GAAG;AAAA;AAAA,oCAASC,UAAT,CAAoBC,aAApB,EAAV;AACA;AAAA;AAAA,oCAASC,OAAT,CAAiB,oBAAjB,EAAuCzB,MAAvC,EAA+C,CAAC0B,GAAD,EAAMC,IAAN,KAAe;AAC1D,gBAAID,GAAJ,EAAS;AACLzB,cAAAA,IAAI,CAAC,sBAAD,EAAyByB,GAAzB,CAAJ;AACA;AACH;;AACD,iBAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,GAAG,CAACO,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACjC,kBAAIE,IAAI,GAAG/B,WAAW,CAAC4B,IAAD,CAAtB,CADiC,CAEjC;;AACA,mBAAKI,aAAL,CAAmBC,QAAnB,CAA4BF,IAA5B;;AACA,mBAAKnB,iBAAL,CAAuBsB,IAAvB,CAA4BH,IAA5B;AACH;AAEJ,WAZD;AAaH;;AAzC2C,O;;;;;iBAEf,I;;;;;;;iBAEE,I","sourcesContent":["import { _decorator, Component, Node, instantiate, Prefab, warn, Vec3, log } from 'cc';\nimport { modelMgr, observer } from '../../../game/App';\nimport WebUtils from '../../../utils/WebUtils';\nimport Log from '../../../../../assets/src/utils/LogUtils'\nconst { ccclass, property } = _decorator;\n\nconst TAG = 'GoumaiController'\n@ccclass('GoumaiController')\nexport class GoumaiController extends Component {\n    @property({ type: Node })\n    public itemcontainer: Node = null;\n    @property({ type: Node })\n    public togglecontainer: Node = null;\n    private _gmzhongziItemArr: Node[] = [];\n    start() {\n        this.showBuyZhongziList();\n        observer.on(\"toggle\", this.sortselectHandler, this);\n    }\n    onEnable() {\n    }\n    update(deltaTime: number) {\n\n    }\n\n    /**\n     * \n     * @param evt \n     */\n    private sortselectHandler(evt) {\n        Log.log(evt.data);\n    }\n    /**\n     * \n     */\n    public showBuyZhongziList() {\n        let arr = modelMgr.jishiModel.getBuyZhongzi();\n        WebUtils.loadRes(\"prefabs/goumaiItem\", Prefab, (err, clip) => {\n            if (err) {\n                warn('load Prefab failed: ', err);\n                return;\n            }\n            for (let i = 0; i < arr.length; i++) {\n                let item = instantiate(clip);\n                // item.setPosition(new Vec3(-272 + (i * 110), 209 + Math.floor(i / 4) * 120));\n                this.itemcontainer.addChild(item);\n                this._gmzhongziItemArr.push(item);\n            }\n\n        });\n    }\n}\n\n"]}