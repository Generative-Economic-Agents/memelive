{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/assets/src/module/main/UserinfoComponent.ts"],"names":["_decorator","Component","Label","Node","RichText","Animation","modelMgr","observer","uiMgr","EventType","GlobalConfig","WebUtils","LoadingController","NumberCounter","AudioManager","SpriteAtlasAnimation","ActionType","GuideIndex","TouchCatTips","Log","ccclass","property","showWorkLimit","UserinfoComponent","spriteAtlasAnimation","jinbispriteAtlasAnimation","heartAnimation","apAnimation","heartAnimationReverse","apAnimationReverse","hasApAni","hasWorkProgress","counter","ccCounter","apcounter","start","on","SOCKET_CHECK_PLAYERITEMS","updatePlayersData","SOCKET_ITEMUPDATE","SOCKET_CHANGE_CATS","changeCatsHandler","SOCKET_CHANGEINFO_CATS","chageCatinfoDataHandler","UPDATE_CAT_CV","chageCatByTouchHandler","Spriteani_aixin","getComponent","Spriteani_jinbi","heartRoot","apRoot","heartRootReverse","apRootReverse","FINISHED","heartAniStop","PLAY","heartAniStart","apAniStop","apAniStart","heartAniStopReverse","heartAniStartReverse","apAniStopReverse","apAniStartReverse","update","dt","onDestroy","off","openMxp","instance","playSound","ins","showLoading","popToParent","type","state","progress","active","catid","getCurCatId","catdata","mainModel","getServerCatsData","guideInfo","LoginData","data","player","guide","cv","find","element","START_GUIDE_STATE6","end","post","UPDATE_GUIDE_INFO_MAIN_VIEW","SHOW_WORK_BUTTON","curccnum","Label_cv","string","toFixed","max","Number","cvend","play","Math","abs","heartChangeTxt","fontSize","heartChangeTxtReverse","heartRed","heartBlack","heartRedReverse","heartBlackReverse","catRootNode","getScale","x","startNumber","endNumber","duration","onUpdate","currentNumber","onComplete","log","touchText","SOCKET_CHAT","msg","actionData","TOUCH","text","duringTime","SEND_CAT_ACTION","mbti","curCatData","toLowerCase","configModel","getCatDataById","getResouceImg","Sprite_icon","Sprite_icon_guide","updateCatCv","Label_ap","getserItemCountById","apend","apChangeTxt","apChangeTxtReverse","scheduleOnce","Label_cc","apend2","iconClickHandler","evt","Node_aixints1","Node_aixints2","Node_apts"],"mappings":"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","sourcesContent":["import { _decorator, Component, Label, Node, RichText, Animation, AnimationState, animation } from 'cc';\nimport { modelMgr, observer, uiMgr } from '../../game/App';\nimport { EventType } from '../../EventType';\nimport { GlobalConfig } from '../../game/config/GlobalConfig';\nimport BoswerUtils from '../../utils/BoswerUtils';\nimport WebUtils from '../../utils/WebUtils';\nimport { LoadingController } from '../../game/components/LoadingController';\nimport { NumberCounter } from '../../utils/NumberCounter';\nimport { AudioManager } from '../../manager/AudioManager';\nimport { SpriteAtlasAnimation } from './SpriteAtlasAnimation';\nimport { CatActionInfo } from '../../game/config/DataStruct';\nimport { ActionType, getTouchCatTip, GuideIndex, TouchCatTips, TouchUnhappyCatTips } from '../../model/StaticTextConfig';\nimport Log from '../../../../assets/src/utils/LogUtils'\nconst { ccclass, property } = _decorator;\n\nconst showWorkLimit = 49\n\n@ccclass('UserinfoComponent')\nexport class UserinfoComponent extends Component {\n    @property(Label)\n    public Label_cv: Label = null;\n    @property(Label)\n    public Label_ap: Label = null;\n    @property(Label)\n    public Label_cc: Label = null;\n    @property(Node)\n    public Sprite_icon: Node = null;\n    @property(Node)\n    public Sprite_icon_guide: Node = null;\n    @property(Node)\n    public Spriteani_aixin: Node = null;\n    @property(Node)\n    public Spriteani_jinbi: Node = null;\n\n    @property(Node)\n    public Node_aixints1: Node = null;\n    @property(Node)\n    public Node_aixints2: Node = null;\n    @property(Node)\n    public Node_apts: Node = null;\n\n    @property(RichText)\n    public heartChangeTxt: RichText = null;\n\n    @property(RichText)\n    public apChangeTxt: RichText = null;\n\n    @property(RichText)\n    public heartChangeTxtReverse: RichText = null;\n\n    @property(RichText)\n    public apChangeTxtReverse: RichText = null;\n\n    @property(Node)\n    public heartRoot: Node = null;\n    @property(Node)\n    public heartRootReverse: Node = null;\n    @property(Node)\n    public heartRed: Node = null;\n    @property(Node)\n    public heartBlack: Node = null;\n    @property(Node)\n    public heartRedReverse: Node = null;\n    @property(Node)\n    public heartBlackReverse: Node = null;\n\n    @property(Node)\n    public apRoot: Node = null;\n    @property(Node)\n    public apRootReverse: Node = null;\n\n    @property(Node)\n    public progress: Node = null;\n\n    private spriteAtlasAnimation: SpriteAtlasAnimation | null = null;\n    private jinbispriteAtlasAnimation: SpriteAtlasAnimation | null = null;\n\n    heartAnimation: Animation\n    apAnimation: Animation\n    heartAnimationReverse: Animation\n    apAnimationReverse: Animation\n    hasApAni : boolean = false\n    hasWorkProgress: boolean;\n\n    start() {\n\n        observer.on(EventType.SOCKET_CHECK_PLAYERITEMS, this.updatePlayersData, this);\n        observer.on(EventType.SOCKET_ITEMUPDATE, this.updatePlayersData, this);//道具改变\n        observer.on(EventType.SOCKET_CHANGE_CATS, this.changeCatsHandler, this);//切换猫咪\n        observer.on(EventType.SOCKET_CHANGEINFO_CATS, this.chageCatinfoDataHandler, this);//当前猫咪信息改变\n        observer.on(EventType.UPDATE_CAT_CV, this.chageCatByTouchHandler, this);//当前猫咪信息改变\n        if (this.Spriteani_aixin) {\n            this.spriteAtlasAnimation = this.Spriteani_aixin.getComponent(SpriteAtlasAnimation);\n        }\n        if (this.Spriteani_jinbi) {\n            this.jinbispriteAtlasAnimation = this.Spriteani_jinbi.getComponent(SpriteAtlasAnimation);\n        }\n        this.heartAnimation = this.heartRoot.getComponent(Animation);\n\n        this.apAnimation = this.apRoot.getComponent(Animation);\n\n        this.heartAnimationReverse = this.heartRootReverse.getComponent(Animation);\n\n        this.apAnimationReverse = this.apRootReverse.getComponent(Animation);\n\n        this.heartAnimation.on(Animation.EventType.FINISHED, this.heartAniStop, this)\n        this.heartAnimation.on(Animation.EventType.PLAY, this.heartAniStart, this)\n\n        this.apAnimation.on(Animation.EventType.FINISHED, this.apAniStop, this)\n        this.apAnimation.on(Animation.EventType.PLAY, this.apAniStart, this)\n\n        this.heartAnimationReverse.on(Animation.EventType.FINISHED, this.heartAniStopReverse, this)\n        this.heartAnimationReverse.on(Animation.EventType.PLAY, this.heartAniStartReverse, this)\n\n        this.apAnimationReverse.on(Animation.EventType.FINISHED, this.apAniStopReverse, this)\n        this.apAnimationReverse.on(Animation.EventType.PLAY, this.apAniStartReverse, this)\n    }\n\n    update(dt: number) {\n        if (this.counter) {\n            this.counter.update(dt);\n        }\n        if (this.ccCounter) {\n            this.ccCounter.update(dt);\n        }\n        if (this.apcounter) {\n            this.apcounter.update(dt);\n        }\n    }\n    protected onDestroy(): void {\n        observer.off(EventType.SOCKET_CHECK_PLAYERITEMS, this.updatePlayersData, this);\n        observer.off(EventType.SOCKET_ITEMUPDATE, this.updatePlayersData, this);//道具改变\n        observer.off(EventType.SOCKET_CHANGE_CATS, this.updatePlayersData, this);//切换猫咪\n        observer.off(EventType.SOCKET_CHANGEINFO_CATS, this.chageCatinfoDataHandler, this);//当前猫咪信息改变\n        observer.off(EventType.UPDATE_CAT_CV, this.chageCatinfoDataHandler, this);//当前猫咪信息改变\n    }\n    public openMxp() {\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        LoadingController.ins.showLoading();\n        uiMgr.popToParent(\"prefabs/pre_mingxp\");\n    }\n\n    heartAniStart(type: Animation.EventType, state: AnimationState){\n        if(this.progress.active){\n            this.hasWorkProgress = true\n            this.progress.active = false\n        }\n\n    }\n    \n\n    heartAniStartReverse(type: Animation.EventType, state: AnimationState){\n        if(this.progress.active){\n            this.hasWorkProgress = true\n            this.progress.active = false\n        }\n\n    }\n\n    apAniStart(type: Animation.EventType, state: AnimationState){\n        if(this.progress.active || this.hasWorkProgress){\n            this.progress.active = false\n            this.hasWorkProgress = true\n        }\n\n    }\n\n    apAniStartReverse(type: Animation.EventType, state: AnimationState){\n        if(this.progress.active || this.hasWorkProgress){\n            this.progress.active = false\n            this.hasWorkProgress = true\n        }\n\n    }\n\n    heartAniStop(type: Animation.EventType, state: AnimationState){\n        if(!this.hasWorkProgress){\n            if(this.hasApAni){\n                this.progress.active = false\n            }else{\n                this.progress.active = true\n            }\n        }else{\n            return\n        }\n\n    }\n\n    heartAniStopReverse(type: Animation.EventType, state: AnimationState){\n        if(!this.hasWorkProgress || this.progress.active === false){\n            return\n        }\n        if(this.hasApAni){\n            this.progress.active = false\n        }else{\n            this.progress.active = true\n        }\n    }\n\n    apAniStop(type: Animation.EventType, state: AnimationState){\n        if(!this.hasWorkProgress){\n            return\n        }\n        this.progress.active = true\n        this.hasApAni = false\n        this.hasWorkProgress = false\n    }   \n\n    apAniStopReverse(type: Animation.EventType, state: AnimationState){\n        if(!this.hasWorkProgress){\n            return\n        }\n        this.progress.active = true\n        this.hasApAni = false\n        this.hasWorkProgress = false\n    }   \n\n    /**\n     * 当前猫咪数据改变\n     */\n    private chageCatinfoDataHandler() {\n        let catid = GlobalConfig.instance.getCurCatId();\n        let catdata = modelMgr.mainModel.getServerCatsData(catid);\n        const guideInfo = GlobalConfig.instance.LoginData.data.player.guide\n        if(catdata.cv >= showWorkLimit && !guideInfo?.find(element => element === GuideIndex.START_GUIDE_STATE6.end)){\n            //触发第六阶段引导\n            observer.post(EventType.UPDATE_GUIDE_INFO_MAIN_VIEW, GuideIndex.START_GUIDE_STATE6)\n            observer.post(EventType.SHOW_WORK_BUTTON)\n        }\n        if (catdata) {\n            let curccnum = this.Label_cv.string;\n            if (curccnum == \"\") {//首次登录\n                this.Label_cv.string = \"\" + catdata.cv.toFixed(0);//当前猫德值\n\n            } else {//数据变化\n                let max = catdata.cv.toFixed(0);\n                if (curccnum != max && Number(max) >= 100) {\n                    this.openMxp();\n                }\n\n                let cvend = Number(catdata.cv.toFixed(0));\n\n                if (Number(curccnum) != cvend) {\n                    if (Number(curccnum) < cvend) {//增加\n                        AudioManager.instance.playSound(\"maode_add\");\n                        this.spriteAtlasAnimation?.play();\n                        if(Math.abs(cvend - Number(curccnum)) >= 10){\n                            this.heartChangeTxt.fontSize = 30\n                            this.heartChangeTxtReverse.fontSize = 30\n                            \n                        }else{\n                            this.heartChangeTxt.fontSize = 40\n                            this.heartChangeTxtReverse.fontSize = 40\n                        }\n                        this.heartChangeTxt.string = `<color=#FF0000>+${cvend - Number(curccnum)}</color>`\n                        this.heartChangeTxtReverse.string = `<color=#FF0000>+${cvend - Number(curccnum)}</color>`\n                        this.heartRed.active = true\n                        this.heartBlack.active = false\n                        this.heartRedReverse.active = true\n                        this.heartBlackReverse.active = false\n                    } else {\n                        AudioManager.instance.playSound(\"maode_jianshao\");\n                        this.heartChangeTxt.string = `<color=#805959>${cvend - Number(curccnum)}</color>`\n                        this.heartChangeTxtReverse.string = `<color=#805959>${cvend - Number(curccnum)}</color>`\n                        this.heartRed.active = false\n                        this.heartBlack.active = true\n                        this.heartRedReverse.active = false\n                        this.heartBlackReverse.active = true\n                    }\n                    if(GlobalConfig.instance.catRootNode.getScale().x > 0){\n                        this.heartAnimation.play()\n                    }else{\n                        this.heartAnimationReverse.play()\n                    }\n\n                    this.counter = new NumberCounter({\n                        startNumber: Number(curccnum),\n                        endNumber: cvend,\n                        duration: 1,\n                        onUpdate: (currentNumber) => {\n                            this.Label_cv.string = currentNumber.toFixed(0) + \"\";\n                        },\n                        onComplete: () => {\n                            Log.log('Counting completed.');\n                        },\n                    });\n                }\n\n            }\n        } else {\n            this.Label_cv.string = \"0\";\n        }\n\n    }\n\n        /**\n     * 当前猫咪数据改变\n     */\n        private chageCatByTouchHandler(data: any = null) {\n            let catid = GlobalConfig.instance.getCurCatId();\n            let catdata = data ? data.data.data : modelMgr.mainModel.getServerCatsData(catid)\n            const guideInfo = GlobalConfig.instance.LoginData.data.player.guide\n            if(catdata.cv >= showWorkLimit && !guideInfo?.find(element => element === GuideIndex.START_GUIDE_STATE6.end)){\n                //触发第六阶段引导\n                observer.post(EventType.UPDATE_GUIDE_INFO_MAIN_VIEW, GuideIndex.START_GUIDE_STATE6)\n                observer.post(EventType.SHOW_WORK_BUTTON)\n            }\n            let touchText =  TouchCatTips[1]\n            if (catdata) {\n                let curccnum = this.Label_cv.string;\n                if (curccnum == \"\") {//首次登录\n                    this.Label_cv.string = \"\" + catdata.cv.toFixed(0);//当前猫德值\n                } else {//数据变化\n                    let max = catdata.cv.toFixed(0);\n                    if (curccnum != max && Number(max) >= 100) {\n                        this.openMxp();\n                    }\n    \n                    let cvend = Number(catdata.cv.toFixed(0));\n                    if (Number(curccnum) != cvend) {\n                        if(Math.abs(cvend - Number(curccnum)) >= 10){\n                            this.heartChangeTxt.fontSize = 30\n                            this.heartChangeTxtReverse.fontSize = 30\n                            \n                        }else{\n                            this.heartChangeTxt.fontSize = 40\n                            this.heartChangeTxtReverse.fontSize = 40\n                        }\n                        if (Number(curccnum) < cvend) {//增加\n                            AudioManager.instance.playSound(\"maode_add\");\n                            let catid = GlobalConfig.instance.getCurCatId();\n                            let catdata = modelMgr.mainModel.getServerCatsData(catid);\n                            this.spriteAtlasAnimation?.play();\n                            this.heartChangeTxt.string = `<color=#FF0000>+${cvend - Number(curccnum)}</color>`\n                            this.heartChangeTxtReverse.string = `<color=#FF0000>+${cvend - Number(curccnum)}</color>`\n                            this.heartRed.active = true\n                            this.heartBlack.active = false\n                            this.heartRedReverse.active = true\n                            this.heartBlackReverse.active = false\n                        } else {\n                            AudioManager.instance.playSound(\"maode_jianshao\");\n                            this.heartChangeTxt.string = `<color=#805959>${cvend - Number(curccnum)}</color>`\n                            this.heartChangeTxtReverse.string = `<color=#805959>${cvend - Number(curccnum)}</color>`\n                            this.heartRed.active = false\n                            this.heartBlack.active = true\n                            this.heartRedReverse.active = false\n                            this.heartBlackReverse.active = true\n                        }\n                        if(GlobalConfig.instance.catRootNode.getScale().x > 0){\n                            this.heartAnimation.play()\n                        }else{\n                            this.heartAnimationReverse.play()\n                        }\n                        this.counter = new NumberCounter({\n                            startNumber: Number(curccnum),\n                            endNumber: cvend,\n                            duration: 1,\n                            onUpdate: (currentNumber) => {\n                                this.Label_cv.string = currentNumber.toFixed(0) + \"\";\n                            },\n                            onComplete: () => {\n                                Log.log('Counting completed.');\n                            },\n                        });\n                        \n                    }\n                    observer.post(EventType.SOCKET_CHAT,{ \n                        data: {\n                        \"requestId\": 1,\n                        \"playerId\": 1,\n                        \"type\": 1,\n                        \"command\": 1,\n                        \"code\": 1,\n                        \"message\": catdata.msg,\n                        \"data\": {\n                            \"message\": catdata.msg,\n                            \"catId\": catdata.msg\n                        }\n                    }});\n                }\n\n                const actionData : CatActionInfo = {\n                    type: ActionType.TOUCH,\n                    text: catdata.msg,\n                    duringTime: 1.3\n                  }\n                  observer.post(EventType.SEND_CAT_ACTION, actionData)\n            } else {\n                this.Label_cv.string = \"0\";\n            }\n    \n        }\n\n    /**\n     * 切换猫咪\n     */\n    private changeCatsHandler() {\n        let catid = GlobalConfig.instance.getCurCatId();\n        let catdata = modelMgr.mainModel.getServerCatsData(catid);\n        const guideInfo = GlobalConfig.instance.LoginData.data.player.guide\n        if(catdata.cv >= showWorkLimit && !guideInfo?.find(element => element === GuideIndex.START_GUIDE_STATE6.end)){\n            //触发第六阶段引导\n            observer.post(EventType.UPDATE_GUIDE_INFO_MAIN_VIEW, GuideIndex.START_GUIDE_STATE6)\n            observer.post(EventType.SHOW_WORK_BUTTON)\n        }\n        if (catdata) {\n            this.Label_cv.string = \"\" + catdata.cv.toFixed(0);//当前猫德值\n            let mbti = GlobalConfig.instance.curCatData?.mbti;\n            if (mbti) mbti = mbti.toLowerCase();\n            if (!mbti) {\n                mbti = modelMgr.configModel.getCatDataById(catid)?.mbti;\n                if (mbti) mbti = mbti.toLowerCase();\n            }\n            if (mbti) {\n                WebUtils.getResouceImg(`catspic/${mbti}_tx`, this.Sprite_icon);\n                WebUtils.getResouceImg(`catspic/${mbti}_tx`, this.Sprite_icon_guide);\n            }\n        } else {\n            this.Label_cv.string = \"\" + 0;//当前猫德值\n        }\n\n    }\n\n    /**更新cat cv 好感度 */\n    public updateCatCv(data: any){\n\n    }\n\n    public counter;\n    public ccCounter;\n    public apcounter;\n    private updatePlayersData() {\n\n        // if (false) {\n        if (this.Label_ap.string == \"\") {//首次展示直接赋值\n            this.Label_ap.string = \"\" + modelMgr.mainModel.getserItemCountById(10101002).toFixed(0);//10101002 体力(AP)//10101000 猫币（金币）\n        } else {\n            let apend = modelMgr.mainModel.getserItemCountById(10101002);\n            if (Number(this.Label_ap.string) != apend) {\n\n                this.apcounter = new NumberCounter({\n                    startNumber: Number(this.Label_ap.string),\n                    endNumber: apend,\n                    duration: 1,\n                    onUpdate: (currentNumber) => {\n                        this.Label_ap.string = currentNumber.toFixed(0) + \"\";\n                    },\n                    onComplete: () => {\n                        Log.log('Counting completed.');\n                    },\n                });\n                if(Math.abs(Number(this.Label_ap.string) - Number(apend)) >= 10){\n                    this.heartChangeTxt.fontSize = 30\n                    this.heartChangeTxtReverse.fontSize = 30\n                    \n                }else{\n                    this.heartChangeTxt.fontSize = 40\n                    this.heartChangeTxtReverse.fontSize = 40\n                }\n                if(Number(this.Label_ap.string) > Number(apend)){\n                    this.apChangeTxt.string = `<color=#805959>${Number(apend) - Number(this.Label_ap.string)}</color>`\n                    this.apChangeTxtReverse.string = `<color=#805959>${Number(apend) - Number(this.Label_ap.string)}</color>`\n                }else{\n                    this.apChangeTxt.string = `<color=#FF0000>+${Number(apend) - Number(this.Label_ap.string)}</color>`\n                    this.apChangeTxtReverse.string = `<color=#FF0000>+${Number(apend) - Number(this.Label_ap.string)}</color>`\n                }\n                this.hasApAni = true\n                if(GlobalConfig.instance.catRootNode.getScale().x > 0){\n                    this.scheduleOnce(() => {\n                        this.apAnimation.play()\n                    }, 0.6);\n                }else{\n                    this.scheduleOnce(() => {\n                        this.apAnimationReverse.play()\n                    }, 0.6);\n                }\n\n                \n            }\n\n        }\n        // if (false) {\n        if (this.Label_cc.string == \"\") {\n            this.Label_cc.string = \"\" + modelMgr.mainModel.getserItemCountById(10101000);\n        } else {\n            let apend2 = modelMgr.mainModel.getserItemCountById(10101000);\n            if (Number(this.Label_cc.string) != apend2) {\n                if (Number(this.Label_cc.string) < apend2) {\n                    AudioManager.instance.playSound(\"coin\");\n                    this.jinbispriteAtlasAnimation?.play();\n                }\n                this.ccCounter = new NumberCounter({\n                    startNumber: Number(this.Label_cc.string),\n                    endNumber: apend2,\n                    duration: 1,\n                    onUpdate: (currentNumber) => {\n                        this.Label_cc.string = currentNumber.toFixed(0) + \"\";\n                    },\n                    onComplete: () => {\n                        Log.log('Counting completed.');\n                    },\n                });\n            }\n        }\n\n\n        if (this.Label_cv.string == \"\") {//只有进入游戏时刷新一次\n            let catid = GlobalConfig.instance.getCurCatId();\n            let catdata = modelMgr.mainModel.getServerCatsData(catid);\n            if (!catdata) {\n                Log.log(\"没有猫咪\", catdata);\n                return;\n            }\n            this.Label_cv.string = \"\" + catdata.cv.toFixed(0);//当前猫德值\n\n            let mbti = GlobalConfig.instance.curCatData?.mbti;\n            if (mbti) mbti = mbti.toLowerCase();\n            if (!mbti) {\n                mbti = modelMgr.configModel.getCatDataById(catid)?.mbti;\n                if (mbti) mbti = mbti.toLowerCase();\n            }\n            if (mbti) {\n                WebUtils.getResouceImg(`catspic/${mbti}_tx`, this.Sprite_icon);\n            }\n        }\n\n\n    }\n    public iconClickHandler(evt, data) {\n        switch (data) {\n            case \"btn_aixin\":\n                this.Node_aixints1.active = true;\n                this.Node_aixints2.active = false;\n                this.Node_apts.active = false;\n                break;\n            case \"axts1btn\":\n                this.Node_aixints1.active = false;\n                this.Node_aixints2.active = true;\n                this.Node_apts.active = false;\n                break;\n            case \"axts2btn\":\n                this.Node_aixints1.active = false;\n                this.Node_aixints2.active = false;\n                this.Node_apts.active = false;\n                break;\n            case \"btn_ap\":\n                this.Node_aixints1.active = false;\n                this.Node_aixints2.active = false;\n                this.Node_apts.active = true;\n                break;\n            case \"apts1btn\":\n                this.Node_aixints1.active = false;\n                this.Node_aixints2.active = false;\n                this.Node_apts.active = false;\n                break;\n        }\n    }\n}\n\n\n"]}