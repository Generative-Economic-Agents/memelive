{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws-sdk/lib/http/node.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req3","_req2","_req4","url","define","exports","require","module","__filename","__dirname","AWS","Stream","util","stream","TransformStream","Transform","ReadableStream","Readable","CONNECTION_REUSE_ENV_NAME","NodeHttpClient","inherit","handleRequest","httpRequest","httpOptions","callback","errCallback","self","endpoint","pathPrefix","proxy","protocol","hostname","port","Endpoint","useSSL","http","options","host","method","headers","path","update","agent","getAgent","keepAlive","process","env","timeout","request","httpResp","didCallback","emit","statusCode","statusMessage","connectTimeout","connectTimeoutId","on","socket","connecting","setTimeout","abort","error","Error","code","clearTimeout","msg","err","expect","Expect","once","writeBody","body","totalBytes","parseInt","progressStream","pipe","loaded","total","end","agentOptions","sslAgent","Agent","merge","rejectUnauthorized","NODE_TLS_REJECT_UNAUTHORIZED","setMaxListeners","Object","defineProperty","enumerable","get","defaultMaxSockets","globalAgent","maxSockets","Infinity","loadedBytes","reporter","_transform","chunk","encoding","length","emitter","HttpClient","prototype","streamsApiVersion","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '../core';\nimport { __cjsMetaURL as _req0} from '../http';\nimport { __cjsMetaURL as _req1} from 'https';\nimport { __cjsMetaURL as _req2} from 'http';\nimport { __cjsMetaURL as _req3} from 'https';\nimport { __cjsMetaURL as _req4} from 'http';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var AWS = require('../core');\n var Stream = AWS.util.stream.Stream;\n var TransformStream = AWS.util.stream.Transform;\n var ReadableStream = AWS.util.stream.Readable;\n require('../http');\n var CONNECTION_REUSE_ENV_NAME = 'AWS_NODEJS_CONNECTION_REUSE_ENABLED';\n\n /**\n  * @api private\n  */\n AWS.NodeHttpClient = AWS.util.inherit({\n   handleRequest: function handleRequest(httpRequest, httpOptions, callback, errCallback) {\n     var self = this;\n     var endpoint = httpRequest.endpoint;\n     var pathPrefix = '';\n     if (!httpOptions) httpOptions = {};\n     if (httpOptions.proxy) {\n       pathPrefix = endpoint.protocol + '//' + endpoint.hostname;\n       if (endpoint.port !== 80 && endpoint.port !== 443) {\n         pathPrefix += ':' + endpoint.port;\n       }\n       endpoint = new AWS.Endpoint(httpOptions.proxy);\n     }\n\n     var useSSL = endpoint.protocol === 'https:';\n     var http = useSSL ? require('https') : require('http');\n     var options = {\n       host: endpoint.hostname,\n       port: endpoint.port,\n       method: httpRequest.method,\n       headers: httpRequest.headers,\n       path: pathPrefix + httpRequest.path\n     };\n\n     AWS.util.update(options, httpOptions);\n\n     if (!httpOptions.agent) {\n       options.agent = this.getAgent(useSSL, {\n         keepAlive: process.env[CONNECTION_REUSE_ENV_NAME] === '1' ? true : false\n       });\n     }\n\n     delete options.proxy; // proxy isn't an HTTP option\n     delete options.timeout; // timeout isn't an HTTP option\n\n     var stream = http.request(options, function (httpResp) {\n       if (stream.didCallback) return;\n\n       callback(httpResp);\n       httpResp.emit(\n         'headers',\n         httpResp.statusCode,\n         httpResp.headers,\n         httpResp.statusMessage\n       );\n     });\n     httpRequest.stream = stream; // attach stream to httpRequest\n     stream.didCallback = false;\n\n     // connection timeout support\n     if (httpOptions.connectTimeout) {\n       var connectTimeoutId;\n       stream.on('socket', function(socket) {\n         if (socket.connecting) {\n           connectTimeoutId = setTimeout(function connectTimeout() {\n             if (stream.didCallback) return; stream.didCallback = true;\n\n             stream.abort();\n             errCallback(AWS.util.error(\n               new Error('Socket timed out without establishing a connection'),\n               {code: 'TimeoutError'}\n             ));\n           }, httpOptions.connectTimeout);\n           socket.on('connect', function() {\n             clearTimeout(connectTimeoutId);\n             connectTimeoutId = null;\n           });\n         }\n       });\n     }\n\n     // timeout support\n     stream.setTimeout(httpOptions.timeout || 0, function() {\n       if (stream.didCallback) return; stream.didCallback = true;\n\n       var msg = 'Connection timed out after ' + httpOptions.timeout + 'ms';\n       errCallback(AWS.util.error(new Error(msg), {code: 'TimeoutError'}));\n       stream.abort();\n     });\n\n     stream.on('error', function(err) {\n       if (connectTimeoutId) {\n         clearTimeout(connectTimeoutId);\n         connectTimeoutId = null;\n       }\n       if (stream.didCallback) return; stream.didCallback = true;\n       if ('ECONNRESET' === err.code || 'EPIPE' === err.code || 'ETIMEDOUT' === err.code) {\n         errCallback(AWS.util.error(err, {code: 'TimeoutError'}));\n       } else {\n         errCallback(err);\n       }\n     });\n\n     var expect = httpRequest.headers.Expect || httpRequest.headers.expect;\n     if (expect === '100-continue') {\n       stream.once('continue', function() {\n         self.writeBody(stream, httpRequest);\n       });\n     } else {\n       this.writeBody(stream, httpRequest);\n     }\n\n     return stream;\n   },\n\n   writeBody: function writeBody(stream, httpRequest) {\n     var body = httpRequest.body;\n     var totalBytes = parseInt(httpRequest.headers['Content-Length'], 10);\n\n     if (body instanceof Stream) {\n       // For progress support of streaming content -\n       // pipe the data through a transform stream to emit 'sendProgress' events\n       var progressStream = this.progressStream(stream, totalBytes);\n       if (progressStream) {\n         body.pipe(progressStream).pipe(stream);\n       } else {\n         body.pipe(stream);\n       }\n     } else if (body) {\n       // The provided body is a buffer/string and is already fully available in memory -\n       // For performance it's best to send it as a whole by calling stream.end(body),\n       // Callers expect a 'sendProgress' event which is best emitted once\n       // the http request stream has been fully written and all data flushed.\n       // The use of totalBytes is important over body.length for strings where\n       // length is char length and not byte length.\n       stream.once('finish', function() {\n         stream.emit('sendProgress', {\n           loaded: totalBytes,\n           total: totalBytes\n         });\n       });\n       stream.end(body);\n     } else {\n       // no request body\n       stream.end();\n     }\n   },\n\n   /**\n    * Create the https.Agent or http.Agent according to the request schema.\n    */\n   getAgent: function getAgent(useSSL, agentOptions) {\n     var http = useSSL ? require('https') : require('http');\n     if (useSSL) {\n       if (!AWS.NodeHttpClient.sslAgent) {\n         AWS.NodeHttpClient.sslAgent = new http.Agent(AWS.util.merge({\n           rejectUnauthorized: process.env.NODE_TLS_REJECT_UNAUTHORIZED === '0' ? false : true\n         }, agentOptions || {}));\n         AWS.NodeHttpClient.sslAgent.setMaxListeners(0);\n\n         // delegate maxSockets to globalAgent, set a default limit of 50 if current value is Infinity.\n         // Users can bypass this default by supplying their own Agent as part of SDK configuration.\n         Object.defineProperty(AWS.NodeHttpClient.sslAgent, 'maxSockets', {\n           enumerable: true,\n           get: function() {\n             var defaultMaxSockets = 50;\n             var globalAgent = http.globalAgent;\n             if (globalAgent && globalAgent.maxSockets !== Infinity && typeof globalAgent.maxSockets === 'number') {\n               return globalAgent.maxSockets;\n             }\n             return defaultMaxSockets;\n           }\n         });\n       }\n       return AWS.NodeHttpClient.sslAgent;\n     } else {\n       if (!AWS.NodeHttpClient.agent) {\n         AWS.NodeHttpClient.agent = new http.Agent(agentOptions);\n       }\n       return AWS.NodeHttpClient.agent;\n     }\n   },\n\n   progressStream: function progressStream(stream, totalBytes) {\n     if (typeof TransformStream === 'undefined') {\n       // for node 0.8 there is no streaming progress\n       return;\n     }\n     var loadedBytes = 0;\n     var reporter = new TransformStream();\n     reporter._transform = function(chunk, encoding, callback) {\n       if (chunk) {\n         loadedBytes += chunk.length;\n         stream.emit('sendProgress', {\n           loaded: loadedBytes,\n           total: totalBytes\n         });\n       }\n       callback(null, chunk);\n     };\n     return reporter;\n   },\n\n   emitter: null\n });\n\n /**\n  * @!ignore\n  */\n\n /**\n  * @api private\n  */\n AWS.HttpClient.prototype = AWS.NodeHttpClient.prototype;\n\n /**\n  * @api private\n  */\n AWS.HttpClient.streamsApiVersion = ReadableStream ? 2 : 1;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  '../core': _req,\n  '../http': _req0,\n  'https': _req1,\n  'http': _req2,\n  'https': _req3,\n  'http': _req4,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}