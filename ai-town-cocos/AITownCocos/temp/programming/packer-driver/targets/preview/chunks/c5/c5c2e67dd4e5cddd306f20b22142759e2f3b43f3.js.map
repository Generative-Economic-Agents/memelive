{"version":3,"sources":["file:///Users/feiwang/cutepet/assets/src/module/main/jishi/GoumaiZZItem.ts"],"names":["_decorator","Component","Node","Label","showMsg2","modelMgr","uiMgr","LoadingController","DataEvents","StringUtils","WebUtils","JishiGoumaiZZTK","Log","ccclass","property","TAG","GoumaiZZItem","String","_da","isSelectShow","isSelect","start","node","on","updateData","onDestroy","off","onEnable","EventType","TOUCH_END","touchEndHandler","jishiModel","UPDATE_JISHI_SHOP","freshShopData","UPDATE_JISHI_STORE","freshData","onDisable","setXiangou","spr_xiangou","bg","getChildByName","label","bgres","restrict","active","getResouceImg","getComponent","string","quanta","quota","setGray","setSelcet","da","oprType","hasPlSelect","spr_select","data","from","ind","hasSelectData","indexOf","splice","push","update","deltaTime","seedId","dimension","subType","icon","console","warn","getRemoteImg","itempic","chiyou","amount","shoujia","buyPrice","Sprite_jiesuo","salePrice","Label_name","name","evt","sell","log","DATA","ins","showLoading","popToParent"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Label, Sprite } from 'cc';\nimport { showMsg2 } from '../../../core/message/MessageManager';\nimport { EventType } from '../../../EventType';\nimport { modelMgr, observer, uiMgr } from '../../../game/App';\nimport { LoadingController } from '../../../game/components/LoadingController';\nimport { DataEvents } from '../../../model/DataEvents';\nimport StringUtils from '../../../utils/StringUtils';\nimport WebUtils from '../../../utils/WebUtils';\nimport { JishiGoumaiZZTK } from './JishiGoumaiZZTK';\nimport Log from '../../../../../assets/src/utils/LogUtils'\nconst { ccclass, property } = _decorator;\n\nconst TAG = 'GoumaiZZItem'\n/**\n * 种子item\n */\n@ccclass('GoumaiZZItem')\nexport class GoumaiZZItem extends Component {\n    @property(String)\n    public oprType: string = \"\";\n    @property(Node)\n    public itempic: Node = null;\n    @property(Node)\n    public spr_select: Node = null;\n    @property(Label)\n    public chiyou: Label = null;\n    @property(Label)\n    public Label_name: Label = null;\n    @property(Node)\n    public Sprite_jiesuo: Node = null;\n    @property(Label)\n    public Label_jiesuo: Label = null;\n    @property(Label)\n    public shoujia: Label = null;\n    @property(Node)\n    public spr_xiangou: Node = null;\n    public _da;\n    isSelectShow: boolean;\n    start() {\n\n        this.node.on(\"update_data\", this.updateData, this);\n    }\n    onDestroy() {\n        this.node.off(\"update_data\", this.updateData, this);\n\n\n    }\n    onEnable() {\n        this.node.on(\"update_data\", this.updateData, this);\n        this.node.on(Node.EventType.TOUCH_END, this.touchEndHandler, this);\n        // observer.on(EventType.CHOUSHOU_ITEM_SELECTSTATE, this.setSelcet, this);\n        modelMgr.jishiModel.on(DataEvents.UPDATE_JISHI_SHOP, this.freshShopData, this);\n        modelMgr.jishiModel.on(DataEvents.UPDATE_JISHI_STORE, this.freshData, this);\n\n    }\n    onDisable() {\n        this.node.off(Node.EventType.TOUCH_END, this.touchEndHandler, this);\n        this.node.off(\"update_data\", this.updateData, this);\n        // observer.off(EventType.CHOUSHOU_ITEM_SELECTSTATE, this.setSelcet, this);\n        modelMgr.jishiModel.off(DataEvents.UPDATE_JISHI_SHOP, this.freshShopData, this);\n        modelMgr.jishiModel.off(DataEvents.UPDATE_JISHI_STORE, this.freshData, this);\n    }\n\n    /**\n     * 设置限购\n     */\n    public setXiangou() {\n        // \"restrict\": 0, //限购类型(0:不限购|1:每日限购|2:每周限购|3:每月限购|4:赛季限购)\n        // \"quota\": 0, //限购数量\n        // \"sale\": false, //是否可卖(已达到限购数量)\n        if (!this.spr_xiangou) {\n            return;\n        }\n        let bg = this.spr_xiangou.getChildByName(\"Sprite_bg\");\n        let label = this.spr_xiangou.getChildByName(\"Label_num\");\n        let bgres = \"\";\n        switch (this._da.restrict) {\n            case 0:\n                this.spr_xiangou.active = false;\n                break;\n            case 1:\n                this.spr_xiangou.active = true;\n                bgres = \"newjishi/xiangou_1\";\n                break;\n            case 2:\n                this.spr_xiangou.active = true;\n                bgres = \"newjishi/xiangou_3\";\n                break;\n            case 3:\n                this.spr_xiangou.active = true;\n                bgres = \"newjishi/xiangou_2\";\n                break;\n            case 4:\n                this.spr_xiangou.active = false;\n                break;\n            default:\n                this.spr_xiangou.active = false;\n                break;\n        }\n        if(this.spr_xiangou.active&&bgres){\n            WebUtils.getResouceImg(bgres, bg);\n            label.getComponent(Label).string = this._da.quanta + \"/\" + this._da.quota;\n            if (this._da.quanta >= this._da.quota) {\n                StringUtils.setGray(this.node, 1);\n            } else {\n                StringUtils.setGray(this.node, 0);\n            }\n        }\n    }\n    public setSelcet(da) {\n        if (this.oprType == \"chushou\") {\n            if (modelMgr.jishiModel.hasPlSelect) {\n                this.isSelectShow = true;\n            } else {\n                this.isSelectShow = false;\n            }\n            this.spr_select.active = this.isSelectShow;\n\n\n\n            if (da.data.from == \"self\") {\n                this.isSelect = da.data.isSelect;\n                if (this.isSelect) {\n                    WebUtils.getResouceImg(\"newjishi/select\", this.spr_select);\n                } else {\n                    WebUtils.getResouceImg(\"newjishi/unselect\", this.spr_select);\n                }\n            }\n\n            let ind = modelMgr.jishiModel.hasSelectData.indexOf(this._da);\n            if (!this.isSelect) {\n                if (ind >= 0) {\n                    modelMgr.jishiModel.hasSelectData.splice(ind, 1);\n                }\n            } else if (this.isSelect && da.data.from == \"self\") {\n                modelMgr.jishiModel.hasSelectData.push(this._da);\n            }\n        }\n    }\n\n\n    update(deltaTime: number) {\n\n    }\n\n\n    /**\n     * 出售\n     * @param da \n     */\n    public freshData(da) {//seedId == subtype 种子或道具的id\n        if (da && da.data) {\n            if (this._da && this._da.seedId == da.data.seedId && this._da.dimension)//dimension 确认是种子\n                this._da = da.data;// 添加后,刷新出现item 丢失 \n            this.updateData(this._da);\n        }\n    }\n\n    /**\n     * 购买\n     * @param da \n     */\n    public freshShopData(da) {\n        if (da && da.data) {\n            if (this._da && this._da.subType && this._da.subType == da.data.subType && this._da.dimension)//dimension 确认是种子\n                this._da = da.data;// 添加后,刷新出现item 丢失 \n            this.updateData(this._da);\n        }\n    }\n\n    /**\n     * 视图更新\n     * @param da \n     */\n    public updateData(da) {\n        this._da = da;\n        if (this._da) {\n            this.node.active = true;\n            if (!this._da.icon) {\n                console.warn(\"没有图片:\", this._da);\n            }else{\n                WebUtils.getRemoteImg(this._da.icon  + \"?imageView&thumbnail=162x191\", this.itempic);\n            }\n            if (this.oprType == \"goumai\") {\n                this.chiyou.string = \"持有:\" + this._da.amount + \"\";\n                this.shoujia.string = this._da.buyPrice + \"\";\n                this.Sprite_jiesuo.active = false;\n                this.setXiangou();\n            } else if (this.oprType == \"chushou\") {\n                this.chiyou.string = \"持有:\" + this._da.amount + \"\";\n                this.shoujia.string = this._da.salePrice + \"\";\n                this.setSelcet({ data: { isSelect: false } });//每次更新数据都要重置选择\n            }\n            this.Label_name.string = this._da.name + \"\";\n        } else {\n            this.node.active = false;\n        }\n    }\n    public isSelect: boolean;\n    /**\n     * \n     * @param evt \n     */\n    private touchEndHandler(evt: TouchEvent) {\n        if (this.oprType == \"goumai\") {\n\n            if (this._da.quota!=0&&this._da.quanta >= this._da.quota) {\n                showMsg2(\"已达到限购数量，不能购买\");\n                return;\n            }\n            if (!this._da.sell) {\n            // if (this._da.unlockLevel>modelMgr.mainModel.userinfo.level) {\n                showMsg2(\"等级不足，不能购买未解锁的商品\");\n                return;\n            }\n\n        }\n\n        if (this.oprType == \"chushou\" && modelMgr.jishiModel.hasPlSelect) {\n            this.setSelcet({ data: { isSelect: !this.isSelect, from: \"self\" } });\n            Log.log(TAG ,modelMgr.jishiModel.hasSelectData);\n        } else {\n            JishiGoumaiZZTK.oprType = this.oprType;\n            JishiGoumaiZZTK.DATA = this._da;\n            //弹出购买弹框\n            LoadingController.ins.showLoading();\n\n            uiMgr.popToParent(\"prefabs/jishi/pre_jishiGmZZ\");\n        }\n\n    }\n\n\n}\n\n"]}