{"version":3,"sources":["file:///Users/feiwang/AITown/AITownCocos/assets/src/utils/Base64Utils.ts"],"names":["Base64Utils","encode","input","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","i","_utf8_encode","length","charCodeAt","isNaN","_keyStr","charAt","Base64","decode","replace","indexOf","String","fromCharCode","_utf8_decode","string","utftext","n","c","c1","c2","c3"],"mappings":";;;iBAAqBA,W;;;;;;;;;;;;;yBAAAA,W,GAAN,MAAMA,WAAN,CAAkB;AAG7B;AACoB,eAANC,MAAM,CAACC,KAAD,EAAQ;AACxB,cAAIC,MAAM,GAAG,EAAb;AACA,cAAIC,IAAJ,EAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,IAAtB,EAA4BC,IAA5B,EAAkCC,IAAlC,EAAwCC,IAAxC;AACA,cAAIC,CAAC,GAAG,CAAR;AACAT,UAAAA,KAAK,GAAG,KAAKU,YAAL,CAAkBV,KAAlB,CAAR;;AACA,iBAAOS,CAAC,GAAGT,KAAK,CAACW,MAAjB,EAAyB;AACrBT,YAAAA,IAAI,GAAGF,KAAK,CAACY,UAAN,CAAiBH,CAAC,EAAlB,CAAP;AACAN,YAAAA,IAAI,GAAGH,KAAK,CAACY,UAAN,CAAiBH,CAAC,EAAlB,CAAP;AACAL,YAAAA,IAAI,GAAGJ,KAAK,CAACY,UAAN,CAAiBH,CAAC,EAAlB,CAAP;AACAJ,YAAAA,IAAI,GAAGH,IAAI,IAAI,CAAf;AACAI,YAAAA,IAAI,GAAI,CAACJ,IAAI,GAAG,CAAR,KAAc,CAAf,GAAqBC,IAAI,IAAI,CAApC;AACAI,YAAAA,IAAI,GAAI,CAACJ,IAAI,GAAG,EAAR,KAAe,CAAhB,GAAsBC,IAAI,IAAI,CAArC;AACAI,YAAAA,IAAI,GAAGJ,IAAI,GAAG,EAAd;;AACA,gBAAIS,KAAK,CAACV,IAAD,CAAT,EAAiB;AACbI,cAAAA,IAAI,GAAGC,IAAI,GAAG,EAAd;AACH,aAFD,MAEO,IAAIK,KAAK,CAACT,IAAD,CAAT,EAAiB;AACpBI,cAAAA,IAAI,GAAG,EAAP;AACH;;AACDP,YAAAA,MAAM,GAAGA,MAAM,GAAG,KAAKa,OAAL,CAAaC,MAAb,CAAoBV,IAApB,CAAT,GAAqC,KAAKS,OAAL,CAAaC,MAAb,CAAoBT,IAApB,CAArC,GACH,KAAKQ,OAAL,CAAaC,MAAb,CAAoBR,IAApB,CADG,GACyB,KAAKO,OAAL,CAAaC,MAAb,CAAoBP,IAApB,CADlC;AAEH;;AACD,iBAAOP,MAAP;AACH;;AACDe,QAAAA,MAAM,GAAG,CAAG,CA3BiB,CA4B7B;;;AACoB,eAANC,MAAM,CAACjB,KAAD,EAAQ;AACxB,cAAIC,MAAM,GAAG,EAAb;AACA,cAAIC,IAAJ,EAAUC,IAAV,EAAgBC,IAAhB;AACA,cAAIC,IAAJ,EAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,IAAtB;AACA,cAAIC,CAAC,GAAG,CAAR;AACAT,UAAAA,KAAK,GAAGA,KAAK,CAACkB,OAAN,CAAc,qBAAd,EAAqC,EAArC,CAAR;;AACA,iBAAOT,CAAC,GAAGT,KAAK,CAACW,MAAjB,EAAyB;AACrBN,YAAAA,IAAI,GAAG,KAAKS,OAAL,CAAaK,OAAb,CAAqBnB,KAAK,CAACe,MAAN,CAAaN,CAAC,EAAd,CAArB,CAAP;AACAH,YAAAA,IAAI,GAAG,KAAKQ,OAAL,CAAaK,OAAb,CAAqBnB,KAAK,CAACe,MAAN,CAAaN,CAAC,EAAd,CAArB,CAAP;AACAF,YAAAA,IAAI,GAAG,KAAKO,OAAL,CAAaK,OAAb,CAAqBnB,KAAK,CAACe,MAAN,CAAaN,CAAC,EAAd,CAArB,CAAP;AACAD,YAAAA,IAAI,GAAG,KAAKM,OAAL,CAAaK,OAAb,CAAqBnB,KAAK,CAACe,MAAN,CAAaN,CAAC,EAAd,CAArB,CAAP;AACAP,YAAAA,IAAI,GAAIG,IAAI,IAAI,CAAT,GAAeC,IAAI,IAAI,CAA9B;AACAH,YAAAA,IAAI,GAAI,CAACG,IAAI,GAAG,EAAR,KAAe,CAAhB,GAAsBC,IAAI,IAAI,CAArC;AACAH,YAAAA,IAAI,GAAI,CAACG,IAAI,GAAG,CAAR,KAAc,CAAf,GAAoBC,IAA3B;AACAP,YAAAA,MAAM,GAAGA,MAAM,GAAGmB,MAAM,CAACC,YAAP,CAAoBnB,IAApB,CAAlB;;AACA,gBAAIK,IAAI,IAAI,EAAZ,EAAgB;AACZN,cAAAA,MAAM,GAAGA,MAAM,GAAGmB,MAAM,CAACC,YAAP,CAAoBlB,IAApB,CAAlB;AACH;;AACD,gBAAIK,IAAI,IAAI,EAAZ,EAAgB;AACZP,cAAAA,MAAM,GAAGA,MAAM,GAAGmB,MAAM,CAACC,YAAP,CAAoBjB,IAApB,CAAlB;AACH;AACJ;;AACDH,UAAAA,MAAM,GAAG,KAAKqB,YAAL,CAAkBrB,MAAlB,CAAT;AACA,iBAAOA,MAAP;AACH,SArD4B,CAuD7B;;;AAC0B,eAAZS,YAAY,CAACa,MAAD,EAAS;AAC/BA,UAAAA,MAAM,GAAGA,MAAM,CAACL,OAAP,CAAe,OAAf,EAAwB,IAAxB,CAAT;AACA,cAAIM,OAAO,GAAG,EAAd;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,MAAM,CAACZ,MAA3B,EAAmCc,CAAC,EAApC,EAAwC;AACpC,gBAAIC,CAAC,GAAGH,MAAM,CAACX,UAAP,CAAkBa,CAAlB,CAAR;;AACA,gBAAIC,CAAC,GAAG,GAAR,EAAa;AACTF,cAAAA,OAAO,IAAIJ,MAAM,CAACC,YAAP,CAAoBK,CAApB,CAAX;AACH,aAFD,MAEO,IAAKA,CAAC,GAAG,GAAL,IAAcA,CAAC,GAAG,IAAtB,EAA6B;AAChCF,cAAAA,OAAO,IAAIJ,MAAM,CAACC,YAAP,CAAqBK,CAAC,IAAI,CAAN,GAAW,GAA/B,CAAX;AACAF,cAAAA,OAAO,IAAIJ,MAAM,CAACC,YAAP,CAAqBK,CAAC,GAAG,EAAL,GAAW,GAA/B,CAAX;AACH,aAHM,MAGA;AACHF,cAAAA,OAAO,IAAIJ,MAAM,CAACC,YAAP,CAAqBK,CAAC,IAAI,EAAN,GAAY,GAAhC,CAAX;AACAF,cAAAA,OAAO,IAAIJ,MAAM,CAACC,YAAP,CAAsBK,CAAC,IAAI,CAAN,GAAW,EAAZ,GAAkB,GAAtC,CAAX;AACAF,cAAAA,OAAO,IAAIJ,MAAM,CAACC,YAAP,CAAqBK,CAAC,GAAG,EAAL,GAAW,GAA/B,CAAX;AACH;AAEJ;;AACD,iBAAOF,OAAP;AACH,SA1E4B,CA4E7B;;;AAC0B,eAAZF,YAAY,CAACE,OAAD,EAAU;AAChC,cAAID,MAAM,GAAG,EAAb;AACA,cAAId,CAAC,GAAG,CAAR;AACA,cAAIiB,CAAC,GAAG,CAAR;AACA,cAAIC,EAAE,GAAG,CAAT;AACA,cAAIC,EAAE,GAAG,CAAT;;AACA,iBAAOnB,CAAC,GAAGe,OAAO,CAACb,MAAnB,EAA2B;AACvBe,YAAAA,CAAC,GAAGF,OAAO,CAACZ,UAAR,CAAmBH,CAAnB,CAAJ;;AACA,gBAAIiB,CAAC,GAAG,GAAR,EAAa;AACTH,cAAAA,MAAM,IAAIH,MAAM,CAACC,YAAP,CAAoBK,CAApB,CAAV;AACAjB,cAAAA,CAAC;AACJ,aAHD,MAGO,IAAKiB,CAAC,GAAG,GAAL,IAAcA,CAAC,GAAG,GAAtB,EAA4B;AAC/BE,cAAAA,EAAE,GAAGJ,OAAO,CAACZ,UAAR,CAAmBH,CAAC,GAAG,CAAvB,CAAL;AACAc,cAAAA,MAAM,IAAIH,MAAM,CAACC,YAAP,CAAqB,CAACK,CAAC,GAAG,EAAL,KAAY,CAAb,GAAmBE,EAAE,GAAG,EAA5C,CAAV;AACAnB,cAAAA,CAAC,IAAI,CAAL;AACH,aAJM,MAIA;AACHmB,cAAAA,EAAE,GAAGJ,OAAO,CAACZ,UAAR,CAAmBH,CAAC,GAAG,CAAvB,CAAL;AACA,kBAAIoB,EAAE,GAAGL,OAAO,CAACZ,UAAR,CAAmBH,CAAC,GAAG,CAAvB,CAAT;AACAc,cAAAA,MAAM,IAAIH,MAAM,CAACC,YAAP,CAAqB,CAACK,CAAC,GAAG,EAAL,KAAY,EAAb,GACvB,CAACE,EAAE,GAAG,EAAN,KAAa,CADU,GACJC,EAAE,GAAG,EADrB,CAAV;AAEApB,cAAAA,CAAC,IAAI,CAAL;AACH;AACJ;;AACD,iBAAOc,MAAP;AACH;;AArG4B,O;;AAC7B;AADiBzB,MAAAA,W,CAEVgB,O,GAAU,mE","sourcesContent":["export default class Base64Utils {\n    // private property\n    static _keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    // public method for encoding\n    public static encode(input) {\n        var output = \"\";\n        var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n        var i = 0;\n        input = this._utf8_encode(input);\n        while (i < input.length) {\n            chr1 = input.charCodeAt(i++);\n            chr2 = input.charCodeAt(i++);\n            chr3 = input.charCodeAt(i++);\n            enc1 = chr1 >> 2;\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n            enc4 = chr3 & 63;\n            if (isNaN(chr2)) {\n                enc3 = enc4 = 64;\n            } else if (isNaN(chr3)) {\n                enc4 = 64;\n            }\n            output = output + this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2)\n                + this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\n        }\n        return output;\n    }\n    Base64() { }\n    // public method for decoding\n    public static decode(input) {\n        var output = \"\";\n        var chr1, chr2, chr3;\n        var enc1, enc2, enc3, enc4;\n        var i = 0;\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n        while (i < input.length) {\n            enc1 = this._keyStr.indexOf(input.charAt(i++));\n            enc2 = this._keyStr.indexOf(input.charAt(i++));\n            enc3 = this._keyStr.indexOf(input.charAt(i++));\n            enc4 = this._keyStr.indexOf(input.charAt(i++));\n            chr1 = (enc1 << 2) | (enc2 >> 4);\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n            chr3 = ((enc3 & 3) << 6) | enc4;\n            output = output + String.fromCharCode(chr1);\n            if (enc3 != 64) {\n                output = output + String.fromCharCode(chr2);\n            }\n            if (enc4 != 64) {\n                output = output + String.fromCharCode(chr3);\n            }\n        }\n        output = this._utf8_decode(output);\n        return output;\n    }\n\n    // private method for UTF-8 encoding\n    public static _utf8_encode(string) {\n        string = string.replace(/\\r\\n/g, \"\\n\");\n        var utftext = \"\";\n        for (var n = 0; n < string.length; n++) {\n            var c = string.charCodeAt(n);\n            if (c < 128) {\n                utftext += String.fromCharCode(c);\n            } else if ((c > 127) && (c < 2048)) {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            } else {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n\n        }\n        return utftext;\n    }\n\n    // private method for UTF-8 decoding\n    public static _utf8_decode(utftext) {\n        var string = \"\";\n        var i = 0;\n        var c = 0;\n        var c1 = 0;\n        var c2 = 0;\n        while (i < utftext.length) {\n            c = utftext.charCodeAt(i);\n            if (c < 128) {\n                string += String.fromCharCode(c);\n                i++;\n            } else if ((c > 191) && (c < 224)) {\n                c2 = utftext.charCodeAt(i + 1);\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n                i += 2;\n            } else {\n                c2 = utftext.charCodeAt(i + 1);\n                var c3 = utftext.charCodeAt(i + 2);\n                string += String.fromCharCode(((c & 15) << 12)\n                    | ((c2 & 63) << 6) | (c3 & 63));\n                i += 3;\n            }\n        }\n        return string;\n    }\n}"]}