{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws4/aws4.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","url","define","exports","require","module","__filename","__dirname","aws4","querystring","crypto","lru","credentialsCache","hmac","key","string","encoding","createHmac","update","digest","hash","createHash","encodeRfc3986","urlEncodedString","replace","c","charCodeAt","toString","toUpperCase","encodeRfc3986Full","str","encodeURIComponent","HEADERS_TO_IGNORE","RequestSigner","request","credentials","parse","headers","Object","assign","hostParts","service","region","matchHost","hostname","host","Host","defaultCredentials","method","body","createHost","port","isCodeCommitGit","extraHeadersToIgnore","create","extraHeadersToInclude","prototype","match","slice","reverse","i","test","isSingleRegion","indexOf","subdomain","prepareRequest","parsePath","query","signQuery","parsedPath","sessionToken","datetime","getDateTime","accessKeyId","credentialString","signedHeaders","doNotModifyHeaders","Buffer","byteLength","Authorization","authorization","sign","signature","authHeader","path","formatPath","date","Date","toISOString","getDate","substr","join","cacheKey","secretAccessKey","kDate","kRegion","kService","kCredentials","get","set","stringToSign","canonicalString","pathStr","queryStr","normalizePath","decodePath","doNotEncodePath","decodeSlashesInPath","firstValOnly","bodyHash","reducedQuery","keys","reduce","obj","Array","isArray","encodedQueryPieces","sort","forEach","push","map","val","split","piece","pop","decodeURIComponent","canonicalHeaders","trimAll","header","trim","filter","toLowerCase","a","b","env","process","AWS_ACCESS_KEY_ID","AWS_ACCESS_KEY","AWS_SECRET_ACCESS_KEY","AWS_SECRET_KEY","AWS_SESSION_TOKEN","encodeURI","decodeURI","queryIx","stringify","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from 'url';\nimport { __cjsMetaURL as _req0} from 'querystring';\nimport { __cjsMetaURL as _req1} from 'crypto';\nimport { __cjsMetaURL as _req2} from './lru';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var aws4 = exports,\n     url = require('url'),\n     querystring = require('querystring'),\n     crypto = require('crypto'),\n     lru = require('./lru'),\n     credentialsCache = lru(1000)\n\n // http://docs.amazonwebservices.com/general/latest/gr/signature-version-4.html\n\n function hmac(key, string, encoding) {\n   return crypto.createHmac('sha256', key).update(string, 'utf8').digest(encoding)\n }\n\n function hash(string, encoding) {\n   return crypto.createHash('sha256').update(string, 'utf8').digest(encoding)\n }\n\n // This function assumes the string has already been percent encoded\n function encodeRfc3986(urlEncodedString) {\n   return urlEncodedString.replace(/[!'()*]/g, function(c) {\n     return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n   })\n }\n\n function encodeRfc3986Full(str) {\n   return encodeRfc3986(encodeURIComponent(str))\n }\n\n // A bit of a combination of:\n // https://github.com/aws/aws-sdk-java-v2/blob/dc695de6ab49ad03934e1b02e7263abbd2354be0/core/auth/src/main/java/software/amazon/awssdk/auth/signer/internal/AbstractAws4Signer.java#L59\n // https://github.com/aws/aws-sdk-js/blob/18cb7e5b463b46239f9fdd4a65e2ff8c81831e8f/lib/signers/v4.js#L191-L199\n // https://github.com/mhart/aws4fetch/blob/b3aed16b6f17384cf36ea33bcba3c1e9f3bdfefd/src/main.js#L25-L34\n var HEADERS_TO_IGNORE = {\n   'authorization': true,\n   'connection': true,\n   'x-amzn-trace-id': true,\n   'user-agent': true,\n   'expect': true,\n   'presigned-expires': true,\n   'range': true,\n }\n\n // request: { path | body, [host], [method], [headers], [service], [region] }\n // credentials: { accessKeyId, secretAccessKey, [sessionToken] }\n function RequestSigner(request, credentials) {\n\n   if (typeof request === 'string') request = url.parse(request)\n\n   var headers = request.headers = Object.assign({}, (request.headers || {})),\n       hostParts = (!this.service || !this.region) && this.matchHost(request.hostname || request.host || headers.Host || headers.host)\n\n   this.request = request\n   this.credentials = credentials || this.defaultCredentials()\n\n   this.service = request.service || hostParts[0] || ''\n   this.region = request.region || hostParts[1] || 'us-east-1'\n\n   // SES uses a different domain from the service name\n   if (this.service === 'email') this.service = 'ses'\n\n   if (!request.method && request.body)\n     request.method = 'POST'\n\n   if (!headers.Host && !headers.host) {\n     headers.Host = request.hostname || request.host || this.createHost()\n\n     // If a port is specified explicitly, use it as is\n     if (request.port)\n       headers.Host += ':' + request.port\n   }\n   if (!request.hostname && !request.host)\n     request.hostname = headers.Host || headers.host\n\n   this.isCodeCommitGit = this.service === 'codecommit' && request.method === 'GIT'\n\n   this.extraHeadersToIgnore = request.extraHeadersToIgnore || Object.create(null)\n   this.extraHeadersToInclude = request.extraHeadersToInclude || Object.create(null)\n }\n\n RequestSigner.prototype.matchHost = function(host) {\n   var match = (host || '').match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com(\\.cn)?$/)\n   var hostParts = (match || []).slice(1, 3)\n\n   // ES's hostParts are sometimes the other way round, if the value that is expected\n   // to be region equals ‘es’ switch them back\n   // e.g. search-cluster-name-aaaa00aaaa0aaa0aaaaaaa0aaa.us-east-1.es.amazonaws.com\n   if (hostParts[1] === 'es' || hostParts[1] === 'aoss')\n     hostParts = hostParts.reverse()\n\n   if (hostParts[1] == 's3') {\n     hostParts[0] = 's3'\n     hostParts[1] = 'us-east-1'\n   } else {\n     for (var i = 0; i < 2; i++) {\n       if (/^s3-/.test(hostParts[i])) {\n         hostParts[1] = hostParts[i].slice(3)\n         hostParts[0] = 's3'\n         break\n       }\n     }\n   }\n\n   return hostParts\n }\n\n // http://docs.aws.amazon.com/general/latest/gr/rande.html\n RequestSigner.prototype.isSingleRegion = function() {\n   // Special case for S3 and SimpleDB in us-east-1\n   if (['s3', 'sdb'].indexOf(this.service) >= 0 && this.region === 'us-east-1') return true\n\n   return ['cloudfront', 'ls', 'route53', 'iam', 'importexport', 'sts']\n     .indexOf(this.service) >= 0\n }\n\n RequestSigner.prototype.createHost = function() {\n   var region = this.isSingleRegion() ? '' : '.' + this.region,\n       subdomain = this.service === 'ses' ? 'email' : this.service\n   return subdomain + region + '.amazonaws.com'\n }\n\n RequestSigner.prototype.prepareRequest = function() {\n   this.parsePath()\n\n   var request = this.request, headers = request.headers, query\n\n   if (request.signQuery) {\n\n     this.parsedPath.query = query = this.parsedPath.query || {}\n\n     if (this.credentials.sessionToken)\n       query['X-Amz-Security-Token'] = this.credentials.sessionToken\n\n     if (this.service === 's3' && !query['X-Amz-Expires'])\n       query['X-Amz-Expires'] = 86400\n\n     if (query['X-Amz-Date'])\n       this.datetime = query['X-Amz-Date']\n     else\n       query['X-Amz-Date'] = this.getDateTime()\n\n     query['X-Amz-Algorithm'] = 'AWS4-HMAC-SHA256'\n     query['X-Amz-Credential'] = this.credentials.accessKeyId + '/' + this.credentialString()\n     query['X-Amz-SignedHeaders'] = this.signedHeaders()\n\n   } else {\n\n     if (!request.doNotModifyHeaders && !this.isCodeCommitGit) {\n       if (request.body && !headers['Content-Type'] && !headers['content-type'])\n         headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=utf-8'\n\n       if (request.body && !headers['Content-Length'] && !headers['content-length'])\n         headers['Content-Length'] = Buffer.byteLength(request.body)\n\n       if (this.credentials.sessionToken && !headers['X-Amz-Security-Token'] && !headers['x-amz-security-token'])\n         headers['X-Amz-Security-Token'] = this.credentials.sessionToken\n\n       if (this.service === 's3' && !headers['X-Amz-Content-Sha256'] && !headers['x-amz-content-sha256'])\n         headers['X-Amz-Content-Sha256'] = hash(this.request.body || '', 'hex')\n\n       if (headers['X-Amz-Date'] || headers['x-amz-date'])\n         this.datetime = headers['X-Amz-Date'] || headers['x-amz-date']\n       else\n         headers['X-Amz-Date'] = this.getDateTime()\n     }\n\n     delete headers.Authorization\n     delete headers.authorization\n   }\n }\n\n RequestSigner.prototype.sign = function() {\n   if (!this.parsedPath) this.prepareRequest()\n\n   if (this.request.signQuery) {\n     this.parsedPath.query['X-Amz-Signature'] = this.signature()\n   } else {\n     this.request.headers.Authorization = this.authHeader()\n   }\n\n   this.request.path = this.formatPath()\n\n   return this.request\n }\n\n RequestSigner.prototype.getDateTime = function() {\n   if (!this.datetime) {\n     var headers = this.request.headers,\n       date = new Date(headers.Date || headers.date || new Date)\n\n     this.datetime = date.toISOString().replace(/[:\\-]|\\.\\d{3}/g, '')\n\n     // Remove the trailing 'Z' on the timestamp string for CodeCommit git access\n     if (this.isCodeCommitGit) this.datetime = this.datetime.slice(0, -1)\n   }\n   return this.datetime\n }\n\n RequestSigner.prototype.getDate = function() {\n   return this.getDateTime().substr(0, 8)\n }\n\n RequestSigner.prototype.authHeader = function() {\n   return [\n     'AWS4-HMAC-SHA256 Credential=' + this.credentials.accessKeyId + '/' + this.credentialString(),\n     'SignedHeaders=' + this.signedHeaders(),\n     'Signature=' + this.signature(),\n   ].join(', ')\n }\n\n RequestSigner.prototype.signature = function() {\n   var date = this.getDate(),\n       cacheKey = [this.credentials.secretAccessKey, date, this.region, this.service].join(),\n       kDate, kRegion, kService, kCredentials = credentialsCache.get(cacheKey)\n   if (!kCredentials) {\n     kDate = hmac('AWS4' + this.credentials.secretAccessKey, date)\n     kRegion = hmac(kDate, this.region)\n     kService = hmac(kRegion, this.service)\n     kCredentials = hmac(kService, 'aws4_request')\n     credentialsCache.set(cacheKey, kCredentials)\n   }\n   return hmac(kCredentials, this.stringToSign(), 'hex')\n }\n\n RequestSigner.prototype.stringToSign = function() {\n   return [\n     'AWS4-HMAC-SHA256',\n     this.getDateTime(),\n     this.credentialString(),\n     hash(this.canonicalString(), 'hex'),\n   ].join('\\n')\n }\n\n RequestSigner.prototype.canonicalString = function() {\n   if (!this.parsedPath) this.prepareRequest()\n\n   var pathStr = this.parsedPath.path,\n       query = this.parsedPath.query,\n       headers = this.request.headers,\n       queryStr = '',\n       normalizePath = this.service !== 's3',\n       decodePath = this.service === 's3' || this.request.doNotEncodePath,\n       decodeSlashesInPath = this.service === 's3',\n       firstValOnly = this.service === 's3',\n       bodyHash\n\n   if (this.service === 's3' && this.request.signQuery) {\n     bodyHash = 'UNSIGNED-PAYLOAD'\n   } else if (this.isCodeCommitGit) {\n     bodyHash = ''\n   } else {\n     bodyHash = headers['X-Amz-Content-Sha256'] || headers['x-amz-content-sha256'] ||\n       hash(this.request.body || '', 'hex')\n   }\n\n   if (query) {\n     var reducedQuery = Object.keys(query).reduce(function(obj, key) {\n       if (!key) return obj\n       obj[encodeRfc3986Full(key)] = !Array.isArray(query[key]) ? query[key] :\n         (firstValOnly ? query[key][0] : query[key])\n       return obj\n     }, {})\n     var encodedQueryPieces = []\n     Object.keys(reducedQuery).sort().forEach(function(key) {\n       if (!Array.isArray(reducedQuery[key])) {\n         encodedQueryPieces.push(key + '=' + encodeRfc3986Full(reducedQuery[key]))\n       } else {\n         reducedQuery[key].map(encodeRfc3986Full).sort()\n           .forEach(function(val) { encodedQueryPieces.push(key + '=' + val) })\n       }\n     })\n     queryStr = encodedQueryPieces.join('&')\n   }\n   if (pathStr !== '/') {\n     if (normalizePath) pathStr = pathStr.replace(/\\/{2,}/g, '/')\n     pathStr = pathStr.split('/').reduce(function(path, piece) {\n       if (normalizePath && piece === '..') {\n         path.pop()\n       } else if (!normalizePath || piece !== '.') {\n         if (decodePath) piece = decodeURIComponent(piece.replace(/\\+/g, ' '))\n         path.push(encodeRfc3986Full(piece))\n       }\n       return path\n     }, []).join('/')\n     if (pathStr[0] !== '/') pathStr = '/' + pathStr\n     if (decodeSlashesInPath) pathStr = pathStr.replace(/%2F/g, '/')\n   }\n\n   return [\n     this.request.method || 'GET',\n     pathStr,\n     queryStr,\n     this.canonicalHeaders() + '\\n',\n     this.signedHeaders(),\n     bodyHash,\n   ].join('\\n')\n }\n\n RequestSigner.prototype.canonicalHeaders = function() {\n   var headers = this.request.headers\n   function trimAll(header) {\n     return header.toString().trim().replace(/\\s+/g, ' ')\n   }\n   return Object.keys(headers)\n     .filter(function(key) { return HEADERS_TO_IGNORE[key.toLowerCase()] == null })\n     .sort(function(a, b) { return a.toLowerCase() < b.toLowerCase() ? -1 : 1 })\n     .map(function(key) { return key.toLowerCase() + ':' + trimAll(headers[key]) })\n     .join('\\n')\n }\n\n RequestSigner.prototype.signedHeaders = function() {\n   var extraHeadersToInclude = this.extraHeadersToInclude,\n       extraHeadersToIgnore = this.extraHeadersToIgnore\n   return Object.keys(this.request.headers)\n     .map(function(key) { return key.toLowerCase() })\n     .filter(function(key) {\n       return extraHeadersToInclude[key] ||\n         (HEADERS_TO_IGNORE[key] == null && !extraHeadersToIgnore[key])\n     })\n     .sort()\n     .join(';')\n }\n\n RequestSigner.prototype.credentialString = function() {\n   return [\n     this.getDate(),\n     this.region,\n     this.service,\n     'aws4_request',\n   ].join('/')\n }\n\n RequestSigner.prototype.defaultCredentials = function() {\n   var env = process.env\n   return {\n     accessKeyId: env.AWS_ACCESS_KEY_ID || env.AWS_ACCESS_KEY,\n     secretAccessKey: env.AWS_SECRET_ACCESS_KEY || env.AWS_SECRET_KEY,\n     sessionToken: env.AWS_SESSION_TOKEN,\n   }\n }\n\n RequestSigner.prototype.parsePath = function() {\n   var path = this.request.path || '/'\n\n   // S3 doesn't always encode characters > 127 correctly and\n   // all services don't encode characters > 255 correctly\n   // So if there are non-reserved chars (and it's not already all % encoded), just encode them all\n   if (/[^0-9A-Za-z;,/?:@&=+$\\-_.!~*'()#%]/.test(path)) {\n     path = encodeURI(decodeURI(path))\n   }\n\n   var queryIx = path.indexOf('?'),\n       query = null\n\n   if (queryIx >= 0) {\n     query = querystring.parse(path.slice(queryIx + 1))\n     path = path.slice(0, queryIx)\n   }\n\n   this.parsedPath = {\n     path: path,\n     query: query,\n   }\n }\n\n RequestSigner.prototype.formatPath = function() {\n   var path = this.parsedPath.path,\n       query = this.parsedPath.query\n\n   if (!query) return path\n\n   // Services don't support empty query string keys\n   if (query[''] != null) delete query['']\n\n   return path + '?' + encodeRfc3986(querystring.stringify(query))\n }\n\n aws4.RequestSigner = RequestSigner\n\n aws4.sign = function(request, credentials) {\n   return new RequestSigner(request, credentials).sign()\n }\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  'url': _req,\n  'querystring': _req0,\n  'crypto': _req1,\n  './lru': _req2,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}