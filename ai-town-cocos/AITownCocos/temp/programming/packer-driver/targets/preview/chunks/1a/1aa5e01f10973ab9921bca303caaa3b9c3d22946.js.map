{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/reconnecting-websocket/dist/reconnecting-websocket-cjs.js"],"names":["_cjsLoader","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__values","o","m","Symbol","iterator","i","call","next","length","value","done","__read","n","r","ar","e","push","error","__spread","arguments","concat","Event","type","target","ErrorEvent","_super","_this","message","CloseEvent","code","reason","wasClean","getGlobalWebSocket","WebSocket","isWebSocket","w","CLOSING","DEFAULT","maxReconnectionDelay","minReconnectionDelay","Math","random","minUptime","reconnectionDelayGrowFactor","connectionTimeout","maxRetries","Infinity","maxEnqueuedMessages","startClosed","debug","ReconnectingWebSocket","protocols","options","_listeners","open","close","_retryCount","_shouldReconnect","_connectLock","_binaryType","_closeCalled","_messageQueue","onclose","onerror","onmessage","onopen","_handleOpen","event","_debug","_a","_options","clearTimeout","_connectTimeout","_uptimeTimeout","setTimeout","_acceptOpen","_ws","binaryType","forEach","send","listener","_callEventListener","_handleMessage","_handleError","_disconnect","undefined","_connect","_handleClose","_clearTimeouts","_url","_protocols","defineProperty","get","enumerable","configurable","CONNECTING","OPEN","CLOSED","set","max","bytes","reduce","acc","Blob","size","byteLength","bufferedAmount","extensions","protocol","readyState","reconnect","data","addEventListener","dispatchEvent","e_1","listeners","listeners_1","listeners_1_1","e_1_1","return","removeEventListener","filter","l","args","_i","console","log","apply","_getNextDelay","_b","_c","_d","delay","pow","_wait","Promise","resolve","_getNextUrl","urlProvider","then","Error","_removeListeners","_addListeners","_handleTimeout","handleEvent","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n 'use strict';\n\n /*! *****************************************************************************\r\n Copyright (c) Microsoft Corporation. All rights reserved.\r\n Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n this file except in compliance with the License. You may obtain a copy of the\r\n License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n See the Apache Version 2.0 License for specific language governing permissions\r\n and limitations under the License.\r\n ***************************************************************************** */\r\n /* global Reflect, Promise */\r\n\r\n var extendStatics = function(d, b) {\r\n     extendStatics = Object.setPrototypeOf ||\r\n         ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n         function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n     return extendStatics(d, b);\r\n };\r\n\r\n function __extends(d, b) {\r\n     extendStatics(d, b);\r\n     function __() { this.constructor = d; }\r\n     d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n }\r\n\r\n function __values(o) {\r\n     var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n     if (m) return m.call(o);\r\n     return {\r\n         next: function () {\r\n             if (o && i >= o.length) o = void 0;\r\n             return { value: o && o[i++], done: !o };\r\n         }\r\n     };\r\n }\r\n\r\n function __read(o, n) {\r\n     var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n     if (!m) return o;\r\n     var i = m.call(o), r, ar = [], e;\r\n     try {\r\n         while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n     }\r\n     catch (error) { e = { error: error }; }\r\n     finally {\r\n         try {\r\n             if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n         }\r\n         finally { if (e) throw e.error; }\r\n     }\r\n     return ar;\r\n }\r\n\r\n function __spread() {\r\n     for (var ar = [], i = 0; i < arguments.length; i++)\r\n         ar = ar.concat(__read(arguments[i]));\r\n     return ar;\r\n }\n\n var Event = /** @class */ (function () {\r\n     function Event(type, target) {\r\n         this.target = target;\r\n         this.type = type;\r\n     }\r\n     return Event;\r\n }());\r\n var ErrorEvent = /** @class */ (function (_super) {\r\n     __extends(ErrorEvent, _super);\r\n     function ErrorEvent(error, target) {\r\n         var _this = _super.call(this, 'error', target) || this;\r\n         _this.message = error.message;\r\n         _this.error = error;\r\n         return _this;\r\n     }\r\n     return ErrorEvent;\r\n }(Event));\r\n var CloseEvent = /** @class */ (function (_super) {\r\n     __extends(CloseEvent, _super);\r\n     function CloseEvent(code, reason, target) {\r\n         if (code === void 0) { code = 1000; }\r\n         if (reason === void 0) { reason = ''; }\r\n         var _this = _super.call(this, 'close', target) || this;\r\n         _this.wasClean = true;\r\n         _this.code = code;\r\n         _this.reason = reason;\r\n         return _this;\r\n     }\r\n     return CloseEvent;\r\n }(Event));\n\n /*!\r\n  * Reconnecting WebSocket\r\n  * by Pedro Ladaria <pedro.ladaria@gmail.com>\r\n  * https://github.com/pladaria/reconnecting-websocket\r\n  * License MIT\r\n  */\r\n var getGlobalWebSocket = function () {\r\n     if (typeof WebSocket !== 'undefined') {\r\n         // @ts-ignore\r\n         return WebSocket;\r\n     }\r\n };\r\n /**\r\n  * Returns true if given argument looks like a WebSocket class\r\n  */\r\n var isWebSocket = function (w) { return typeof w !== 'undefined' && !!w && w.CLOSING === 2; };\r\n var DEFAULT = {\r\n     maxReconnectionDelay: 10000,\r\n     minReconnectionDelay: 1000 + Math.random() * 4000,\r\n     minUptime: 5000,\r\n     reconnectionDelayGrowFactor: 1.3,\r\n     connectionTimeout: 4000,\r\n     maxRetries: Infinity,\r\n     maxEnqueuedMessages: Infinity,\r\n     startClosed: false,\r\n     debug: false,\r\n };\r\n var ReconnectingWebSocket = /** @class */ (function () {\r\n     function ReconnectingWebSocket(url, protocols, options) {\r\n         var _this = this;\r\n         if (options === void 0) { options = {}; }\r\n         this._listeners = {\r\n             error: [],\r\n             message: [],\r\n             open: [],\r\n             close: [],\r\n         };\r\n         this._retryCount = -1;\r\n         this._shouldReconnect = true;\r\n         this._connectLock = false;\r\n         this._binaryType = 'blob';\r\n         this._closeCalled = false;\r\n         this._messageQueue = [];\r\n         /**\r\n          * An event listener to be called when the WebSocket connection's readyState changes to CLOSED\r\n          */\r\n         this.onclose = null;\r\n         /**\r\n          * An event listener to be called when an error occurs\r\n          */\r\n         this.onerror = null;\r\n         /**\r\n          * An event listener to be called when a message is received from the server\r\n          */\r\n         this.onmessage = null;\r\n         /**\r\n          * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\r\n          * this indicates that the connection is ready to send and receive data\r\n          */\r\n         this.onopen = null;\r\n         this._handleOpen = function (event) {\r\n             _this._debug('open event');\r\n             var _a = _this._options.minUptime, minUptime = _a === void 0 ? DEFAULT.minUptime : _a;\r\n             clearTimeout(_this._connectTimeout);\r\n             _this._uptimeTimeout = setTimeout(function () { return _this._acceptOpen(); }, minUptime);\r\n             _this._ws.binaryType = _this._binaryType;\r\n             // send enqueued messages (messages sent before websocket open event)\r\n             _this._messageQueue.forEach(function (message) { return _this._ws.send(message); });\r\n             _this._messageQueue = [];\r\n             if (_this.onopen) {\r\n                 _this.onopen(event);\r\n             }\r\n             _this._listeners.open.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n         };\r\n         this._handleMessage = function (event) {\r\n             _this._debug('message event');\r\n             if (_this.onmessage) {\r\n                 _this.onmessage(event);\r\n             }\r\n             _this._listeners.message.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n         };\r\n         this._handleError = function (event) {\r\n             _this._debug('error event', event.message);\r\n             _this._disconnect(undefined, event.message === 'TIMEOUT' ? 'timeout' : undefined);\r\n             if (_this.onerror) {\r\n                 _this.onerror(event);\r\n             }\r\n             _this._debug('exec error listeners');\r\n             _this._listeners.error.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n             _this._connect();\r\n         };\r\n         this._handleClose = function (event) {\r\n             _this._debug('close event');\r\n             _this._clearTimeouts();\r\n             if (_this._shouldReconnect) {\r\n                 _this._connect();\r\n             }\r\n             if (_this.onclose) {\r\n                 _this.onclose(event);\r\n             }\r\n             _this._listeners.close.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n         };\r\n         this._url = url;\r\n         this._protocols = protocols;\r\n         this._options = options;\r\n         if (this._options.startClosed) {\r\n             this._shouldReconnect = false;\r\n         }\r\n         this._connect();\r\n     }\r\n     Object.defineProperty(ReconnectingWebSocket, \"CONNECTING\", {\r\n         get: function () {\r\n             return 0;\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket, \"OPEN\", {\r\n         get: function () {\r\n             return 1;\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket, \"CLOSING\", {\r\n         get: function () {\r\n             return 2;\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket, \"CLOSED\", {\r\n         get: function () {\r\n             return 3;\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"CONNECTING\", {\r\n         get: function () {\r\n             return ReconnectingWebSocket.CONNECTING;\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"OPEN\", {\r\n         get: function () {\r\n             return ReconnectingWebSocket.OPEN;\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"CLOSING\", {\r\n         get: function () {\r\n             return ReconnectingWebSocket.CLOSING;\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"CLOSED\", {\r\n         get: function () {\r\n             return ReconnectingWebSocket.CLOSED;\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"binaryType\", {\r\n         get: function () {\r\n             return this._ws ? this._ws.binaryType : this._binaryType;\r\n         },\r\n         set: function (value) {\r\n             this._binaryType = value;\r\n             if (this._ws) {\r\n                 this._ws.binaryType = value;\r\n             }\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"retryCount\", {\r\n         /**\r\n          * Returns the number or connection retries\r\n          */\r\n         get: function () {\r\n             return Math.max(this._retryCount, 0);\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"bufferedAmount\", {\r\n         /**\r\n          * The number of bytes of data that have been queued using calls to send() but not yet\r\n          * transmitted to the network. This value resets to zero once all queued data has been sent.\r\n          * This value does not reset to zero when the connection is closed; if you keep calling send(),\r\n          * this will continue to climb. Read only\r\n          */\r\n         get: function () {\r\n             var bytes = this._messageQueue.reduce(function (acc, message) {\r\n                 if (typeof message === 'string') {\r\n                     acc += message.length; // not byte size\r\n                 }\r\n                 else if (message instanceof Blob) {\r\n                     acc += message.size;\r\n                 }\r\n                 else {\r\n                     acc += message.byteLength;\r\n                 }\r\n                 return acc;\r\n             }, 0);\r\n             return bytes + (this._ws ? this._ws.bufferedAmount : 0);\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"extensions\", {\r\n         /**\r\n          * The extensions selected by the server. This is currently only the empty string or a list of\r\n          * extensions as negotiated by the connection\r\n          */\r\n         get: function () {\r\n             return this._ws ? this._ws.extensions : '';\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"protocol\", {\r\n         /**\r\n          * A string indicating the name of the sub-protocol the server selected;\r\n          * this will be one of the strings specified in the protocols parameter when creating the\r\n          * WebSocket object\r\n          */\r\n         get: function () {\r\n             return this._ws ? this._ws.protocol : '';\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"readyState\", {\r\n         /**\r\n          * The current state of the connection; this is one of the Ready state constants\r\n          */\r\n         get: function () {\r\n             if (this._ws) {\r\n                 return this._ws.readyState;\r\n             }\r\n             return this._options.startClosed\r\n                 ? ReconnectingWebSocket.CLOSED\r\n                 : ReconnectingWebSocket.CONNECTING;\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     Object.defineProperty(ReconnectingWebSocket.prototype, \"url\", {\r\n         /**\r\n          * The URL as resolved by the constructor\r\n          */\r\n         get: function () {\r\n             return this._ws ? this._ws.url : '';\r\n         },\r\n         enumerable: true,\r\n         configurable: true\r\n     });\r\n     /**\r\n      * Closes the WebSocket connection or connection attempt, if any. If the connection is already\r\n      * CLOSED, this method does nothing\r\n      */\r\n     ReconnectingWebSocket.prototype.close = function (code, reason) {\r\n         if (code === void 0) { code = 1000; }\r\n         this._closeCalled = true;\r\n         this._shouldReconnect = false;\r\n         this._clearTimeouts();\r\n         if (!this._ws) {\r\n             this._debug('close enqueued: no ws instance');\r\n             return;\r\n         }\r\n         if (this._ws.readyState === this.CLOSED) {\r\n             this._debug('close: already closed');\r\n             return;\r\n         }\r\n         this._ws.close(code, reason);\r\n     };\r\n     /**\r\n      * Closes the WebSocket connection or connection attempt and connects again.\r\n      * Resets retry counter;\r\n      */\r\n     ReconnectingWebSocket.prototype.reconnect = function (code, reason) {\r\n         this._shouldReconnect = true;\r\n         this._closeCalled = false;\r\n         this._retryCount = -1;\r\n         if (!this._ws || this._ws.readyState === this.CLOSED) {\r\n             this._connect();\r\n         }\r\n         else {\r\n             this._disconnect(code, reason);\r\n             this._connect();\r\n         }\r\n     };\r\n     /**\r\n      * Enqueue specified data to be transmitted to the server over the WebSocket connection\r\n      */\r\n     ReconnectingWebSocket.prototype.send = function (data) {\r\n         if (this._ws && this._ws.readyState === this.OPEN) {\r\n             this._debug('send', data);\r\n             this._ws.send(data);\r\n         }\r\n         else {\r\n             var _a = this._options.maxEnqueuedMessages, maxEnqueuedMessages = _a === void 0 ? DEFAULT.maxEnqueuedMessages : _a;\r\n             if (this._messageQueue.length < maxEnqueuedMessages) {\r\n                 this._debug('enqueue', data);\r\n                 this._messageQueue.push(data);\r\n             }\r\n         }\r\n     };\r\n     /**\r\n      * Register an event handler of a specific event type\r\n      */\r\n     ReconnectingWebSocket.prototype.addEventListener = function (type, listener) {\r\n         if (this._listeners[type]) {\r\n             // @ts-ignore\r\n             this._listeners[type].push(listener);\r\n         }\r\n     };\r\n     ReconnectingWebSocket.prototype.dispatchEvent = function (event) {\r\n         var e_1, _a;\r\n         var listeners = this._listeners[event.type];\r\n         if (listeners) {\r\n             try {\r\n                 for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\r\n                     var listener = listeners_1_1.value;\r\n                     this._callEventListener(event, listener);\r\n                 }\r\n             }\r\n             catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n             finally {\r\n                 try {\r\n                     if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\r\n                 }\r\n                 finally { if (e_1) throw e_1.error; }\r\n             }\r\n         }\r\n         return true;\r\n     };\r\n     /**\r\n      * Removes an event listener\r\n      */\r\n     ReconnectingWebSocket.prototype.removeEventListener = function (type, listener) {\r\n         if (this._listeners[type]) {\r\n             // @ts-ignore\r\n             this._listeners[type] = this._listeners[type].filter(function (l) { return l !== listener; });\r\n         }\r\n     };\r\n     ReconnectingWebSocket.prototype._debug = function () {\r\n         var args = [];\r\n         for (var _i = 0; _i < arguments.length; _i++) {\r\n             args[_i] = arguments[_i];\r\n         }\r\n         if (this._options.debug) {\r\n             // not using spread because compiled version uses Symbols\r\n             // tslint:disable-next-line\r\n             console.log.apply(console, __spread(['RWS>'], args));\r\n         }\r\n     };\r\n     ReconnectingWebSocket.prototype._getNextDelay = function () {\r\n         var _a = this._options, _b = _a.reconnectionDelayGrowFactor, reconnectionDelayGrowFactor = _b === void 0 ? DEFAULT.reconnectionDelayGrowFactor : _b, _c = _a.minReconnectionDelay, minReconnectionDelay = _c === void 0 ? DEFAULT.minReconnectionDelay : _c, _d = _a.maxReconnectionDelay, maxReconnectionDelay = _d === void 0 ? DEFAULT.maxReconnectionDelay : _d;\r\n         var delay = 0;\r\n         if (this._retryCount > 0) {\r\n             delay =\r\n                 minReconnectionDelay * Math.pow(reconnectionDelayGrowFactor, this._retryCount - 1);\r\n             if (delay > maxReconnectionDelay) {\r\n                 delay = maxReconnectionDelay;\r\n             }\r\n         }\r\n         this._debug('next delay', delay);\r\n         return delay;\r\n     };\r\n     ReconnectingWebSocket.prototype._wait = function () {\r\n         var _this = this;\r\n         return new Promise(function (resolve) {\r\n             setTimeout(resolve, _this._getNextDelay());\r\n         });\r\n     };\r\n     ReconnectingWebSocket.prototype._getNextUrl = function (urlProvider) {\r\n         if (typeof urlProvider === 'string') {\r\n             return Promise.resolve(urlProvider);\r\n         }\r\n         if (typeof urlProvider === 'function') {\r\n             var url = urlProvider();\r\n             if (typeof url === 'string') {\r\n                 return Promise.resolve(url);\r\n             }\r\n             if (!!url.then) {\r\n                 return url;\r\n             }\r\n         }\r\n         throw Error('Invalid URL');\r\n     };\r\n     ReconnectingWebSocket.prototype._connect = function () {\r\n         var _this = this;\r\n         if (this._connectLock || !this._shouldReconnect) {\r\n             return;\r\n         }\r\n         this._connectLock = true;\r\n         var _a = this._options, _b = _a.maxRetries, maxRetries = _b === void 0 ? DEFAULT.maxRetries : _b, _c = _a.connectionTimeout, connectionTimeout = _c === void 0 ? DEFAULT.connectionTimeout : _c, _d = _a.WebSocket, WebSocket = _d === void 0 ? getGlobalWebSocket() : _d;\r\n         if (this._retryCount >= maxRetries) {\r\n             this._debug('max retries reached', this._retryCount, '>=', maxRetries);\r\n             return;\r\n         }\r\n         this._retryCount++;\r\n         this._debug('connect', this._retryCount);\r\n         this._removeListeners();\r\n         if (!isWebSocket(WebSocket)) {\r\n             throw Error('No valid WebSocket class provided');\r\n         }\r\n         this._wait()\r\n             .then(function () { return _this._getNextUrl(_this._url); })\r\n             .then(function (url) {\r\n             // close could be called before creating the ws\r\n             if (_this._closeCalled) {\r\n                 return;\r\n             }\r\n             _this._debug('connect', { url: url, protocols: _this._protocols });\r\n             _this._ws = _this._protocols\r\n                 ? new WebSocket(url, _this._protocols)\r\n                 : new WebSocket(url);\r\n             _this._ws.binaryType = _this._binaryType;\r\n             _this._connectLock = false;\r\n             _this._addListeners();\r\n             _this._connectTimeout = setTimeout(function () { return _this._handleTimeout(); }, connectionTimeout);\r\n         });\r\n     };\r\n     ReconnectingWebSocket.prototype._handleTimeout = function () {\r\n         this._debug('timeout event');\r\n         this._handleError(new ErrorEvent(Error('TIMEOUT'), this));\r\n     };\r\n     ReconnectingWebSocket.prototype._disconnect = function (code, reason) {\r\n         if (code === void 0) { code = 1000; }\r\n         this._clearTimeouts();\r\n         if (!this._ws) {\r\n             return;\r\n         }\r\n         this._removeListeners();\r\n         try {\r\n             this._ws.close(code, reason);\r\n             this._handleClose(new CloseEvent(code, reason, this));\r\n         }\r\n         catch (error) {\r\n             // ignore\r\n         }\r\n     };\r\n     ReconnectingWebSocket.prototype._acceptOpen = function () {\r\n         this._debug('accept open');\r\n         this._retryCount = 0;\r\n     };\r\n     ReconnectingWebSocket.prototype._callEventListener = function (event, listener) {\r\n         if ('handleEvent' in listener) {\r\n             // @ts-ignore\r\n             listener.handleEvent(event);\r\n         }\r\n         else {\r\n             // @ts-ignore\r\n             listener(event);\r\n         }\r\n     };\r\n     ReconnectingWebSocket.prototype._removeListeners = function () {\r\n         if (!this._ws) {\r\n             return;\r\n         }\r\n         this._debug('removeListeners');\r\n         this._ws.removeEventListener('open', this._handleOpen);\r\n         this._ws.removeEventListener('close', this._handleClose);\r\n         this._ws.removeEventListener('message', this._handleMessage);\r\n         // @ts-ignore\r\n         this._ws.removeEventListener('error', this._handleError);\r\n     };\r\n     ReconnectingWebSocket.prototype._addListeners = function () {\r\n         if (!this._ws) {\r\n             return;\r\n         }\r\n         this._debug('addListeners');\r\n         this._ws.addEventListener('open', this._handleOpen);\r\n         this._ws.addEventListener('close', this._handleClose);\r\n         this._ws.addEventListener('message', this._handleMessage);\r\n         // @ts-ignore\r\n         this._ws.addEventListener('error', this._handleError);\r\n     };\r\n     ReconnectingWebSocket.prototype._clearTimeouts = function () {\r\n         clearTimeout(this._connectTimeout);\r\n         clearTimeout(this._uptimeTimeout);\r\n     };\r\n     return ReconnectingWebSocket;\r\n }());\n\n module.exports = ReconnectingWebSocket;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, {});\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}