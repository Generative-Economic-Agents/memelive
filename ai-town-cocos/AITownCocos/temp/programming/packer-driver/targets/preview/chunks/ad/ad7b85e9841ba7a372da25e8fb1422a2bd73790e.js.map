{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws-sdk/lib/query/query_param_serializer.js"],"names":["_cjsLoader","_req","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","util","QueryParamSerializer","prototype","serialize","params","shape","fn","serializeStructure","ucfirst","isQueryName","api","protocol","name","toUpperCase","substr","prefix","struct","rules","each","members","member","value","undefined","memberName","serializeMember","serializeMap","map","i","key","flattened","position","keyName","valueName","serializeList","list","memberRules","length","call","arrayEach","v","n","suffix","parts","split","pop","push","join","type","toWireFormat","toString","_cjsExports"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;AACkBC,MAAAA,I,iBAAhBC,Y;;;8BAEHA,Y,GAAe,cAAYC,G;;AACjCH,MAAAA,UAAU,CAACI,MAAX,CAAkBF,YAAlB,EAAgC,UAAUG,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC,YAAIC,IAAI,GAAGJ,OAAO,CAAC,SAAD,CAAlB;;AAEA,iBAASK,oBAAT,GAAgC,CAC/B;;AAEDA,QAAAA,oBAAoB,CAACC,SAArB,CAA+BC,SAA/B,GAA2C,UAASC,MAAT,EAAiBC,KAAjB,EAAwBC,EAAxB,EAA4B;AACrEC,UAAAA,kBAAkB,CAAC,EAAD,EAAKH,MAAL,EAAaC,KAAb,EAAoBC,EAApB,CAAlB;AACD,SAFD;;AAIA,iBAASE,OAAT,CAAiBH,KAAjB,EAAwB;AACtB,cAAIA,KAAK,CAACI,WAAN,IAAqBJ,KAAK,CAACK,GAAN,CAAUC,QAAV,KAAuB,KAAhD,EAAuD;AACrD,mBAAON,KAAK,CAACO,IAAb;AACD,WAFD,MAEO;AACL,mBAAOP,KAAK,CAACO,IAAN,CAAW,CAAX,EAAcC,WAAd,KAA8BR,KAAK,CAACO,IAAN,CAAWE,MAAX,CAAkB,CAAlB,CAArC;AACD;AACF;;AAED,iBAASP,kBAAT,CAA4BQ,MAA5B,EAAoCC,MAApC,EAA4CC,KAA5C,EAAmDX,EAAnD,EAAuD;AACrDN,UAAAA,IAAI,CAACkB,IAAL,CAAUD,KAAK,CAACE,OAAhB,EAAyB,UAASP,IAAT,EAAeQ,MAAf,EAAuB;AAC9C,gBAAIC,KAAK,GAAGL,MAAM,CAACJ,IAAD,CAAlB;AACA,gBAAIS,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKC,SAAhC,EAA2C;AAE3C,gBAAIC,UAAU,GAAGf,OAAO,CAACY,MAAD,CAAxB;AACAG,YAAAA,UAAU,GAAGR,MAAM,GAAGA,MAAM,GAAG,GAAT,GAAeQ,UAAlB,GAA+BA,UAAlD;AACAC,YAAAA,eAAe,CAACD,UAAD,EAAaF,KAAb,EAAoBD,MAApB,EAA4Bd,EAA5B,CAAf;AACD,WAPD;AAQD;;AAED,iBAASmB,YAAT,CAAsBb,IAAtB,EAA4Bc,GAA5B,EAAiCT,KAAjC,EAAwCX,EAAxC,EAA4C;AAC1C,cAAIqB,CAAC,GAAG,CAAR;AACA3B,UAAAA,IAAI,CAACkB,IAAL,CAAUQ,GAAV,EAAe,UAAUE,GAAV,EAAeP,KAAf,EAAsB;AACnC,gBAAIN,MAAM,GAAGE,KAAK,CAACY,SAAN,GAAkB,GAAlB,GAAwB,SAArC;AACA,gBAAIC,QAAQ,GAAGf,MAAM,GAAIY,CAAC,EAAX,GAAiB,GAAhC;AACA,gBAAII,OAAO,GAAGD,QAAQ,IAAIb,KAAK,CAACW,GAAN,CAAUhB,IAAV,IAAkB,KAAtB,CAAtB;AACA,gBAAIoB,SAAS,GAAGF,QAAQ,IAAIb,KAAK,CAACI,KAAN,CAAYT,IAAZ,IAAoB,OAAxB,CAAxB;AACAY,YAAAA,eAAe,CAACZ,IAAI,GAAGmB,OAAR,EAAiBH,GAAjB,EAAsBX,KAAK,CAACW,GAA5B,EAAiCtB,EAAjC,CAAf;AACAkB,YAAAA,eAAe,CAACZ,IAAI,GAAGoB,SAAR,EAAmBX,KAAnB,EAA0BJ,KAAK,CAACI,KAAhC,EAAuCf,EAAvC,CAAf;AACD,WAPD;AAQD;;AAED,iBAAS2B,aAAT,CAAuBrB,IAAvB,EAA6BsB,IAA7B,EAAmCjB,KAAnC,EAA0CX,EAA1C,EAA8C;AAC5C,cAAI6B,WAAW,GAAGlB,KAAK,CAACG,MAAN,IAAgB,EAAlC;;AAEA,cAAIc,IAAI,CAACE,MAAL,KAAgB,CAApB,EAAuB;AACrB,gBAAInB,KAAK,CAACP,GAAN,CAAUC,QAAV,KAAuB,KAA3B,EAAkC;AAChCL,cAAAA,EAAE,CAAC+B,IAAH,CAAQ,IAAR,EAAczB,IAAd,EAAoB,IAApB;AACD;;AACD;AACD;;AAEDZ,UAAAA,IAAI,CAACsC,SAAL,CAAeJ,IAAf,EAAqB,UAAUK,CAAV,EAAaC,CAAb,EAAgB;AACnC,gBAAIC,MAAM,GAAG,OAAOD,CAAC,GAAG,CAAX,CAAb;;AACA,gBAAIvB,KAAK,CAACP,GAAN,CAAUC,QAAV,KAAuB,KAA3B,EAAkC;AAChC;AACA8B,cAAAA,MAAM,GAAGA,MAAM,GAAG,EAAlB,CAFgC,CAEV;AACvB,aAHD,MAGO,IAAIxB,KAAK,CAACY,SAAV,EAAqB;AAC1B,kBAAIM,WAAW,CAACvB,IAAhB,EAAsB;AACpB,oBAAI8B,KAAK,GAAG9B,IAAI,CAAC+B,KAAL,CAAW,GAAX,CAAZ;AACAD,gBAAAA,KAAK,CAACE,GAAN;AACAF,gBAAAA,KAAK,CAACG,IAAN,CAAWrC,OAAO,CAAC2B,WAAD,CAAlB;AACAvB,gBAAAA,IAAI,GAAG8B,KAAK,CAACI,IAAN,CAAW,GAAX,CAAP;AACD;AACF,aAPM,MAOA;AACLL,cAAAA,MAAM,GAAG,OAAON,WAAW,CAACvB,IAAZ,GAAmBuB,WAAW,CAACvB,IAA/B,GAAsC,QAA7C,IAAyD6B,MAAlE;AACD;;AACDjB,YAAAA,eAAe,CAACZ,IAAI,GAAG6B,MAAR,EAAgBF,CAAhB,EAAmBJ,WAAnB,EAAgC7B,EAAhC,CAAf;AACD,WAhBD;AAiBD;;AAED,iBAASkB,eAAT,CAAyBZ,IAAzB,EAA+BS,KAA/B,EAAsCJ,KAAtC,EAA6CX,EAA7C,EAAiD;AAC/C,cAAIe,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKC,SAAhC,EAA2C;;AAC3C,cAAIL,KAAK,CAAC8B,IAAN,KAAe,WAAnB,EAAgC;AAC9BxC,YAAAA,kBAAkB,CAACK,IAAD,EAAOS,KAAP,EAAcJ,KAAd,EAAqBX,EAArB,CAAlB;AACD,WAFD,MAEO,IAAIW,KAAK,CAAC8B,IAAN,KAAe,MAAnB,EAA2B;AAChCd,YAAAA,aAAa,CAACrB,IAAD,EAAOS,KAAP,EAAcJ,KAAd,EAAqBX,EAArB,CAAb;AACD,WAFM,MAEA,IAAIW,KAAK,CAAC8B,IAAN,KAAe,KAAnB,EAA0B;AAC/BtB,YAAAA,YAAY,CAACb,IAAD,EAAOS,KAAP,EAAcJ,KAAd,EAAqBX,EAArB,CAAZ;AACD,WAFM,MAEA;AACLA,YAAAA,EAAE,CAACM,IAAD,EAAOK,KAAK,CAAC+B,YAAN,CAAmB3B,KAAnB,EAA0B4B,QAA1B,EAAP,CAAF;AACD;AACF;AAED;AACD;AACA;;;AACCpD,QAAAA,MAAM,CAACF,OAAP,GAAiBM,oBAAjB,CAzF0F,CA4F3F;;AAEA,2BAAAiD,WAAW,GAAGrD,MAAM,CAACF,OAArB;AAGC,OAjGD,EAiGG,OAAO;AACR,mBAAWJ;AADH,OAAP,CAjGH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '../util';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var util = require('../util');\n\n function QueryParamSerializer() {\n }\n\n QueryParamSerializer.prototype.serialize = function(params, shape, fn) {\n   serializeStructure('', params, shape, fn);\n };\n\n function ucfirst(shape) {\n   if (shape.isQueryName || shape.api.protocol !== 'ec2') {\n     return shape.name;\n   } else {\n     return shape.name[0].toUpperCase() + shape.name.substr(1);\n   }\n }\n\n function serializeStructure(prefix, struct, rules, fn) {\n   util.each(rules.members, function(name, member) {\n     var value = struct[name];\n     if (value === null || value === undefined) return;\n\n     var memberName = ucfirst(member);\n     memberName = prefix ? prefix + '.' + memberName : memberName;\n     serializeMember(memberName, value, member, fn);\n   });\n }\n\n function serializeMap(name, map, rules, fn) {\n   var i = 1;\n   util.each(map, function (key, value) {\n     var prefix = rules.flattened ? '.' : '.entry.';\n     var position = prefix + (i++) + '.';\n     var keyName = position + (rules.key.name || 'key');\n     var valueName = position + (rules.value.name || 'value');\n     serializeMember(name + keyName, key, rules.key, fn);\n     serializeMember(name + valueName, value, rules.value, fn);\n   });\n }\n\n function serializeList(name, list, rules, fn) {\n   var memberRules = rules.member || {};\n\n   if (list.length === 0) {\n     if (rules.api.protocol !== 'ec2') {\n       fn.call(this, name, null);\n     }\n     return;\n   }\n\n   util.arrayEach(list, function (v, n) {\n     var suffix = '.' + (n + 1);\n     if (rules.api.protocol === 'ec2') {\n       // Do nothing for EC2\n       suffix = suffix + ''; // make linter happy\n     } else if (rules.flattened) {\n       if (memberRules.name) {\n         var parts = name.split('.');\n         parts.pop();\n         parts.push(ucfirst(memberRules));\n         name = parts.join('.');\n       }\n     } else {\n       suffix = '.' + (memberRules.name ? memberRules.name : 'member') + suffix;\n     }\n     serializeMember(name + suffix, v, memberRules, fn);\n   });\n }\n\n function serializeMember(name, value, rules, fn) {\n   if (value === null || value === undefined) return;\n   if (rules.type === 'structure') {\n     serializeStructure(name, value, rules, fn);\n   } else if (rules.type === 'list') {\n     serializeList(name, value, rules, fn);\n   } else if (rules.type === 'map') {\n     serializeMap(name, value, rules, fn);\n   } else {\n     fn(name, rules.toWireFormat(value).toString());\n   }\n }\n\n /**\n  * @api private\n  */\n module.exports = QueryParamSerializer;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  '../util': _req,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}