{"version":3,"sources":["file:///Users/feiwang/cutepet/assets/src/module/main/MainView.ts"],"names":["Node","_decorator","Component","Sprite","Label","sp","Button","ProgressBar","Material","ParticleSystem2D","AudioSource","EditBox","modelMgr","observer","socket","uiMgr","GlobalConfig","AudioManager","JietuComponent","upLoadPostcard","EventType","network","BoswerUtils","showMsg2","RedManager","LoadingController","StaticConfigModel","ScrollingText","ToyComponent","showMsgWithMask","ActionType","GuideIndex","SpineName","ToysInfo","WorkCatModel","WorkPostCardShow","shareTGPostCard","catSpineControl","Log","CurrentVoice","ccclass","property","rootPos","x","y","progressPos","infp","progress","chatBubble","isReverse","bubble","isfp","esfp","entp","estp","TAG","MainView","type","Skeleton","mapEarthStartX","touchStartX","current_add_time","isSpineAniComplete","particleAddTime","currentCatSpineNode","start","window","global","instance","testTools","node","active","mainModel","checkcatReq","checkplayerItems","tasklistReq","Node_qipao","spr_selbg","catSke","setEndListener","on","clickCaptureHandler","LoginData","data","player","catId","popToParent","post","changeCatSerData","START_CAT_WORK","receiveWorkStartMessage","WORK_STATE_INFO","receiveWorkStateMessage","SOCKET_SELECT_CATS","selectCatSerData","SOCKET_CHANGE_CATS","SOCKET_CHANGEINFO_CATS","SOCKET_CHECK_PLAYERITEMS","da","getCurCatId","zhaohuReq","WORK_DEFAULT","controlWorkProgressAndButton","SOCKET_SHARE","copyUrl","SOCKET_QIANDAO","qiandaoRepHandler","SOCKET_TASK_CHANGE","taskchangeHandler","SEND_CAT_ACTION","showCatAction","sign","Button_qiandao","guideInfo","guide","find","element","START_GUIDE_STATE5","end","showChatLogButton","START_GUIDE_STATE6","showWorkButton","registRedPoint","KEY","renwutabred_main","Sprite_redpointA","updateRenwuKeyList","jietuUpload","uploadPostCard","showmaodanHandler","Label_tishi","finishHandler","createPostcardHandler","SHOW_CHAT_LOG_BUTTON","SHOW_WORK_BUTTON","btnWork","getComponent","grayscale","chatLog","last","cur","status","node_tasktishi","sct","txt","configModel","getconfigByGrpAId","TaskCfg","taskId","startScroll","showmsg","info","sucessfunc","response","getStrById","renwutabred","isred","getKeyState","changeState","shareClickHandler","playSound","shareReq","d","url","webCopyString","createPostcard","onLoad","init","audioSource","loadAndPlayRemoteAudio","localStorage","getItem","setSoundVolume","Number","setMusicVolume","onEnable","s","onUpdate","update","dt","idleParticle","resetSystem","current_progress","workProgress","getChildByName","currentProgress","progress_txt","string","Math","round","post_button","onDisable","soundplayTest","openshangdian","evt","openTujian","ins","showLoading","GoWork","log","PlayWithCat","play_with_cat","get_user_toys","playerItems","openChatLog","openQiandao","btn_qiandao","clickParticle","qiandaoReq","openShopHomePage","openWorkPage","showPostCard","postcardNode","closePosCard","removeParent","show","interactable","workInfo","currentWorkId","id","currentStory","story","currentWorkResultImg","img","state","finalEarn","earning","updateWorkInfo","itemType","qiandaoResp","itemValue","dropconfig","getConfigById","DropsCfg","showCatSineNodeByMbit","mbti","catSpineItemArr","forEach","name","deepData","TOY_PLAY","toyId","nodeIndex","nodeName","audio","playToySpineAniByID","scheduleOnce","playCatSpineAni","idle","toySke","skeletonData","duringTime","openGedan","btncloseClick","updateCatSerData","firstIn","Sprite_mao","catid","getCatDataById","toLowerCase","isLoop","setAnimation","playToySpineAni","shareTg","open","encodeURIComponent","showCmdPartClickHandle","testToolsPartNode","useCmdBtnClickHandle","json","CmdRequest","cmd","cmdEditBox","sendWebSocketBinary"],"mappings":"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","sourcesContent":["import {\n  Node,\n  _decorator,\n  Component,\n  Vec2,\n  Sprite,\n  Vec3,\n  Label,\n  find,\n  sp,\n  Button,\n  ProgressBar,\n  Material,\n  System,\n  sys,\n  ParticleSystem2D,\n  ParticleSystem,\n} from \"cc\";\nimport {\n  AudioSource,\n  assert,\n  EventTouch,\n  UITransform,\n  EditBox\n} from \"cc\";\nimport { EDITOR } from \"cc/env\";\nimport { mduManger, modelMgr, observer, socket, uiMgr } from \"../../game/App\";\nimport { post_createdlist, test_userdata } from \"../../game/config/AxiosRequestConfig\";\nimport { GlobalConfig } from \"../../game/config/GlobalConfig\";\nimport { ModuleID } from \"../../game/config/ModuleID\";\nimport { AudioManager } from \"../../manager/AudioManager\";\nimport AxiosManager from \"../../manager/AxiosManager\";\nimport ArrUtils from \"../../utils/ArrUtils\";\nimport { JietuComponent, upLoadPostcard } from \"../../manager/JietuComponent\";\nimport { EventType } from \"../../EventType\";\nimport { network } from \"../../model/RequestData\";\nimport BoswerUtils from \"../../utils/BoswerUtils\";\nimport { showMsg2 } from \"../../core/message/MessageManager\";\nimport WebUtils from \"../../utils/WebUtils\";\nimport RedManager from \"../../manager/RedManager\";\nimport { LoadingController } from \"../../game/components/LoadingController\";\nimport StaticConfigModel from \"../../model/StaticConfig/StaticConfigModel\";\nimport { CatActionInfo, WorkResult, taskcell } from \"../../game/config/DataStruct\";\nimport { ScrollingText } from \"./ScrollingText\";\nimport { ToyComponent } from \"./PlayWithCat.ts/ToyComponent\";\nimport { ToastMask } from \"../../core/message/toastMask\";\nimport { showMsgWithMask } from \"../../core/message/MaskToastManager\";\nimport { ActionType, CatSpineMap, GuideIndex, SpineName, TouchCatTips, ToySpineMap, ToysInfo } from \"../../model/StaticTextConfig\";\nimport { loadRemoteSpineRes } from \"../../utils/loadSpineData\";\nimport WorkCatModel from \"../../model/WorkCatModel\";\nimport { WorkPostCardShow, shareTGPostCard } from \"./catWork/WorkPostCardShow\";\nimport { catSpineControl } from \"./catSpineControl\";\nimport Log from '../../../../assets/src/utils/LogUtils'\nimport { CurrentVoice } from \"./MxpComponent\";\nconst { ccclass, property } = _decorator;\n\nconst rootPos = {\n  x: 94.47, \n  y: -299.835\n}\n\nconst progressPos = {\n  infp: {\n    //x:-15.94 y:-155.414\n    //progress.x - root.x,progress.y - root.y\n    progress:{x: 142.692, y: 108.001},\n    chatBubble: {x: 38.344, y: 6.252, isReverse: false},\n    bubble: {x: -220.089, y: 46.854}\n  } ,\n  isfp: {\n    //x:-23.91 y:-195.264\n    progress:{x: 142.692, y: 108.001},\n    chatBubble: {x: 38.344, y: 6.252, isReverse: false},\n    bubble: {x: -220.089, y: 46.854}\n    \n  },\n  esfp: {\n    //x:-35.864 y:-195.264\n    progress:{x: 142.692, y: 108.001},\n    chatBubble: {x: 38.344, y: 6.252, isReverse: false},\n    bubble: {x: -220.089, y: 46.854}\n  }, \n  entp: {\n    //x:-466.767 y:-230.677\n    progress:{x: 142.692, y: 111.035},\n    chatBubble: {x: 38.344, y:6.252, isReverse: false},\n    bubble: {x: -220.089, y: 46.854}\n  },\n  estp: {\n    //x:-96.491 y:-179.197\n    progress:{x: 142.692, y: 141.001},\n    chatBubble: {x: -343.056, y: 6.252, isReverse: false},\n    bubble: {x: -220.089, y: 46.854}\n  }\n}\n\nconst TAG = 'MainView'\n\n@ccclass(\"MainView\")\nexport class MainView extends Component {\n  @property(Node)\n  public canvas: Node = null;\n  @property(Node)\n  public spritetest: Node = null;\n  @property(Node)\n  public edituserdata: Node = null;\n  @property(Node)\n  public btn_qiandao: Node = null;\n  @property(AudioSource)\n  private audioSource: AudioSource = null!;\n\n  @property({type:[Node]})\n  public catSpineItemArr:Node[] = [];\n\n  @property(Node)\n  public spr_selbg: Node = null;\n  @property(Node)\n  public Node_qipao: Node = null;\n  @property(Label)\n  public Label_maoname: Label = null;\n  @property(Node)\n  public Button_qiandao: Node = null;\n  @property(Node)\n  public Sprite_mao: Node = null;\n  @property(Node)\n  public Sprite_redpointA: Node = null;\n\n  @property(Label)\n  public Label_tishi: Label = null;\n  @property(Node)\n  public node_tasktishi: Node = null;\n\n  @property(Node)\n  public play_with_cat: Node = null;\n\n\t@property(sp.Skeleton) \n  public catSke: sp.Skeleton = null;\n\n  @property(sp.Skeleton) \n  public toySke: sp.Skeleton = null;\n\n  @property(Node)\n  public workProgress: Node = null;\n\n  @property(Node)\n  public btnWork: Node = null;\n\n  @property(Node)\n  public post_button: Node = null;\n\n  @property(Node)\n  public postcardNode: Node = null;\n  \n  @property(Label)\n  public progress_txt: Label = null;\n\n  @property(Button)\n  public shareBtn: Button = null;\n\n  @property(Node)\n  public idleParticle: Node = null;\n\n  @property(Node)\n  public clickParticle: Node = null;\n\n  @property(Material)\n  mat:Material;\n  @property(Sprite)\n  transitionNode:Sprite\n\n  @property(Node)\n  public chatLog: Node = null;\n\n  @property(Button)\n  public useCmdBtn: Button = null;\n\n  @property(Button)\n  public testTools: Button = null;\n\n  @property(EditBox)\n  public cmdEditBox: EditBox = null;\n\n  @property(Node)\n  public testToolsPartNode: Node = null;\n\n  public mapEarthStartX = 0;\n  touchStartX: number;\n  current_add_time: number = 0;\n  isSpineAniComplete: boolean = false\n\n  //idle粒子累加时间\n  particleAddTime = 0\n  currentCatSpineNode: Node = null\n  start() {\n    (window as any).global = window\n    if(GlobalConfig.instance.testTools){\n      this.testTools?.node && (this.testTools.node.active = true)\n    }\n    modelMgr.mainModel.checkcatReq();\n    modelMgr.mainModel.checkplayerItems();\n    modelMgr.mainModel.tasklistReq();\n    this.Node_qipao.active = false;\n    this.spr_selbg.active = true;\n    this.catSke.setEndListener(()=>{\n      // this.isSpineAniComplete = true\n      // this.playCatSpineAni(SpineName.idle, true)\n    })\n    observer.on(\"hideselbg\", () => { this.spr_selbg.active = false }, this);\n\n    observer.on(\"shotstart\", this.clickCaptureHandler, this);\n    // this.scheduleOnce(()=>{\n    //   mduManger.openModu(ModuleID.JISHI);\n    // },1)\n    // ArrUtils.mSort(ArrUtils.testArr, \"age\");\n    // window[\"au\"] = ArrUtils;\n    if (GlobalConfig.instance.LoginData) {\n      if (!GlobalConfig.instance.LoginData?.data?.player?.catId) {\n        uiMgr.popToParent(\"prefabs/pre_letterview\");\n      } else {\n        observer.post(\"hideselbg\");\n      }\n    } else {\n      observer.post(\"hideselbg\");\n    }\n    this.changeCatSerData()\n    observer.on(EventType.START_CAT_WORK, this.receiveWorkStartMessage, this);\n    observer.on(EventType.WORK_STATE_INFO, this.receiveWorkStateMessage, this);\n    observer.on(EventType.SOCKET_SELECT_CATS, this.selectCatSerData, this);\n    observer.on(EventType.SOCKET_CHANGE_CATS, this.changeCatSerData, this);\n    observer.on(EventType.SOCKET_CHANGEINFO_CATS, this.changeCatSerData, this);\n    observer.on(EventType.SOCKET_CHECK_PLAYERITEMS, (da) => {\n      this.changeCatSerData(\n        {\n          data: \n            {\n              \"id\": GlobalConfig.instance.getCurCatId(),\n              \"name\": \"esfp cat\",\n              \"userName\": \"1249499207@qq.com\",\n              \"cv\": 31.1,\n              \"birthday\": 1716764513965,\n              \"workFlag\": 0,\n              \"workTime\": 0,\n              \"workFinish\": 0\n          }\n        }\n      );\n      modelMgr.mainModel.zhaohuReq();\n    }, this);\n    observer.on(EventType.WORK_DEFAULT, ()=>{\n      this.controlWorkProgressAndButton(false)\n      showMsgWithMask('work fail')\n    }, this);\n    observer.on(EventType.SOCKET_SHARE, this.copyUrl, this);\n    observer.on(EventType.SOCKET_QIANDAO, this.qiandaoRepHandler, this);\n    observer.on(EventType.SOCKET_TASK_CHANGE, this.taskchangeHandler, this);\n\n    observer.on(EventType.SEND_CAT_ACTION, this.showCatAction, this)\n\n    if (!GlobalConfig.instance.LoginData?.data?.player?.sign) {//是否签到\n      this.Button_qiandao.active = false;\n    }\n    const guideInfo = GlobalConfig.instance.LoginData.data.player.guide\n    if(guideInfo?.find?.(element => element === GuideIndex.START_GUIDE_STATE5.end)){\n      this.showChatLogButton()\n    }\n\n    if(guideInfo?.find?.(element => element === GuideIndex.START_GUIDE_STATE6.end)){\n      this.showWorkButton()\n    }\n\n    RedManager.instance.registRedPoint(RedManager.KEY.renwutabred_main, this.Sprite_redpointA, [RedManager.KEY.renwutabred_main]);\n    observer.on(\"keychange\", this.updateRenwuKeyList, this);\n    // observer.on(\"postupload\", this.jietuUpload, this);\n    this.node.on(\"postupload\", this.jietuUpload)\n    this.node.on(upLoadPostcard, this.uploadPostCard)\n    observer.on(\"showcategg\", this.showmaodanHandler, this)\n    this.Label_tishi.node.on(\"scrolling-finished\", this.finishHandler, this)\n\n    observer.on(shareTGPostCard, this.createPostcardHandler, this)\n    observer.on(EventType.SHOW_CHAT_LOG_BUTTON, this.showChatLogButton, this)\n    observer.on(EventType.SHOW_WORK_BUTTON, this.showWorkButton, this)\n\n    //const guideInfo = GlobalConfig.instance.LoginData.data.player.guide\n    // if(!guideInfo?.find(element => element === GuideIndex.START_GUIDE_STATE1.end)){\n    //   //触发第1阶段引导\n    //   observer.post(EventType.UPDATE_GUIDE_INFO_MAIN_VIEW, GuideIndex.START_GUIDE_STATE1)\n    // }\n  }\n\n\n\n  showWorkButton(){\n    this.btnWork.getComponent(Sprite).grayscale = false\n  }\n\n  showChatLogButton(){\n    //this.chatLog.active = true\n    this.chatLog.getComponent(Sprite).grayscale = false\n  }\n\n  /**\n   * 设置任务tishi滚动效果\n   * @param da \n   */\n  private taskchangeHandler(da) {\n    let last: taskcell = da.data.last;\n  let cur: taskcell = da.data.cur;\n    if (last.status != 2 && cur.status == 2) {\n      this.node_tasktishi.active = true;\n      let sct = this.Label_tishi.getComponent(ScrollingText);\n      let txt = modelMgr.configModel.getconfigByGrpAId(StaticConfigModel.TaskCfg, cur.taskId);\n      if (txt) {\n        sct.startScroll(txt.showmsg);\n      }\n    }\n  }\n  private finishHandler() {\n    this.node_tasktishi.active = false;\n  }\n  private jietuUpload(info) {\n\n    // WASManager.setConfig()\n    // WASManager.uploadTextureToS3(info,'catoss', 'testWAS.png')\n    // let da = {\n    //   // playerId: GlobalConfig.instance.LoginData.playerId,\n    //   playerId: 0,\n    //   img: info\n    // };\n    // // console.log(\"this.base64Head::\" + JSON.stringify(da));\n\n    // AxiosManager.post(\"api/v1/upload\", da, \"\", (response) => {\n    //   // code: 200\n    //   // data: \"https://catoss.s3.ap-southeast-1.amazonaws.com/images/share/4681125022444560387.png\"\n    //   // errCode: 200\n    //   // exception: null\n    //   // msg: \"业务处理成功\"\n    //   // success: true\n    //   if (response.success == true) {\n    //     // this.sucessfunc(response);\n    //     showMsg2(modelMgr.configModel.getStrById(10017));//分享成功\n    //   } else {\n    //     showMsg2(response.msg);\n    //   }\n    // }, (err) => {\n    //   showMsg2(err ? err.message : \"请求异常\");\n    // })\n  }\n\n  private sucessfunc(response) {\n    // {\n    //     \"msg\": \"\",\n    //     \"code\": 0,\n    //     \"data\": {},\n    //     \"success\": false,\n    //     \"exception\": \"\",\n    //     \"errCode\": 0\n    //   }\n    showMsg2(modelMgr.configModel.getStrById(10017));//分享成功\n  }\n  private updateRenwuKeyList(da) {\n    if (da && da.data) {\n      if (da.data == RedManager.KEY.renwutabred) {\n        let isred: boolean = RedManager.instance.getKeyState(RedManager.KEY.renwutabred);\n        RedManager.instance.changeState(RedManager.KEY.renwutabred_main, isred);\n      }\n    }\n\n  }\n  /**\n   * 选择猫咪后，重新获取数据，重刷接口,\n   */\n  selectCatSerData() {\n    modelMgr.mainModel.checkcatReq();\n    modelMgr.mainModel.checkplayerItems();\n    modelMgr.mainModel.tasklistReq();\n    //this.Label_maoname.string = GlobalConfig.instance.curCatData.name;\n  }\n\n  //================share url ================\n  public shareClickHandler() {\n    // observer.post(\"shotstart\");\n    //链接分享\n    AudioManager.instance.playSound(\"new_NormanBtn\");\n    modelMgr.mainModel.shareReq();\n  }\n\n  private copyUrl(da: any) {\n    let d: network.shareResponse = da.data;\n    let url = \"http://www.infinity.com/invite?from=4639553896547622914\";\n    if (d.data.url) {\n      url = d.data.url;\n    }\n    //BoswerUtils.copystring(url);\n\n    BoswerUtils.webCopyString(url, ()=>{\n      showMsg2(modelMgr.configModel.getStrById(10014));\n    })\n  }\n\n  //=================================\n  public clickCaptureHandler() {\n    this.node.getComponent(JietuComponent).clickCaptureHandler();\n  }\n\n  public createPostcardHandler() {\n    this.node.getComponent(JietuComponent).createPostcard();\n  }\n  //=======================================\n  onLoad() {\n    // assert(audioSource);\n    // init AudioManager\n    AudioManager.instance.init(this.audioSource);\n    AudioManager.instance.loadAndPlayRemoteAudio(\"https://catoss.s3.ap-southeast-1.amazonaws.com/background.mp3\");\n    if(localStorage.getItem(CurrentVoice)){\n      AudioManager.instance.setSoundVolume(Number(localStorage.getItem(CurrentVoice)))\n      AudioManager.instance.setMusicVolume(Number(localStorage.getItem(CurrentVoice)))\n  }\n    // AudioManager.instance.loadAndPlayAudio(\"/audio/music/background\");\n  }\n\n  onEnable() {\n\n\n\n\n    let s = this;\n\n\n  }\n\n  onUpdate() {\n\n  }\n\n  protected update(dt: number): void {\n    this.particleAddTime = this.particleAddTime + dt\n    if(this.particleAddTime >= 1){\n      this.idleParticle.getComponent(ParticleSystem2D).resetSystem()\n      if(this.particleAddTime >= 1){\n        this.particleAddTime = 0\n      }\n    }\n\n    const current_progress = this.workProgress.getChildByName('ProgressBar').getComponent(ProgressBar).progress\n    if(current_progress <= WorkCatModel.currentProgress){\n      this.workProgress.getChildByName('ProgressBar').getComponent(ProgressBar).progress += dt / 25\n      this.progress_txt.string = `Working: ${Math.round(this.workProgress.getChildByName('ProgressBar').getComponent(ProgressBar).progress * 100)}%`\n    }else{\n      this.workProgress.getChildByName('ProgressBar').getComponent(ProgressBar).progress = WorkCatModel.currentProgress\n      this.progress_txt.string = `Working: ${Math.round(this.workProgress.getChildByName('ProgressBar').getComponent(ProgressBar).progress * 100)}%`\n    }\n\n    if(this.workProgress.getChildByName('ProgressBar').getComponent(ProgressBar).progress === 1){\n      this.post_button.active = true\n      //AudioManager.instance.playSound(\"new_progressOver\");\n    }\n    \n  }\n\n  onDisable() {\n\n\n  }\n  /**\n   * \n   */\n  public soundplayTest() {\n    //\n    AudioManager.instance.playSound(\"getMoney\");\n  }\n  /**\n   * 打开  商店/集市\n   * \n   */\n  public openshangdian(evt) {\n    uiMgr.popToParent(\"prefabs/jishi/pre_shangdian\");\n  }\n  /**\n * 打开  图鉴\n * \n */\n  public openTujian(evt) {\n    AudioManager.instance.playSound(\"new_NormanBtn\");\n    LoadingController.ins.showLoading();\n\n    uiMgr.popToParent(\"prefabs/pre_tujian\");\n  }\n\n  /**去打工 */\n public GoWork(){\n    Log.log(TAG, 'show GoWork')\n } \n\n /**快速逗猫 */\n public PlayWithCat(){\n    AudioManager.instance.playSound(\"new_NormanBtn\");\n    this.play_with_cat.active = true\n    this.play_with_cat.getChildByName(\"bg\").getChildByName(\"game\").getComponent(ToyComponent).get_user_toys(modelMgr.mainModel.playerItems)\n }\n\n  public openChatLog() {\n    AudioManager.instance.playSound(\"new_NormanBtn\");\n    if(this.chatLog.getComponent(Sprite).grayscale){\n      showMsg2('Unlocked after 3 conversations with your cat.')\n      return\n    }\n    LoadingController.ins.showLoading();\n\n    uiMgr.popToParent(\"prefabs/pre_gequlist\");\n  }\n\n  public openQiandao() {\n    // uiMgr.popToParent(\"prefabs/pre_getcat\");\n    AudioManager.instance.playSound(\"new_NormanBtn\");\n    this.btn_qiandao.active = false;\n    this.clickParticle.getComponent(ParticleSystem2D).resetSystem()\n    modelMgr.mainModel.qiandaoReq();\n  }\n\n  /**\n   * 打开商店页面\n   */\n  public openShopHomePage(){\n    AudioManager.instance.playSound(\"new_NormanBtn\");\n    LoadingController.ins.showLoading();\n    uiMgr.popToParent(\"prefabs/shop_home_page\");\n  }\n\n    /**\n   * 打开商店页面\n   */\n    public openWorkPage(){\n\n      //ngm 账号名 [on\\u003d1]\n      // let json = new network.CmdRequest();\n      // json.data.cmd = \"additem 10101000 100\"\n      //json.data.cmd = \"gm changshi25 1\"\n      //socket.sendWebSocketBinary(json);\n\n      AudioManager.instance.playSound(\"new_NormanBtn\");\n      if(this.btnWork.getComponent(Sprite).grayscale){\n        showMsg2('Unlocked when ❤ ≥ 50 or 20 conversations with your cat')\n        return\n      }\n      LoadingController.ins.showLoading();\n      uiMgr.popToParent(\"prefabs/pre_cat_working\");\n      // let json = new network.CreateCatWorkCatRequest();\n      // json.data.catIds =[100001]\n      // json.data.items = [\"梯子\", \"刷子\"]\n      // socket.sendWebSocketBinary(json);\n      // console.log(TAG, json)\n    }\n\n    showPostCard(){\n      if(WorkCatModel.currentProgress >= 1 && this.workProgress.getChildByName('ProgressBar').getComponent(ProgressBar).progress >= 1){\n        //LoadingController.ins.showLoading();\n        AudioManager.instance.playSound(\"new_postcardOpen\");\n        this.postcardNode.active = true\n        this.controlWorkProgressAndButton(false)\n        this.workProgress.getChildByName('ProgressBar').getComponent(ProgressBar).progress = 0\n      }\n\n    }\n\n    closePosCard(){\n      this.post_button.active = false\n      uiMgr.removeParent(\"prefabs/pre_post_card\");\n    }\n\n    controlWorkProgressAndButton(show: boolean){\n      this.workProgress.active = show\n      this.btnWork.getComponent(Button).interactable = !show\n      this.btnWork.getComponent(Sprite).grayscale = show\n    }\n\n    receiveWorkStartMessage(){\n     this.controlWorkProgressAndButton(true)\n    }\n\n    receiveWorkStateMessage(data: any){\n      this.controlWorkProgressAndButton(true)\n      const workInfo: WorkResult = data.data\n      WorkCatModel.currentWorkId = workInfo.data[0].id\n      WorkCatModel.currentProgress = workInfo.data[0].progress\n      WorkCatModel.currentStory = workInfo.data[0].story\n      WorkCatModel.currentWorkResultImg = workInfo.data[0].img\n      WorkCatModel.state = workInfo.data[0].status\n      WorkCatModel.finalEarn = workInfo.data[0].earning\n      this.postcardNode.getComponent(WorkPostCardShow).updateWorkInfo()\n      //更新workModel数据\n      //当progress为1时设置可点击的动画和回掉\n      //WorkCatModel.currentProgress\n    }\n\n  public qiandaoRepHandler() {\n\n    this.idleParticle.active = false\n\n    let itemType = modelMgr.mainModel.qiandaoResp.data.itemType;\n    let itemValue = modelMgr.mainModel.qiandaoResp.data.itemValue;\n    // let dropconfig = modelMgr.configModel.getConfigById(StaticConfigModel.DropsCfg, 50006);//签到掉落\n\n    if (itemType == 1) {///如果itemType是猫，value=猫ID，itemType积分，则value=积分\n      uiMgr.popToParent(\"prefabs/pre_getcat\");\n    } else if (itemType == 2) {//获得金币--重复猫咪转金币\n      let dropconfig = modelMgr.configModel.getConfigById(StaticConfigModel.DropsCfg, 50001);//签到掉落\n      showMsg2(dropconfig.showmsg);\n    } else {\n      showMsg2(modelMgr.configModel.getStrById(10004));\n    }\n  }\n\n  showCatSineNodeByMbit(mbti :string){\n    this.catSpineItemArr.forEach((Node)=>{\n      if(Node.name === mbti){\n        Node.active = true\n        this.currentCatSpineNode = Node\n      }else{\n        Node.active = false\n      }\n    })\n  }\n\n  uploadPostCard(info){\n    // let da = {\n    //   // playerId: GlobalConfig.instance.LoginData.playerId,\n    //   playerId: 0,\n    //   img: info\n    // };\n    // // console.log(\"this.base64Head::\" + JSON.stringify(da));\n\n    // AxiosManager.post(\"api/v1/upload\", da, \"\", (response) => {\n    //   // code: 200\n    //   // data: \"https://catoss.s3.ap-southeast-1.amazonaws.com/images/share/4681125022444560387.png\"\n    //   // errCode: 200\n    //   // exception: null\n    //   // msg: \"业务处理成功\"\n    //   // success: true\n    //   if (response.success == true) {\n    //     // this.sucessfunc(response);\n    //     showMsg2(modelMgr.configModel.getStrById(10017));//分享成功\n    //   } else {\n    //     showMsg2(response.msg);\n    //   }\n    // }, (err) => {\n    //   showMsg2(err ? err.message : \"请求异常\");\n    // })\n  }\n\n  /**猫咪收到动作信息抚摸、逗猫、聊天 */\n  public showCatAction(data: CatActionInfo) {\n    const deepData = data.data ? data.data : data\n    ///动作\n\n\n    if (deepData.type === ActionType.TOY_PLAY) {\n\n      if(ToysInfo[deepData.toyId].nodeIndex === null){\n        return\n      }\n      this.currentCatSpineNode.getChildByName(ToysInfo[deepData.toyId].nodeName).active = true\n      AudioManager.instance.playSound(ToysInfo[deepData.toyId].audio);\n      this.currentCatSpineNode.getComponent(catSpineControl).playToySpineAniByID(ToysInfo[deepData.toyId].nodeIndex)\n\n\n      // this.Button_qiandao.active = false\n      // loadRemoteSpineRes(ToySpineMap[deepData.toyId].atlas, ToySpineMap[deepData.toyId].json, ToySpineMap[deepData.toyId].img, this.toySke, null, () => {\n      //   this.playToySpineAni(SpineName.action, true)\n      //   this.scheduleOnce(() => {\n      //     !modelMgr.mainModel.chatIsediting && (modelMgr.mainModel.hasActin = false)\n      //     this.playCatSpineAni(SpineName.idle, true)\n      //     deepData.type === ActionType.TOY_PLAY && (this.toySke.skeletonData = null)\n      //     console.log(TAG, modelMgr.mainModel.hasActin)\n      //   }, deepData.duringTime)\n      // })\n    } else {\n      this.scheduleOnce(() => {\n        this.playCatSpineAni(SpineName.idle, true)\n        deepData.type === ActionType.TOY_PLAY && (this.toySke.skeletonData = null)\n      }, deepData.duringTime)\n    }\n  }\n  /**\n   * 展示领取猫蛋过程\n   * @param da \n   */\n  private showmaodanHandler(da) {\n    uiMgr.popToParent(\"prefabs/pre_getcat\");\n  }\n\n  /**\n   * \n   * @param evt \n   */\n  public openGedan(evt) {\n    uiMgr.popToParent(\"prefabs/pre_gedanlist\");\n  }\n  public btncloseClick() {\n    //退出游戏  \n\n  }\n\n  public updateCatSerData() {\n  }\n  /**\n   *     //修改猫咪\n\n   */\n  public changeCatSerData(data: any = null) {\n    if((data?.data?.id === GlobalConfig.instance.getCurCatId()) && !modelMgr.mainModel.firstIn){\n      return\n    }\n    this.catSke.skeletonData = null\n    this.Sprite_mao.active = true\n    let catid = GlobalConfig.instance.getCurCatId();\n    if(!catid){\n      return\n    }\n    //this.Label_maoname.string = \"\" + catid;\n    let mbti = modelMgr.configModel.getCatDataById(catid)?.mbti;\n    mbti = mbti.toLowerCase();\n    this.idleParticle.active = true\n    //WebUtils.getResouceImg(`catspic/${mbti}_zjm`, this.Sprite_mao);\n    // if(!progressPos[mbti]){\n    //   return\n    // }\n    this.showCatSineNodeByMbit(mbti)\n\n    //const anchorX = progressPos[mbti].chatBubble.isReverse ? 0 : 1\n    //this.chatBubbleRootNode.getComponent(UITransform).setAnchorPoint(anchorX, 0.75)\n\n    // this.chatBubbleRootNode.setPosition(progressPos[mbti].chatBubble.x, progressPos[mbti].chatBubble.y)\n    // this.chatBubbleRootNode.getChildByName('Node_qipao2').setPosition(progressPos[mbti].bubble.x, progressPos[mbti].bubble.y)\n    // this.workProgress.setPosition(progressPos[mbti].progress.x, progressPos[mbti].progress.y)\n    // this.Node_qipao.getChildByName('SpriteAngleReverse').active = progressPos[mbti].chatBubble.isReverse\n    // this.Node_qipao.getChildByName('SpriteAngle').active = !progressPos[mbti].chatBubble.isReverse\n\n\n\n\n    // const catSpineInfo = CatSpineMap[catid]\n    // if(catSpineInfo?.atlas){\n    //   loadRemoteSpineRes(catSpineInfo.atlas, catSpineInfo.json, catSpineInfo.img, this.catSke, this.Sprite_mao, ()=>{\n    //     this.playCatSpineAni(SpineName.idle, true)\n    //   })\n    // }\n  }\n\n  playCatSpineAni(name: string, isLoop: boolean){\n    this.catSke?.skeletonData && this.catSke.setAnimation(0, name, isLoop)\n  }\n\n  playToySpineAni(name: string, isLoop: boolean){\n    this.toySke?.skeletonData && this.toySke.setAnimation(0, name, isLoop)\n  }\n\n  shareTg(){\n    //AWSManager.setConfig();\n    //AWSManager.instance.uploadTextureToS3('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAABDCAYAAAB6IntqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKTSURBVHgB7dw9axRBHAfg2cNGRTT4YUQsBCEoCGJhFVKJhY2FlaVgaWFjwEJLbWItCoqFIAG/SNqowSZezrzc/rPOzdzdhjRHngdyu7c3bzvZ/ZEMd9fsbG6MEsCeQQIYEwhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAEAhAOJM4MaPRaLw9eBxvD/cnNYePzdHzw/0mjo2OGvuv3lEdOFnVQPjw+Xv68u1H+r39Z+ICbMYH2hug+3x/v7Rty3VvmkFTuVU65dIJvF4bQ582a2XyuZhWt1UrWxxDoWgzqM9x3lZ32/Zdm4955qCmNA995/24/c/6HeR9tErzkgrn0H29dH7Trrfjmve6KpU9f+5sWr5+Jd1evpb6anY2NyZ6fPHqXXrybC0Bi+v500fp8cOVXnWKawgvX68nYLGtvVlPW7+2e9UpBsJwdzcBi+3vcJiGez99FAPh/sqdBCy2B6t30+Wli73qFNcQdvf+Qnj7/mP69HUjbf3cPlhU3F+viNXvwn6+9jHr9YmBdBYua22VtGXnXXnvlu+OLe+/NJ7uOc0zvnyeuuVr85G3ldcrtVtrr3t8WrulernS+PN+Zz1PlXHUyvVZl5vnGuz2WSqXjytvY1b/Nfl1VtpOa3PeOW2PL126kG7euJpW791Kg0G/dxYUAwE4nbwxCQgCAQgCAQgCAQgCAQgCAQgCAQgCAQgCAQgCAQgCAQgCAQgCAQgCAQi+dTl1P8juk+CcbgJBCEDwLwMQBAIQ/gGaBiP0MoDrKQAAAABJRU5ErkJggg==','catoss', 'test.png' );\n\n    window.open('https://telegram.me/share/url?url=' + encodeURIComponent('https://catoss.s3.ap-southeast-1.amazonaws.com/images/share/4681125022444560385.png'), '_blank')\n  }\n\n  showCmdPartClickHandle(){\n    if(this.testToolsPartNode){\n      this.testToolsPartNode.active = !this.testToolsPartNode.active\n    }\n  }\n\n  useCmdBtnClickHandle(){\n          //ngm 账号名 [on\\u003d1]\n      if(this.testToolsPartNode){\n        let json = new network.CmdRequest();\n        json.data.cmd = this.cmdEditBox.string\n        socket.sendWebSocketBinary(json);\n      }\n\n  }\n\n\n}\n"]}