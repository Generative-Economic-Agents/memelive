{"version":3,"sources":["file:///Users/feiwang/cutepet/assets/src/module/main/catWork/WorkSelectCatItemComponent.ts"],"names":["_decorator","Component","Label","Node","WebUtils","modelMgr","CatWorkingComponent","ccclass","property","TAG","workSelectCatItemComponent","_da","start","node","on","updateData","update","deltaTime","onDestroy","off","da","catName","string","name","occupationTxt","energyTxt","earningRate","toFixed","mbti","configModel","getCatDataById","id","toLowerCase","getResouceImg","catPic","setScale","console","log","clickAvatarCat","energyTxtInfo","selectedCatPic","preWorkPageNode","getComponent","setPreWorkData","toyClickShowUseBtn"],"mappings":"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","sourcesContent":["import { _decorator, Button, Component, Label, Node, Sprite } from 'cc';\nimport WebUtils from '../../../utils/WebUtils';\nimport { modelMgr, observer, socket } from '../../../game/App';\nimport { GlobalConfig } from '../../../game/config/GlobalConfig';\nimport { showMsg2 } from '../../../core/message/MessageManager';\nimport { network } from '../../../model/RequestData';\nimport { EventType } from '../../../EventType';\nimport { catCfgD, catServerD } from '../../../game/config/DataStruct';\nimport { ToysInfo } from '../../../model/StaticTextConfig';\nimport { ToyDataType } from '../shop/CatEnjoyToolsDataType';\nimport { CatWorkingComponent } from '../../../game/components/CatWorkingComponent';\nconst { ccclass, property } = _decorator;\n\nconst TAG = 'workSelectCatItemComponent'\n\n@ccclass('workSelectCatItemComponent')\nexport class workSelectCatItemComponent extends Component {\n\n    @property(Node)\n    public catPic: Node = null;\n\n    @property(Label)\n    public catName: Label = null;\n\n    @property(Label)\n    public occupationTxt: Label = null;\n\n    @property(Label)\n    public energyTxt: Label = null;\n\n    @property(Label)\n    public energyTxtInfo: Label = null;\n\n    @property(Node)\n    public preWorkPageNode: Node = null;\n\n    @property(Node)\n    public selectedCatPic: Node = null;\n\n    public _da : catCfgD;\n    start() {\n        this.node.on(\"update_data\", this.updateData, this);\n    }\n\n    update(deltaTime: number) {\n\n    }\n    protected onDestroy(): void {\n        this.node.off(\"update_data\", this.updateData, this);\n    }\n    /**\n    * 视图更新\n    * @param da \n    */\n    public updateData(da: catCfgD) {\n        if(da){\n            this._da = da;\n            this.catName.string = da.name\n            this.occupationTxt.string = ''\n            this.energyTxt.string = da.earningRate.toFixed(0)\n            let mbti = modelMgr.configModel.getCatDataById(da.id)?.mbti;\n            mbti = mbti.toLowerCase();\n            WebUtils.getResouceImg(`mingxinpian/${mbti}_mxp`, this.catPic);\n            this.node.setScale(1, 1)\n            console.log(TAG, da)\n        }\n    }\n\n    /**\n    选择某一个猫\n     */\n\n    clickAvatarCat(){\n        let mbti = modelMgr.configModel.getCatDataById(this._da.id)?.mbti;\n        mbti = mbti.toLowerCase();\n        this.energyTxtInfo.string = this._da.earningRate.toFixed(0)\n        WebUtils.getResouceImg(`mingxinpian/${mbti}_mxp`, this.selectedCatPic);\n        this.preWorkPageNode.getComponent(CatWorkingComponent).setPreWorkData(this._da)\n    }\n\n    public toyClickShowUseBtn() {\n\n    }\n\n}\n\n\n"]}