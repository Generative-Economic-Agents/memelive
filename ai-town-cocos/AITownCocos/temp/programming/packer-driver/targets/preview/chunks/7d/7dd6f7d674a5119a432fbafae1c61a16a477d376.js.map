{"version":3,"sources":["file:///Users/feiwang/AITown/AITownCocos/assets/src/module/main/NewGuideComponentWork.ts"],"names":["_decorator","Component","Node","modelMgr","observer","GlobalConfig","CatWorkingComponent","AudioManager","ccclass","property","NewGuideComponentWork","type","String","Number","GuideDataInfo","start","on","eventName","showFirstGuide","guideInfo","instance","LoginData","data","player","guide","node","getComponent","isGuide","showGuide1","closeGuide1","playSound","guideItemArr","active","showGuide2","item1txt1Guide","setPosition","item1txt2Guide","item2txt1Guide","item2txt2Guide","showGuide3","showGuide4","showGuide5","itemGuideClick","button","adapt","mainModel","yindaoReq","push","onDestroy","off","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;AAEvBC,MAAAA,Q,iBAAAA,Q;AAAUC,MAAAA,Q,iBAAAA,Q;;AAEVC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,mB,iBAAAA,mB;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;uCAGjBU,qB,WADZF,OAAO,CAAC,uBAAD,C,UAGHC,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAC,CAACT,IAAD;AAAN,OAAD,C,UAGRO,QAAQ,CAACG,MAAD,C,UAGRH,QAAQ,CAACI,MAAD,C,UAGRJ,QAAQ,CAACP,IAAD,C,UAIRO,QAAQ,CAACP,IAAD,C,UAERO,QAAQ,CAACP,IAAD,C,UAGRO,QAAQ,CAACP,IAAD,C,UAERO,QAAQ,CAACP,IAAD,C,2BAvBb,MACaQ,qBADb,SAC2CT,SAD3C,CACqD;AAAA;AAAA;;AACjD;AADiD;;AAAA;;AAAA;;AAAA;;AAc/C;AAd+C;;AAAA;;AAAA;;AAAA;;AAAA,eAyBjDa,aAzBiD;AAAA;;AA2BjDC,QAAAA,KAAK,GAAG;AACJ;AAAA;AAAA,oCAASC,EAAT,CAAY,KAAKC,SAAjB,EAA4B,KAAKC,cAAjC,EAAiD,IAAjD;AACA,cAAMC,SAAS,GAAG;AAAA;AAAA,4CAAaC,QAAb,CAAsBC,SAAtB,CAAgCC,IAAhC,CAAqCC,MAArC,CAA4CC,KAA9D;AACH;;AAEDN,QAAAA,cAAc,CAACI,IAAD,EAAW;AACrB,eAAKG,IAAL,CAAUC,YAAV;AAAA;AAAA,0DAA4CC,OAA5C,GAAsD,IAAtD;AACA,eAAKC,UAAL,GAFqB,CAKrB;AACA;AACA;AACH;;AAEDC,QAAAA,WAAW,GAAE;AACT;AAAA;AAAA,4CAAaT,QAAb,CAAsBU,SAAtB,CAAgC,eAAhC;AACA,eAAKC,YAAL,CAAkB,CAAlB,EAAqBC,MAArB,GAA8B,KAA9B;AACH;;AAEDJ,QAAAA,UAAU,GAAE;AACR;AAAA;AAAA,4CAAaR,QAAb,CAAsBU,SAAtB,CAAgC,eAAhC;AACA,eAAKC,YAAL,CAAkB,CAAlB,EAAqBC,MAArB,GAA8B,IAA9B;AACH;;AAEDC,QAAAA,UAAU,GAAE;AACR;AAAA;AAAA,4CAAab,QAAb,CAAsBU,SAAtB,CAAgC,eAAhC;AACA,eAAKC,YAAL,CAAkB,CAAlB,EAAqBC,MAArB,GAA8B,KAA9B;AACA,eAAKD,YAAL,CAAkB,CAAlB,EAAqBC,MAArB,GAA8B,IAA9B;AACA,eAAKE,cAAL,CAAoBC,WAApB,CAAgC,CAAhC,EAAmC,CAAnC;AACA,eAAKC,cAAL,CAAoBD,WAApB,CAAgC,CAAhC,EAAmC,CAAnC;AACA,eAAKE,cAAL,CAAoBF,WAApB,CAAgC,CAAhC,EAAmC,CAAnC;AACA,eAAKG,cAAL,CAAoBH,WAApB,CAAgC,CAAhC,EAAmC,CAAnC;AACH;;AAGDI,QAAAA,UAAU,GAAE;AACR;AAAA;AAAA,4CAAanB,QAAb,CAAsBU,SAAtB,CAAgC,eAAhC;AACA,eAAKC,YAAL,CAAkB,CAAlB,EAAqBC,MAArB,GAA8B,KAA9B;AACA,eAAKD,YAAL,CAAkB,CAAlB,EAAqBC,MAArB,GAA8B,IAA9B;AACH;;AAGDQ,QAAAA,UAAU,GAAE;AACR;AAAA;AAAA,4CAAapB,QAAb,CAAsBU,SAAtB,CAAgC,eAAhC;AACA,eAAKC,YAAL,CAAkB,CAAlB,EAAqBC,MAArB,GAA8B,KAA9B;AACA,eAAKD,YAAL,CAAkB,CAAlB,EAAqBC,MAArB,GAA8B,IAA9B;AACH;;AAEDS,QAAAA,UAAU,GAAE;AACR;AAAA;AAAA,4CAAarB,QAAb,CAAsBU,SAAtB,CAAgC,eAAhC;AACA,eAAKC,YAAL,CAAkB,CAAlB,EAAqBC,MAArB,GAA8B,KAA9B;AACA,eAAKD,YAAL,CAAkB,CAAlB,EAAqBC,MAArB,GAA8B,IAA9B;AACH;;AAEDU,QAAAA,cAAc,CAACC,MAAD,EAASrB,IAAT,EAAc;AAExB;AACA;AAAA;AAAA,4CAAaF,QAAb,CAAsBU,SAAtB,CAAgC,eAAhC;AACA,eAAKC,YAAL,CAAkBlB,MAAM,CAACS,IAAD,CAAN,GAAeT,MAAM,CAAC,KAAK+B,KAAN,CAAvC,EAAqDZ,MAArD,GAA8D,KAA9D;AAEA;AAAA;AAAA,oCAASa,SAAT,CAAmBC,SAAnB,CAA6BjC,MAAM,CAACS,IAAD,CAAnC;;AACA,cAAG;AAAA;AAAA,4CAAaF,QAAb,CAAsBC,SAAtB,CAAgCC,IAAhC,CAAqCC,MAArC,CAA4CC,KAA/C,EAAqD;AACjD;AAAA;AAAA,8CAAaJ,QAAb,CAAsBC,SAAtB,CAAgCC,IAAhC,CAAqCC,MAArC,CAA4CC,KAA5C,CAAkDuB,IAAlD,CAAuDlC,MAAM,CAACS,IAAD,CAA7D;AACH,WAFD,MAEK;AACD;AAAA;AAAA,8CAAaF,QAAb,CAAsBC,SAAtB,CAAgCC,IAAhC,CAAqCC,MAArC,CAA4CC,KAA5C,GAAoD,CAACX,MAAM,CAACS,IAAD,CAAP,CAApD;AACH,WAXuB,CAexB;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;;AACH;;AAEM0B,QAAAA,SAAS,GAAG;AACf;AAAA;AAAA,oCAASC,GAAT,CAAa,KAAKhC,SAAlB,EAA6B,KAAKC,cAAlC,EAAkD,IAAlD;AACD;;AAEHgC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAvHgD,O;;;;;iBAGpB,E;;;;;;;iBAGF,E;;;;;;;iBAGJ,C;;;;;;;iBAGE,I;;;;;;;iBAIK,I;;;;;;;iBAEA,I;;;;;;;iBAGA,I;;;;;;;iBAEA,I","sourcesContent":["import { _decorator, Component, Node } from 'cc';\nimport { GuideIndex } from '../../model/StaticTextConfig';\nimport { modelMgr, observer } from '../../game/App';\nimport { EventType } from '../../EventType';\nimport { GlobalConfig } from '../../game/config/GlobalConfig';\nimport { CatWorkingComponent } from '../../game/components/CatWorkingComponent';\nimport { AudioManager } from '../../manager/AudioManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('NewGuideComponentWork')\nexport class NewGuideComponentWork extends Component {\n    //连续引导页面\n    @property({type:[Node]})\n    public guideItemArr:Node[] = [];\n\n    @property(String)\n    public eventName: string = ''\n\n    @property(Number)\n    public adapt: Number = 0\n\n    @property(Node)\n    public guideNode: Node = null\n\n      //Guide\n    @property(Node)\n    public item1txt1Guide: Node = null;\n    @property(Node)\n    public item1txt2Guide: Node = null;\n\n    @property(Node)\n    public item2txt1Guide: Node = null;\n    @property(Node)\n    public item2txt2Guide: Node = null;\n\n    GuideDataInfo: any;\n\n    start() {\n        observer.on(this.eventName, this.showFirstGuide, this);\n        const guideInfo = GlobalConfig.instance.LoginData.data.player.guide\n    }\n\n    showFirstGuide(data: any){\n        this.node.getComponent(CatWorkingComponent).isGuide = true\n        this.showGuide1()\n\n\n        // this.guideNode.active = true\n        // this.GuideDataInfo = data.data\n        // this.guideItemArr[this.GuideDataInfo.start - 1].active = true\n    }\n\n    closeGuide1(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.guideItemArr[0].active = false\n    }\n\n    showGuide1(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.guideItemArr[0].active = true\n    }\n\n    showGuide2(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.guideItemArr[0].active = false\n        this.guideItemArr[1].active = true\n        this.item1txt1Guide.setPosition(0, 0);\n        this.item1txt2Guide.setPosition(0, 0);\n        this.item2txt1Guide.setPosition(0, 0);\n        this.item2txt2Guide.setPosition(0, 0);\n    }\n\n\n    showGuide3(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.guideItemArr[1].active = false\n        this.guideItemArr[2].active = true\n    }\n\n\n    showGuide4(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.guideItemArr[2].active = false\n        this.guideItemArr[3].active = true\n    }\n\n    showGuide5(){\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.guideItemArr[3].active = false\n        this.guideItemArr[4].active = true\n    }\n\n    itemGuideClick(button, data){\n\n        //button.node.getParent().active = false\n        AudioManager.instance.playSound(\"new_NormanBtn\");\n        this.guideItemArr[Number(data) - Number(this.adapt)].active = false\n\n        modelMgr.mainModel.yindaoReq(Number(data));\n        if(GlobalConfig.instance.LoginData.data.player.guide){\n            GlobalConfig.instance.LoginData.data.player.guide.push(Number(data))\n        }else{\n            GlobalConfig.instance.LoginData.data.player.guide = [Number(data)]\n        }\n\n\n\n        // this.guideItemArr[Number(data) - 1].active = false\n        // modelMgr.mainModel.yindaoReq(Number(data) + Number(this.adapt));\n        // if(GlobalConfig.instance.LoginData.data.player.guide){\n        //     GlobalConfig.instance.LoginData.data.player.guide.push(Number(data) + Number(this.adapt))\n        // }else{\n        //     GlobalConfig.instance.LoginData.data.player.guide = [(Number(data) + Number(this.adapt))]\n        // }\n        \n        // if(Number(data) === this.GuideDataInfo.end){\n        //     this.guideNode.active = false\n        //     return\n\n        // }\n        // this.guideItemArr[Number(data)].active = true\n    }\n\n    public onDestroy() {\n        observer.off(this.eventName, this.showFirstGuide, this);\n      }\n\n    update(deltaTime: number) {\n        \n    }\n}\n\n"]}