{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/aws-sdk/lib/services/s3control.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","url","define","exports","require","module","__filename","__dirname","AWS","s3util","regionUtil","util","update","S3Control","prototype","setupRequestListeners","request","addListener","extractHostId","validateAccountId","isArnInBucket","isArnInParam","isArnInName","_parsedArn","ARN","parse","params","validateOutpostsBucketArn","validateOutpostsArn","addOutpostIdHeader","validateOutpostsAccessPointArn","validateArnRegion","validateArnAccountWithParams","validateArnAccount","validateArnService","populateParamFromArn","populateUriFromArn","validatePopulateUriFromArn","OutpostId","operation","populateEndpointForOutpostId","req","httpRequest","headers","outpostId","parsedArn","delimiter","resource","length","split","error","Error","code","message","bucket","dnsCompatibleBucketName","match","Bucket","Name","accessPoint","endpoint","useArnRegion","service","config","s3UseArnRegion","useFipsEndpoint","hostname","region","join","host","response","hostId","httpResponse","extendedRequestId","allowFipsEndpoint","inputModel","api","operations","input","members","AccountId","accountId","Object","hasOwnProperty","call","hostPattern","test","getSigningName","_super","Service","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '../core';\nimport { __cjsMetaURL as _req0} from './s3util';\nimport { __cjsMetaURL as _req1} from '../region_config';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n var AWS = require('../core');\n var s3util = require('./s3util');\n var regionUtil = require('../region_config');\n\n AWS.util.update(AWS.S3Control.prototype, {\n   /**\n    * @api private\n    */\n   setupRequestListeners: function setupRequestListeners(request) {\n     request.addListener('extractError', this.extractHostId);\n     request.addListener('extractData', this.extractHostId);\n     request.addListener('validate', this.validateAccountId);\n\n     var isArnInBucket = s3util.isArnInParam(request, 'Bucket');\n     var isArnInName = s3util.isArnInParam(request, 'Name');\n\n     if (isArnInBucket) {\n       request._parsedArn = AWS.util.ARN.parse(request.params['Bucket']);\n       request.addListener('validate', this.validateOutpostsBucketArn);\n       request.addListener('validate', s3util.validateOutpostsArn);\n       request.addListener('afterBuild', this.addOutpostIdHeader);\n     } else if (isArnInName) {\n       request._parsedArn = AWS.util.ARN.parse(request.params['Name']);\n       request.addListener('validate', s3util.validateOutpostsAccessPointArn);\n       request.addListener('validate', s3util.validateOutpostsArn);\n       request.addListener('afterBuild', this.addOutpostIdHeader);\n     }\n\n     if (isArnInBucket || isArnInName) {\n       request.addListener('validate', this.validateArnRegion);\n       request.addListener('validate', this.validateArnAccountWithParams, true);\n       request.addListener('validate', s3util.validateArnAccount);\n       request.addListener('validate', s3util.validateArnService);\n       request.addListener('build', this.populateParamFromArn, true);\n       request.addListener('build', this.populateUriFromArn);\n       request.addListener('build', s3util.validatePopulateUriFromArn);\n     }\n\n     if (request.params.OutpostId &&\n         (request.operation === 'createBucket' ||\n           request.operation === 'listRegionalBuckets')) {\n       request.addListener('build', this.populateEndpointForOutpostId);\n     }\n   },\n\n   /**\n    * Adds outpostId header\n    */\n   addOutpostIdHeader: function addOutpostIdHeader(req) {\n     req.httpRequest.headers['x-amz-outpost-id'] = req._parsedArn.outpostId;\n   },\n\n   /**\n    * Validate Outposts ARN supplied in Bucket parameter is a valid bucket name\n    */\n   validateOutpostsBucketArn: function validateOutpostsBucketArn(req) {\n     var parsedArn = req._parsedArn;\n\n     //can be ':' or '/'\n     var delimiter = parsedArn.resource['outpost'.length];\n\n     if (parsedArn.resource.split(delimiter).length !== 4) {\n       throw AWS.util.error(new Error(), {\n         code: 'InvalidARN',\n         message: 'Bucket ARN should have two resources outpost/{outpostId}/bucket/{accesspointName}'\n       });\n     }\n\n     var bucket = parsedArn.resource.split(delimiter)[3];\n     if (!s3util.dnsCompatibleBucketName(bucket) || bucket.match(/\\./)) {\n       throw AWS.util.error(new Error(), {\n         code: 'InvalidARN',\n         message: 'Bucket ARN is not DNS compatible. Got ' + bucket\n       });\n     }\n\n     //set parsed valid bucket\n     req._parsedArn.bucket = bucket;\n   },\n\n   /**\n    * @api private\n    */\n   populateParamFromArn: function populateParamFromArn(req) {\n     var parsedArn = req._parsedArn;\n     if (s3util.isArnInParam(req, 'Bucket')) {\n       req.params.Bucket = parsedArn.bucket;\n     } else if (s3util.isArnInParam(req, 'Name')) {\n       req.params.Name = parsedArn.accessPoint;\n     }\n   },\n\n   /**\n    * Populate URI according to the ARN\n    */\n   populateUriFromArn: function populateUriFromArn(req) {\n     var parsedArn = req._parsedArn;\n\n     var endpoint = req.httpRequest.endpoint;\n     var useArnRegion = req.service.config.s3UseArnRegion;\n     var useFipsEndpoint = req.service.config.useFipsEndpoint;\n\n     endpoint.hostname = [\n       's3-outposts' + (useFipsEndpoint ? '-fips': ''),\n       useArnRegion ? parsedArn.region : req.service.config.region,\n       'amazonaws.com'\n     ].join('.');\n     endpoint.host = endpoint.hostname;\n   },\n\n   /**\n    * @api private\n    */\n   populateEndpointForOutpostId: function populateEndpointForOutpostId(req) {\n     var endpoint = req.httpRequest.endpoint;\n     var useFipsEndpoint = req.service.config.useFipsEndpoint;\n     endpoint.hostname = [\n       's3-outposts' + (useFipsEndpoint ? '-fips': ''),\n       req.service.config.region,\n       'amazonaws.com'\n     ].join('.');\n     endpoint.host = endpoint.hostname;\n   },\n\n   /**\n    * @api private\n    */\n   extractHostId: function(response) {\n     var hostId = response.httpResponse.headers ? response.httpResponse.headers['x-amz-id-2'] : null;\n     response.extendedRequestId = hostId;\n     if (response.error) {\n       response.error.extendedRequestId = hostId;\n     }\n   },\n\n   /**\n    * @api private\n    */\n   validateArnRegion: function validateArnRegion(req) {\n     s3util.validateArnRegion(req, { allowFipsEndpoint: true });\n   },\n\n   /**\n    * @api private\n    */\n   validateArnAccountWithParams: function validateArnAccountWithParams(req) {\n     var params = req.params;\n     var inputModel = req.service.api.operations[req.operation].input;\n     if (inputModel.members.AccountId) {\n       var parsedArn = req._parsedArn;\n       if (parsedArn.accountId) {\n         if (params.AccountId) {\n           if (params.AccountId !== parsedArn.accountId) {\n             throw AWS.util.error(\n               new Error(),\n               {code: 'ValidationError', message: 'AccountId in ARN and request params should be same.'}\n             );\n           }\n         } else {\n           // Store accountId from ARN in params\n           params.AccountId = parsedArn.accountId;\n         }\n       }\n     }\n   },\n\n   /**\n    * @api private\n    */\n   validateAccountId: function(request) {\n     var params = request.params;\n     if (!Object.prototype.hasOwnProperty.call(params, 'AccountId')) return;\n     var accountId = params.AccountId;\n     //validate type\n     if (typeof accountId !== 'string') {\n       throw AWS.util.error(\n         new Error(),\n         {code: 'ValidationError', message: 'AccountId must be a string.'}\n       );\n     }\n     //validate length\n     if (accountId.length < 1 || accountId.length > 63) {\n       throw AWS.util.error(\n         new Error(),\n         {code: 'ValidationError', message: 'AccountId length should be between 1 to 63 characters, inclusive.'}\n       );\n     }\n     //validate pattern\n     var hostPattern = /^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9]$/;\n     if (!hostPattern.test(accountId)) {\n       throw AWS.util.error(new Error(),\n         {code: 'ValidationError', message: 'AccountId should be hostname compatible. AccountId: ' + accountId});\n     }\n   },\n\n   /**\n    * @api private\n    */\n   getSigningName: function getSigningName(req) {\n     var _super = AWS.Service.prototype.getSigningName;\n     if (req && req._parsedArn && req._parsedArn.service) {\n       return req._parsedArn.service;\n     } else if (req.params.OutpostId &&\n       (req.operation === 'createBucket' ||\n         req.operation === 'listRegionalBuckets')) {\n       return 's3-outposts';\n     } else {\n       return _super.call(this, req);\n     }\n   },\n });\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  '../core': _req,\n  './s3util': _req0,\n  '../region_config': _req1,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}