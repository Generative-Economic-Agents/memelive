{"version":3,"sources":["file:///Users/feiwang/cutepet/node_modules/tough-cookie/lib/cookie.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","_req7","_req8","url","define","exports","require","module","__filename","__dirname","net","urlParse","parse","util","pubsuffix","Store","MemoryCookieStore","pathMatch","VERSION","punycode","e","console","warn","COOKIE_OCTETS","CONTROL_CHARS","TERMINATORS","PATH_VALUE","DATE_DELIM","MONTH_TO_NUM","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","NUM_TO_MONTH","NUM_TO_DAY","MAX_TIME","MIN_TIME","parseDigits","token","minDigits","maxDigits","trailingOK","count","length","c","charCodeAt","parseInt","substr","parseTime","parts","split","result","i","num","parseMonth","String","toLowerCase","parseDate","str","tokens","hour","minute","second","dayOfMonth","month","year","trim","Date","UTC","formatDate","date","d","getUTCDate","h","getUTCHours","m","getUTCMinutes","s","getUTCSeconds","getUTCDay","getUTCMonth","getUTCFullYear","canonicalDomain","replace","test","toASCII","domainMatch","domStr","canonicalize","isIP","idx","indexOf","defaultPath","path","rightSlash","lastIndexOf","slice","trimTerminator","t","terminatorIdx","parseCookiePair","cookiePair","looseMode","firstEq","cookieName","cookieValue","Cookie","key","value","options","firstSemi","loose","unparsed","cookie_avs","av","shift","av_sep","av_key","av_value","exp","expires","delta","setMaxAge","domain","secure","httpOnly","extensions","push","jsonParse","obj","JSON","fromJSON","Error","serializableProperties","prop","undefined","prototype","cookieCompare","a","b","cmp","aPathLen","bPathLen","aTime","creation","getTime","bTime","creationIndex","permutePath","permutations","lindex","getCookieContext","Object","decodeURI","err","keys","forEach","hasOwnProperty","defineProperty","configurable","enumerable","writable","cookiesCreated","maxAge","hostOnly","pathIsDefault","lastAccessed","filter","Function","inspect","now","toString","custom","toJSON","props","toISOString","Infinity","clone","validate","cdomain","match","suffix","getPublicSuffix","setExpires","age","cookieString","val","ext","TTL","expiryTime","relativeTo","expiryDate","millisec","isPersistent","canonicalizedDomain","CookieJar","store","rejectPublicSuffixes","enableLooseMode","CAN_BE_SYNC","setCookie","cookie","cb","context","host","hostname","ignoreError","pathname","http","updateCookie","oldCookie","newCookie","putCookie","withCookie","next","findCookie","getCookies","protocol","expireCheck","expire","allPaths","matchingCookie","removeCookie","findCookies","cookies","sort","getCookieString","args","Array","call","arguments","pop","map","join","apply","getSetCookieStrings","serialize","type","constructor","name","serialized","version","storeType","getAllCookies","serializeSync","_importCookies","jar","isArray","putNext","deserialize","strOrObj","deserializeSync","synchronous","_importCookiesSync","newStore","removeAllCookies","completedCount","removeErrors","removeCookieCb","removeErr","_cloneSync","syncWrap","cloneSync","method","syncErr","syncResult","syncCb","permuteDomain","_cjsExports","_version","_CookieJar","_Cookie","_Store","_MemoryCookieStore","_parseDate","_formatDate","_parse","_fromJSON","_domainMatch","_defaultPath","_pathMatch","_getPublicSuffix","_cookieCompare","_permuteDomain","_permutePath","_canonicalDomain"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from 'net';\nimport { __cjsMetaURL as _req0} from 'url';\nimport { __cjsMetaURL as _req1} from 'util';\nimport { __cjsMetaURL as _req2} from './pubsuffix-psl';\nimport { __cjsMetaURL as _req3} from './store';\nimport { __cjsMetaURL as _req4} from './memstore';\nimport { __cjsMetaURL as _req5} from './pathMatch';\nimport { __cjsMetaURL as _req6} from './version';\nimport { __cjsMetaURL as _req7} from 'punycode';\nimport { __cjsMetaURL as _req8} from './permuteDomain';\nlet _cjsExports;\nlet _version;\nlet _CookieJar;\nlet _Cookie;\nlet _Store;\nlet _MemoryCookieStore;\nlet _parseDate;\nlet _formatDate;\nlet _parse;\nlet _fromJSON;\nlet _domainMatch;\nlet _defaultPath;\nlet _pathMatch;\nlet _getPublicSuffix;\nlet _cookieCompare;\nlet _permuteDomain;\nlet _permutePath;\nlet _canonicalDomain;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n /*!\n  * Copyright (c) 2015, Salesforce.com, Inc.\n  * All rights reserved.\n  *\n  * Redistribution and use in source and binary forms, with or without\n  * modification, are permitted provided that the following conditions are met:\n  *\n  * 1. Redistributions of source code must retain the above copyright notice,\n  * this list of conditions and the following disclaimer.\n  *\n  * 2. Redistributions in binary form must reproduce the above copyright notice,\n  * this list of conditions and the following disclaimer in the documentation\n  * and/or other materials provided with the distribution.\n  *\n  * 3. Neither the name of Salesforce.com nor the names of its contributors may\n  * be used to endorse or promote products derived from this software without\n  * specific prior written permission.\n  *\n  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n  * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n  * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n  * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n  * POSSIBILITY OF SUCH DAMAGE.\n  */\n 'use strict';\n var net = require('net');\n var urlParse = require('url').parse;\n var util = require('util');\n var pubsuffix = require('./pubsuffix-psl');\n var Store = require('./store').Store;\n var MemoryCookieStore = require('./memstore').MemoryCookieStore;\n var pathMatch = require('./pathMatch').pathMatch;\n var VERSION = require('./version');\n\n var punycode;\n try {\n   punycode = require('punycode');\n } catch(e) {\n   console.warn(\"tough-cookie: can't load punycode; won't use punycode for domain normalization\");\n }\n\n // From RFC6265 S4.1.1\n // note that it excludes \\x3B \";\"\n var COOKIE_OCTETS = /^[\\x21\\x23-\\x2B\\x2D-\\x3A\\x3C-\\x5B\\x5D-\\x7E]+$/;\n\n var CONTROL_CHARS = /[\\x00-\\x1F]/;\n\n // From Chromium // '\\r', '\\n' and '\\0' should be treated as a terminator in\n // the \"relaxed\" mode, see:\n // https://github.com/ChromiumWebApps/chromium/blob/b3d3b4da8bb94c1b2e061600df106d590fda3620/net/cookies/parsed_cookie.cc#L60\n var TERMINATORS = ['\\n', '\\r', '\\0'];\n\n // RFC6265 S4.1.1 defines path value as 'any CHAR except CTLs or \";\"'\n // Note ';' is \\x3B\n var PATH_VALUE = /[\\x20-\\x3A\\x3C-\\x7E]+/;\n\n // date-time parsing constants (RFC6265 S5.1.1)\n\n var DATE_DELIM = /[\\x09\\x20-\\x2F\\x3B-\\x40\\x5B-\\x60\\x7B-\\x7E]/;\n\n var MONTH_TO_NUM = {\n   jan:0, feb:1, mar:2, apr:3, may:4, jun:5,\n   jul:6, aug:7, sep:8, oct:9, nov:10, dec:11\n };\n var NUM_TO_MONTH = [\n   'Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'\n ];\n var NUM_TO_DAY = [\n   'Sun','Mon','Tue','Wed','Thu','Fri','Sat'\n ];\n\n var MAX_TIME = 2147483647000; // 31-bit max\n var MIN_TIME = 0; // 31-bit min\n\n /*\n  * Parses a Natural number (i.e., non-negative integer) with either the\n  *    <min>*<max>DIGIT ( non-digit *OCTET )\n  * or\n  *    <min>*<max>DIGIT\n  * grammar (RFC6265 S5.1.1).\n  *\n  * The \"trailingOK\" boolean controls if the grammar accepts a\n  * \"( non-digit *OCTET )\" trailer.\n  */\n function parseDigits(token, minDigits, maxDigits, trailingOK) {\n   var count = 0;\n   while (count < token.length) {\n     var c = token.charCodeAt(count);\n     // \"non-digit = %x00-2F / %x3A-FF\"\n     if (c <= 0x2F || c >= 0x3A) {\n       break;\n     }\n     count++;\n   }\n\n   // constrain to a minimum and maximum number of digits.\n   if (count < minDigits || count > maxDigits) {\n     return null;\n   }\n\n   if (!trailingOK && count != token.length) {\n     return null;\n   }\n\n   return parseInt(token.substr(0,count), 10);\n }\n\n function parseTime(token) {\n   var parts = token.split(':');\n   var result = [0,0,0];\n\n   /* RF6256 S5.1.1:\n    *      time            = hms-time ( non-digit *OCTET )\n    *      hms-time        = time-field \":\" time-field \":\" time-field\n    *      time-field      = 1*2DIGIT\n    */\n\n   if (parts.length !== 3) {\n     return null;\n   }\n\n   for (var i = 0; i < 3; i++) {\n     // \"time-field\" must be strictly \"1*2DIGIT\", HOWEVER, \"hms-time\" can be\n     // followed by \"( non-digit *OCTET )\" so therefore the last time-field can\n     // have a trailer\n     var trailingOK = (i == 2);\n     var num = parseDigits(parts[i], 1, 2, trailingOK);\n     if (num === null) {\n       return null;\n     }\n     result[i] = num;\n   }\n\n   return result;\n }\n\n function parseMonth(token) {\n   token = String(token).substr(0,3).toLowerCase();\n   var num = MONTH_TO_NUM[token];\n   return num >= 0 ? num : null;\n }\n\n /*\n  * RFC6265 S5.1.1 date parser (see RFC for full grammar)\n  */\n function parseDate(str) {\n   if (!str) {\n     return;\n   }\n\n   /* RFC6265 S5.1.1:\n    * 2. Process each date-token sequentially in the order the date-tokens\n    * appear in the cookie-date\n    */\n   var tokens = str.split(DATE_DELIM);\n   if (!tokens) {\n     return;\n   }\n\n   var hour = null;\n   var minute = null;\n   var second = null;\n   var dayOfMonth = null;\n   var month = null;\n   var year = null;\n\n   for (var i=0; i<tokens.length; i++) {\n     var token = tokens[i].trim();\n     if (!token.length) {\n       continue;\n     }\n\n     var result;\n\n     /* 2.1. If the found-time flag is not set and the token matches the time\n      * production, set the found-time flag and set the hour- value,\n      * minute-value, and second-value to the numbers denoted by the digits in\n      * the date-token, respectively.  Skip the remaining sub-steps and continue\n      * to the next date-token.\n      */\n     if (second === null) {\n       result = parseTime(token);\n       if (result) {\n         hour = result[0];\n         minute = result[1];\n         second = result[2];\n         continue;\n       }\n     }\n\n     /* 2.2. If the found-day-of-month flag is not set and the date-token matches\n      * the day-of-month production, set the found-day-of- month flag and set\n      * the day-of-month-value to the number denoted by the date-token.  Skip\n      * the remaining sub-steps and continue to the next date-token.\n      */\n     if (dayOfMonth === null) {\n       // \"day-of-month = 1*2DIGIT ( non-digit *OCTET )\"\n       result = parseDigits(token, 1, 2, true);\n       if (result !== null) {\n         dayOfMonth = result;\n         continue;\n       }\n     }\n\n     /* 2.3. If the found-month flag is not set and the date-token matches the\n      * month production, set the found-month flag and set the month-value to\n      * the month denoted by the date-token.  Skip the remaining sub-steps and\n      * continue to the next date-token.\n      */\n     if (month === null) {\n       result = parseMonth(token);\n       if (result !== null) {\n         month = result;\n         continue;\n       }\n     }\n\n     /* 2.4. If the found-year flag is not set and the date-token matches the\n      * year production, set the found-year flag and set the year-value to the\n      * number denoted by the date-token.  Skip the remaining sub-steps and\n      * continue to the next date-token.\n      */\n     if (year === null) {\n       // \"year = 2*4DIGIT ( non-digit *OCTET )\"\n       result = parseDigits(token, 2, 4, true);\n       if (result !== null) {\n         year = result;\n         /* From S5.1.1:\n          * 3.  If the year-value is greater than or equal to 70 and less\n          * than or equal to 99, increment the year-value by 1900.\n          * 4.  If the year-value is greater than or equal to 0 and less\n          * than or equal to 69, increment the year-value by 2000.\n          */\n         if (year >= 70 && year <= 99) {\n           year += 1900;\n         } else if (year >= 0 && year <= 69) {\n           year += 2000;\n         }\n       }\n     }\n   }\n\n   /* RFC 6265 S5.1.1\n    * \"5. Abort these steps and fail to parse the cookie-date if:\n    *     *  at least one of the found-day-of-month, found-month, found-\n    *        year, or found-time flags is not set,\n    *     *  the day-of-month-value is less than 1 or greater than 31,\n    *     *  the year-value is less than 1601,\n    *     *  the hour-value is greater than 23,\n    *     *  the minute-value is greater than 59, or\n    *     *  the second-value is greater than 59.\n    *     (Note that leap seconds cannot be represented in this syntax.)\"\n    *\n    * So, in order as above:\n    */\n   if (\n     dayOfMonth === null || month === null || year === null || second === null ||\n     dayOfMonth < 1 || dayOfMonth > 31 ||\n     year < 1601 ||\n     hour > 23 ||\n     minute > 59 ||\n     second > 59\n   ) {\n     return;\n   }\n\n   return new Date(Date.UTC(year, month, dayOfMonth, hour, minute, second));\n }\n\n function formatDate(date) {\n   var d = date.getUTCDate(); d = d >= 10 ? d : '0'+d;\n   var h = date.getUTCHours(); h = h >= 10 ? h : '0'+h;\n   var m = date.getUTCMinutes(); m = m >= 10 ? m : '0'+m;\n   var s = date.getUTCSeconds(); s = s >= 10 ? s : '0'+s;\n   return NUM_TO_DAY[date.getUTCDay()] + ', ' +\n     d+' '+ NUM_TO_MONTH[date.getUTCMonth()] +' '+ date.getUTCFullYear() +' '+\n     h+':'+m+':'+s+' GMT';\n }\n\n // S5.1.2 Canonicalized Host Names\n function canonicalDomain(str) {\n   if (str == null) {\n     return null;\n   }\n   str = str.trim().replace(/^\\./,''); // S4.1.2.3 & S5.2.3: ignore leading .\n\n   // convert to IDN if any non-ASCII characters\n   if (punycode && /[^\\u0001-\\u007f]/.test(str)) {\n     str = punycode.toASCII(str);\n   }\n\n   return str.toLowerCase();\n }\n\n // S5.1.3 Domain Matching\n function domainMatch(str, domStr, canonicalize) {\n   if (str == null || domStr == null) {\n     return null;\n   }\n   if (canonicalize !== false) {\n     str = canonicalDomain(str);\n     domStr = canonicalDomain(domStr);\n   }\n\n   /*\n    * \"The domain string and the string are identical. (Note that both the\n    * domain string and the string will have been canonicalized to lower case at\n    * this point)\"\n    */\n   if (str == domStr) {\n     return true;\n   }\n\n   /* \"All of the following [three] conditions hold:\" (order adjusted from the RFC) */\n\n   /* \"* The string is a host name (i.e., not an IP address).\" */\n   if (net.isIP(str)) {\n     return false;\n   }\n\n   /* \"* The domain string is a suffix of the string\" */\n   var idx = str.indexOf(domStr);\n   if (idx <= 0) {\n     return false; // it's a non-match (-1) or prefix (0)\n   }\n\n   // e.g \"a.b.c\".indexOf(\"b.c\") === 2\n   // 5 === 3+2\n   if (str.length !== domStr.length + idx) { // it's not a suffix\n     return false;\n   }\n\n   /* \"* The last character of the string that is not included in the domain\n   * string is a %x2E (\".\") character.\" */\n   if (str.substr(idx-1,1) !== '.') {\n     return false;\n   }\n\n   return true;\n }\n\n\n // RFC6265 S5.1.4 Paths and Path-Match\n\n /*\n  * \"The user agent MUST use an algorithm equivalent to the following algorithm\n  * to compute the default-path of a cookie:\"\n  *\n  * Assumption: the path (and not query part or absolute uri) is passed in.\n  */\n function defaultPath(path) {\n   // \"2. If the uri-path is empty or if the first character of the uri-path is not\n   // a %x2F (\"/\") character, output %x2F (\"/\") and skip the remaining steps.\n   if (!path || path.substr(0,1) !== \"/\") {\n     return \"/\";\n   }\n\n   // \"3. If the uri-path contains no more than one %x2F (\"/\") character, output\n   // %x2F (\"/\") and skip the remaining step.\"\n   if (path === \"/\") {\n     return path;\n   }\n\n   var rightSlash = path.lastIndexOf(\"/\");\n   if (rightSlash === 0) {\n     return \"/\";\n   }\n\n   // \"4. Output the characters of the uri-path from the first character up to,\n   // but not including, the right-most %x2F (\"/\").\"\n   return path.slice(0, rightSlash);\n }\n\n function trimTerminator(str) {\n   for (var t = 0; t < TERMINATORS.length; t++) {\n     var terminatorIdx = str.indexOf(TERMINATORS[t]);\n     if (terminatorIdx !== -1) {\n       str = str.substr(0,terminatorIdx);\n     }\n   }\n\n   return str;\n }\n\n function parseCookiePair(cookiePair, looseMode) {\n   cookiePair = trimTerminator(cookiePair);\n\n   var firstEq = cookiePair.indexOf('=');\n   if (looseMode) {\n     if (firstEq === 0) { // '=' is immediately at start\n       cookiePair = cookiePair.substr(1);\n       firstEq = cookiePair.indexOf('='); // might still need to split on '='\n     }\n   } else { // non-loose mode\n     if (firstEq <= 0) { // no '=' or is at start\n       return; // needs to have non-empty \"cookie-name\"\n     }\n   }\n\n   var cookieName, cookieValue;\n   if (firstEq <= 0) {\n     cookieName = \"\";\n     cookieValue = cookiePair.trim();\n   } else {\n     cookieName = cookiePair.substr(0, firstEq).trim();\n     cookieValue = cookiePair.substr(firstEq+1).trim();\n   }\n\n   if (CONTROL_CHARS.test(cookieName) || CONTROL_CHARS.test(cookieValue)) {\n     return;\n   }\n\n   var c = new Cookie();\n   c.key = cookieName;\n   c.value = cookieValue;\n   return c;\n }\n\n function parse(str, options) {\n   if (!options || typeof options !== 'object') {\n     options = {};\n   }\n   str = str.trim();\n\n   // We use a regex to parse the \"name-value-pair\" part of S5.2\n   var firstSemi = str.indexOf(';'); // S5.2 step 1\n   var cookiePair = (firstSemi === -1) ? str : str.substr(0, firstSemi);\n   var c = parseCookiePair(cookiePair, !!options.loose);\n   if (!c) {\n     return;\n   }\n\n   if (firstSemi === -1) {\n     return c;\n   }\n\n   // S5.2.3 \"unparsed-attributes consist of the remainder of the set-cookie-string\n   // (including the %x3B (\";\") in question).\" plus later on in the same section\n   // \"discard the first \";\" and trim\".\n   var unparsed = str.slice(firstSemi + 1).trim();\n\n   // \"If the unparsed-attributes string is empty, skip the rest of these\n   // steps.\"\n   if (unparsed.length === 0) {\n     return c;\n   }\n\n   /*\n    * S5.2 says that when looping over the items \"[p]rocess the attribute-name\n    * and attribute-value according to the requirements in the following\n    * subsections\" for every item.  Plus, for many of the individual attributes\n    * in S5.3 it says to use the \"attribute-value of the last attribute in the\n    * cookie-attribute-list\".  Therefore, in this implementation, we overwrite\n    * the previous value.\n    */\n   var cookie_avs = unparsed.split(';');\n   while (cookie_avs.length) {\n     var av = cookie_avs.shift().trim();\n     if (av.length === 0) { // happens if \";;\" appears\n       continue;\n     }\n     var av_sep = av.indexOf('=');\n     var av_key, av_value;\n\n     if (av_sep === -1) {\n       av_key = av;\n       av_value = null;\n     } else {\n       av_key = av.substr(0,av_sep);\n       av_value = av.substr(av_sep+1);\n     }\n\n     av_key = av_key.trim().toLowerCase();\n\n     if (av_value) {\n       av_value = av_value.trim();\n     }\n\n     switch(av_key) {\n     case 'expires': // S5.2.1\n       if (av_value) {\n         var exp = parseDate(av_value);\n         // \"If the attribute-value failed to parse as a cookie date, ignore the\n         // cookie-av.\"\n         if (exp) {\n           // over and underflow not realistically a concern: V8's getTime() seems to\n           // store something larger than a 32-bit time_t (even with 32-bit node)\n           c.expires = exp;\n         }\n       }\n       break;\n\n     case 'max-age': // S5.2.2\n       if (av_value) {\n         // \"If the first character of the attribute-value is not a DIGIT or a \"-\"\n         // character ...[or]... If the remainder of attribute-value contains a\n         // non-DIGIT character, ignore the cookie-av.\"\n         if (/^-?[0-9]+$/.test(av_value)) {\n           var delta = parseInt(av_value, 10);\n           // \"If delta-seconds is less than or equal to zero (0), let expiry-time\n           // be the earliest representable date and time.\"\n           c.setMaxAge(delta);\n         }\n       }\n       break;\n\n     case 'domain': // S5.2.3\n       // \"If the attribute-value is empty, the behavior is undefined.  However,\n       // the user agent SHOULD ignore the cookie-av entirely.\"\n       if (av_value) {\n         // S5.2.3 \"Let cookie-domain be the attribute-value without the leading %x2E\n         // (\".\") character.\"\n         var domain = av_value.trim().replace(/^\\./, '');\n         if (domain) {\n           // \"Convert the cookie-domain to lower case.\"\n           c.domain = domain.toLowerCase();\n         }\n       }\n       break;\n\n     case 'path': // S5.2.4\n       /*\n        * \"If the attribute-value is empty or if the first character of the\n        * attribute-value is not %x2F (\"/\"):\n        *   Let cookie-path be the default-path.\n        * Otherwise:\n        *   Let cookie-path be the attribute-value.\"\n        *\n        * We'll represent the default-path as null since it depends on the\n        * context of the parsing.\n        */\n       c.path = av_value && av_value[0] === \"/\" ? av_value : null;\n       break;\n\n     case 'secure': // S5.2.5\n       /*\n        * \"If the attribute-name case-insensitively matches the string \"Secure\",\n        * the user agent MUST append an attribute to the cookie-attribute-list\n        * with an attribute-name of Secure and an empty attribute-value.\"\n        */\n       c.secure = true;\n       break;\n\n     case 'httponly': // S5.2.6 -- effectively the same as 'secure'\n       c.httpOnly = true;\n       break;\n\n     default:\n       c.extensions = c.extensions || [];\n       c.extensions.push(av);\n       break;\n     }\n   }\n\n   return c;\n }\n\n // avoid the V8 deoptimization monster!\n function jsonParse(str) {\n   var obj;\n   try {\n     obj = JSON.parse(str);\n   } catch (e) {\n     return e;\n   }\n   return obj;\n }\n\n function fromJSON(str) {\n   if (!str) {\n     return null;\n   }\n\n   var obj;\n   if (typeof str === 'string') {\n     obj = jsonParse(str);\n     if (obj instanceof Error) {\n       return null;\n     }\n   } else {\n     // assume it's an Object\n     obj = str;\n   }\n\n   var c = new Cookie();\n   for (var i=0; i<Cookie.serializableProperties.length; i++) {\n     var prop = Cookie.serializableProperties[i];\n     if (obj[prop] === undefined ||\n         obj[prop] === Cookie.prototype[prop])\n     {\n       continue; // leave as prototype default\n     }\n\n     if (prop === 'expires' ||\n         prop === 'creation' ||\n         prop === 'lastAccessed')\n     {\n       if (obj[prop] === null) {\n         c[prop] = null;\n       } else {\n         c[prop] = obj[prop] == \"Infinity\" ?\n           \"Infinity\" : new Date(obj[prop]);\n       }\n     } else {\n       c[prop] = obj[prop];\n     }\n   }\n\n   return c;\n }\n\n /* Section 5.4 part 2:\n  * \"*  Cookies with longer paths are listed before cookies with\n  *     shorter paths.\n  *\n  *  *  Among cookies that have equal-length path fields, cookies with\n  *     earlier creation-times are listed before cookies with later\n  *     creation-times.\"\n  */\n\n function cookieCompare(a,b) {\n   var cmp = 0;\n\n   // descending for length: b CMP a\n   var aPathLen = a.path ? a.path.length : 0;\n   var bPathLen = b.path ? b.path.length : 0;\n   cmp = bPathLen - aPathLen;\n   if (cmp !== 0) {\n     return cmp;\n   }\n\n   // ascending for time: a CMP b\n   var aTime = a.creation ? a.creation.getTime() : MAX_TIME;\n   var bTime = b.creation ? b.creation.getTime() : MAX_TIME;\n   cmp = aTime - bTime;\n   if (cmp !== 0) {\n     return cmp;\n   }\n\n   // break ties for the same millisecond (precision of JavaScript's clock)\n   cmp = a.creationIndex - b.creationIndex;\n\n   return cmp;\n }\n\n // Gives the permutation of all possible pathMatch()es of a given path. The\n // array is in longest-to-shortest order.  Handy for indexing.\n function permutePath(path) {\n   if (path === '/') {\n     return ['/'];\n   }\n   if (path.lastIndexOf('/') === path.length-1) {\n     path = path.substr(0,path.length-1);\n   }\n   var permutations = [path];\n   while (path.length > 1) {\n     var lindex = path.lastIndexOf('/');\n     if (lindex === 0) {\n       break;\n     }\n     path = path.substr(0,lindex);\n     permutations.push(path);\n   }\n   permutations.push('/');\n   return permutations;\n }\n\n function getCookieContext(url) {\n   if (url instanceof Object) {\n     return url;\n   }\n   // NOTE: decodeURI will throw on malformed URIs (see GH-32).\n   // Therefore, we will just skip decoding for such URIs.\n   try {\n     url = decodeURI(url);\n   }\n   catch(err) {\n     // Silently swallow error\n   }\n\n   return urlParse(url);\n }\n\n function Cookie(options) {\n   options = options || {};\n\n   Object.keys(options).forEach(function(prop) {\n     if (Cookie.prototype.hasOwnProperty(prop) &&\n         Cookie.prototype[prop] !== options[prop] &&\n         prop.substr(0,1) !== '_')\n     {\n       this[prop] = options[prop];\n     }\n   }, this);\n\n   this.creation = this.creation || new Date();\n\n   // used to break creation ties in cookieCompare():\n   Object.defineProperty(this, 'creationIndex', {\n     configurable: false,\n     enumerable: false, // important for assert.deepEqual checks\n     writable: true,\n     value: ++Cookie.cookiesCreated\n   });\n }\n\n Cookie.cookiesCreated = 0; // incremented each time a cookie is created\n\n Cookie.parse = parse;\n Cookie.fromJSON = fromJSON;\n\n Cookie.prototype.key = \"\";\n Cookie.prototype.value = \"\";\n\n // the order in which the RFC has them:\n Cookie.prototype.expires = \"Infinity\"; // coerces to literal Infinity\n Cookie.prototype.maxAge = null; // takes precedence over expires for TTL\n Cookie.prototype.domain = null;\n Cookie.prototype.path = null;\n Cookie.prototype.secure = false;\n Cookie.prototype.httpOnly = false;\n Cookie.prototype.extensions = null;\n\n // set by the CookieJar:\n Cookie.prototype.hostOnly = null; // boolean when set\n Cookie.prototype.pathIsDefault = null; // boolean when set\n Cookie.prototype.creation = null; // Date when set; defaulted by Cookie.parse\n Cookie.prototype.lastAccessed = null; // Date when set\n Object.defineProperty(Cookie.prototype, 'creationIndex', {\n   configurable: true,\n   enumerable: false,\n   writable: true,\n   value: 0\n });\n\n Cookie.serializableProperties = Object.keys(Cookie.prototype)\n   .filter(function(prop) {\n     return !(\n       Cookie.prototype[prop] instanceof Function ||\n       prop === 'creationIndex' ||\n       prop.substr(0,1) === '_'\n     );\n   });\n\n Cookie.prototype.inspect = function inspect() {\n   var now = Date.now();\n   return 'Cookie=\"'+this.toString() +\n     '; hostOnly='+(this.hostOnly != null ? this.hostOnly : '?') +\n     '; aAge='+(this.lastAccessed ? (now-this.lastAccessed.getTime())+'ms' : '?') +\n     '; cAge='+(this.creation ? (now-this.creation.getTime())+'ms' : '?') +\n     '\"';\n };\n\n // Use the new custom inspection symbol to add the custom inspect function if\n // available.\n if (util.inspect.custom) {\n   Cookie.prototype[util.inspect.custom] = Cookie.prototype.inspect;\n }\n\n Cookie.prototype.toJSON = function() {\n   var obj = {};\n\n   var props = Cookie.serializableProperties;\n   for (var i=0; i<props.length; i++) {\n     var prop = props[i];\n     if (this[prop] === Cookie.prototype[prop]) {\n       continue; // leave as prototype default\n     }\n\n     if (prop === 'expires' ||\n         prop === 'creation' ||\n         prop === 'lastAccessed')\n     {\n       if (this[prop] === null) {\n         obj[prop] = null;\n       } else {\n         obj[prop] = this[prop] == \"Infinity\" ? // intentionally not ===\n           \"Infinity\" : this[prop].toISOString();\n       }\n     } else if (prop === 'maxAge') {\n       if (this[prop] !== null) {\n         // again, intentionally not ===\n         obj[prop] = (this[prop] == Infinity || this[prop] == -Infinity) ?\n           this[prop].toString() : this[prop];\n       }\n     } else {\n       if (this[prop] !== Cookie.prototype[prop]) {\n         obj[prop] = this[prop];\n       }\n     }\n   }\n\n   return obj;\n };\n\n Cookie.prototype.clone = function() {\n   return fromJSON(this.toJSON());\n };\n\n Cookie.prototype.validate = function validate() {\n   if (!COOKIE_OCTETS.test(this.value)) {\n     return false;\n   }\n   if (this.expires != Infinity && !(this.expires instanceof Date) && !parseDate(this.expires)) {\n     return false;\n   }\n   if (this.maxAge != null && this.maxAge <= 0) {\n     return false; // \"Max-Age=\" non-zero-digit *DIGIT\n   }\n   if (this.path != null && !PATH_VALUE.test(this.path)) {\n     return false;\n   }\n\n   var cdomain = this.cdomain();\n   if (cdomain) {\n     if (cdomain.match(/\\.$/)) {\n       return false; // S4.1.2.3 suggests that this is bad. domainMatch() tests confirm this\n     }\n     var suffix = pubsuffix.getPublicSuffix(cdomain);\n     if (suffix == null) { // it's a public suffix\n       return false;\n     }\n   }\n   return true;\n };\n\n Cookie.prototype.setExpires = function setExpires(exp) {\n   if (exp instanceof Date) {\n     this.expires = exp;\n   } else {\n     this.expires = parseDate(exp) || \"Infinity\";\n   }\n };\n\n Cookie.prototype.setMaxAge = function setMaxAge(age) {\n   if (age === Infinity || age === -Infinity) {\n     this.maxAge = age.toString(); // so JSON.stringify() works\n   } else {\n     this.maxAge = age;\n   }\n };\n\n // gives Cookie header format\n Cookie.prototype.cookieString = function cookieString() {\n   var val = this.value;\n   if (val == null) {\n     val = '';\n   }\n   if (this.key === '') {\n     return val;\n   }\n   return this.key+'='+val;\n };\n\n // gives Set-Cookie header format\n Cookie.prototype.toString = function toString() {\n   var str = this.cookieString();\n\n   if (this.expires != Infinity) {\n     if (this.expires instanceof Date) {\n       str += '; Expires='+formatDate(this.expires);\n     } else {\n       str += '; Expires='+this.expires;\n     }\n   }\n\n   if (this.maxAge != null && this.maxAge != Infinity) {\n     str += '; Max-Age='+this.maxAge;\n   }\n\n   if (this.domain && !this.hostOnly) {\n     str += '; Domain='+this.domain;\n   }\n   if (this.path) {\n     str += '; Path='+this.path;\n   }\n\n   if (this.secure) {\n     str += '; Secure';\n   }\n   if (this.httpOnly) {\n     str += '; HttpOnly';\n   }\n   if (this.extensions) {\n     this.extensions.forEach(function(ext) {\n       str += '; '+ext;\n     });\n   }\n\n   return str;\n };\n\n // TTL() partially replaces the \"expiry-time\" parts of S5.3 step 3 (setCookie()\n // elsewhere)\n // S5.3 says to give the \"latest representable date\" for which we use Infinity\n // For \"expired\" we use 0\n Cookie.prototype.TTL = function TTL(now) {\n   /* RFC6265 S4.1.2.2 If a cookie has both the Max-Age and the Expires\n    * attribute, the Max-Age attribute has precedence and controls the\n    * expiration date of the cookie.\n    * (Concurs with S5.3 step 3)\n    */\n   if (this.maxAge != null) {\n     return this.maxAge<=0 ? 0 : this.maxAge*1000;\n   }\n\n   var expires = this.expires;\n   if (expires != Infinity) {\n     if (!(expires instanceof Date)) {\n       expires = parseDate(expires) || Infinity;\n     }\n\n     if (expires == Infinity) {\n       return Infinity;\n     }\n\n     return expires.getTime() - (now || Date.now());\n   }\n\n   return Infinity;\n };\n\n // expiryTime() replaces the \"expiry-time\" parts of S5.3 step 3 (setCookie()\n // elsewhere)\n Cookie.prototype.expiryTime = function expiryTime(now) {\n   if (this.maxAge != null) {\n     var relativeTo = now || this.creation || new Date();\n     var age = (this.maxAge <= 0) ? -Infinity : this.maxAge*1000;\n     return relativeTo.getTime() + age;\n   }\n\n   if (this.expires == Infinity) {\n     return Infinity;\n   }\n   return this.expires.getTime();\n };\n\n // expiryDate() replaces the \"expiry-time\" parts of S5.3 step 3 (setCookie()\n // elsewhere), except it returns a Date\n Cookie.prototype.expiryDate = function expiryDate(now) {\n   var millisec = this.expiryTime(now);\n   if (millisec == Infinity) {\n     return new Date(MAX_TIME);\n   } else if (millisec == -Infinity) {\n     return new Date(MIN_TIME);\n   } else {\n     return new Date(millisec);\n   }\n };\n\n // This replaces the \"persistent-flag\" parts of S5.3 step 3\n Cookie.prototype.isPersistent = function isPersistent() {\n   return (this.maxAge != null || this.expires != Infinity);\n };\n\n // Mostly S5.1.2 and S5.2.3:\n Cookie.prototype.cdomain =\n Cookie.prototype.canonicalizedDomain = function canonicalizedDomain() {\n   if (this.domain == null) {\n     return null;\n   }\n   return canonicalDomain(this.domain);\n };\n\n function CookieJar(store, options) {\n   if (typeof options === \"boolean\") {\n     options = {rejectPublicSuffixes: options};\n   } else if (options == null) {\n     options = {};\n   }\n   if (options.rejectPublicSuffixes != null) {\n     this.rejectPublicSuffixes = options.rejectPublicSuffixes;\n   }\n   if (options.looseMode != null) {\n     this.enableLooseMode = options.looseMode;\n   }\n\n   if (!store) {\n     store = new MemoryCookieStore();\n   }\n   this.store = store;\n }\n CookieJar.prototype.store = null;\n CookieJar.prototype.rejectPublicSuffixes = true;\n CookieJar.prototype.enableLooseMode = false;\n var CAN_BE_SYNC = [];\n\n CAN_BE_SYNC.push('setCookie');\n CookieJar.prototype.setCookie = function(cookie, url, options, cb) {\n   var err;\n   var context = getCookieContext(url);\n   if (options instanceof Function) {\n     cb = options;\n     options = {};\n   }\n\n   var host = canonicalDomain(context.hostname);\n   var loose = this.enableLooseMode;\n   if (options.loose != null) {\n     loose = options.loose;\n   }\n\n   // S5.3 step 1\n   if (!(cookie instanceof Cookie)) {\n     cookie = Cookie.parse(cookie, { loose: loose });\n   }\n   if (!cookie) {\n     err = new Error(\"Cookie failed to parse\");\n     return cb(options.ignoreError ? null : err);\n   }\n\n   // S5.3 step 2\n   var now = options.now || new Date(); // will assign later to save effort in the face of errors\n\n   // S5.3 step 3: NOOP; persistent-flag and expiry-time is handled by getCookie()\n\n   // S5.3 step 4: NOOP; domain is null by default\n\n   // S5.3 step 5: public suffixes\n   if (this.rejectPublicSuffixes && cookie.domain) {\n     var suffix = pubsuffix.getPublicSuffix(cookie.cdomain());\n     if (suffix == null) { // e.g. \"com\"\n       err = new Error(\"Cookie has domain set to a public suffix\");\n       return cb(options.ignoreError ? null : err);\n     }\n   }\n\n   // S5.3 step 6:\n   if (cookie.domain) {\n     if (!domainMatch(host, cookie.cdomain(), false)) {\n       err = new Error(\"Cookie not in this host's domain. Cookie:\"+cookie.cdomain()+\" Request:\"+host);\n       return cb(options.ignoreError ? null : err);\n     }\n\n     if (cookie.hostOnly == null) { // don't reset if already set\n       cookie.hostOnly = false;\n     }\n\n   } else {\n     cookie.hostOnly = true;\n     cookie.domain = host;\n   }\n\n   //S5.2.4 If the attribute-value is empty or if the first character of the\n   //attribute-value is not %x2F (\"/\"):\n   //Let cookie-path be the default-path.\n   if (!cookie.path || cookie.path[0] !== '/') {\n     cookie.path = defaultPath(context.pathname);\n     cookie.pathIsDefault = true;\n   }\n\n   // S5.3 step 8: NOOP; secure attribute\n   // S5.3 step 9: NOOP; httpOnly attribute\n\n   // S5.3 step 10\n   if (options.http === false && cookie.httpOnly) {\n     err = new Error(\"Cookie is HttpOnly and this isn't an HTTP API\");\n     return cb(options.ignoreError ? null : err);\n   }\n\n   var store = this.store;\n\n   if (!store.updateCookie) {\n     store.updateCookie = function(oldCookie, newCookie, cb) {\n       this.putCookie(newCookie, cb);\n     };\n   }\n\n   function withCookie(err, oldCookie) {\n     if (err) {\n       return cb(err);\n     }\n\n     var next = function(err) {\n       if (err) {\n         return cb(err);\n       } else {\n         cb(null, cookie);\n       }\n     };\n\n     if (oldCookie) {\n       // S5.3 step 11 - \"If the cookie store contains a cookie with the same name,\n       // domain, and path as the newly created cookie:\"\n       if (options.http === false && oldCookie.httpOnly) { // step 11.2\n         err = new Error(\"old Cookie is HttpOnly and this isn't an HTTP API\");\n         return cb(options.ignoreError ? null : err);\n       }\n       cookie.creation = oldCookie.creation; // step 11.3\n       cookie.creationIndex = oldCookie.creationIndex; // preserve tie-breaker\n       cookie.lastAccessed = now;\n       // Step 11.4 (delete cookie) is implied by just setting the new one:\n       store.updateCookie(oldCookie, cookie, next); // step 12\n\n     } else {\n       cookie.creation = cookie.lastAccessed = now;\n       store.putCookie(cookie, next); // step 12\n     }\n   }\n\n   store.findCookie(cookie.domain, cookie.path, cookie.key, withCookie);\n };\n\n // RFC6365 S5.4\n CAN_BE_SYNC.push('getCookies');\n CookieJar.prototype.getCookies = function(url, options, cb) {\n   var context = getCookieContext(url);\n   if (options instanceof Function) {\n     cb = options;\n     options = {};\n   }\n\n   var host = canonicalDomain(context.hostname);\n   var path = context.pathname || '/';\n\n   var secure = options.secure;\n   if (secure == null && context.protocol &&\n       (context.protocol == 'https:' || context.protocol == 'wss:'))\n   {\n     secure = true;\n   }\n\n   var http = options.http;\n   if (http == null) {\n     http = true;\n   }\n\n   var now = options.now || Date.now();\n   var expireCheck = options.expire !== false;\n   var allPaths = !!options.allPaths;\n   var store = this.store;\n\n   function matchingCookie(c) {\n     // \"Either:\n     //   The cookie's host-only-flag is true and the canonicalized\n     //   request-host is identical to the cookie's domain.\n     // Or:\n     //   The cookie's host-only-flag is false and the canonicalized\n     //   request-host domain-matches the cookie's domain.\"\n     if (c.hostOnly) {\n       if (c.domain != host) {\n         return false;\n       }\n     } else {\n       if (!domainMatch(host, c.domain, false)) {\n         return false;\n       }\n     }\n\n     // \"The request-uri's path path-matches the cookie's path.\"\n     if (!allPaths && !pathMatch(path, c.path)) {\n       return false;\n     }\n\n     // \"If the cookie's secure-only-flag is true, then the request-uri's\n     // scheme must denote a \"secure\" protocol\"\n     if (c.secure && !secure) {\n       return false;\n     }\n\n     // \"If the cookie's http-only-flag is true, then exclude the cookie if the\n     // cookie-string is being generated for a \"non-HTTP\" API\"\n     if (c.httpOnly && !http) {\n       return false;\n     }\n\n     // deferred from S5.3\n     // non-RFC: allow retention of expired cookies by choice\n     if (expireCheck && c.expiryTime() <= now) {\n       store.removeCookie(c.domain, c.path, c.key, function(){}); // result ignored\n       return false;\n     }\n\n     return true;\n   }\n\n   store.findCookies(host, allPaths ? null : path, function(err,cookies) {\n     if (err) {\n       return cb(err);\n     }\n\n     cookies = cookies.filter(matchingCookie);\n\n     // sorting of S5.4 part 2\n     if (options.sort !== false) {\n       cookies = cookies.sort(cookieCompare);\n     }\n\n     // S5.4 part 3\n     var now = new Date();\n     cookies.forEach(function(c) {\n       c.lastAccessed = now;\n     });\n     // TODO persist lastAccessed\n\n     cb(null,cookies);\n   });\n };\n\n CAN_BE_SYNC.push('getCookieString');\n CookieJar.prototype.getCookieString = function(/*..., cb*/) {\n   var args = Array.prototype.slice.call(arguments,0);\n   var cb = args.pop();\n   var next = function(err,cookies) {\n     if (err) {\n       cb(err);\n     } else {\n       cb(null, cookies\n         .sort(cookieCompare)\n         .map(function(c){\n           return c.cookieString();\n         })\n         .join('; '));\n     }\n   };\n   args.push(next);\n   this.getCookies.apply(this,args);\n };\n\n CAN_BE_SYNC.push('getSetCookieStrings');\n CookieJar.prototype.getSetCookieStrings = function(/*..., cb*/) {\n   var args = Array.prototype.slice.call(arguments,0);\n   var cb = args.pop();\n   var next = function(err,cookies) {\n     if (err) {\n       cb(err);\n     } else {\n       cb(null, cookies.map(function(c){\n         return c.toString();\n       }));\n     }\n   };\n   args.push(next);\n   this.getCookies.apply(this,args);\n };\n\n CAN_BE_SYNC.push('serialize');\n CookieJar.prototype.serialize = function(cb) {\n   var type = this.store.constructor.name;\n   if (type === 'Object') {\n     type = null;\n   }\n\n   // update README.md \"Serialization Format\" if you change this, please!\n   var serialized = {\n     // The version of tough-cookie that serialized this jar. Generally a good\n     // practice since future versions can make data import decisions based on\n     // known past behavior. When/if this matters, use `semver`.\n     version: 'tough-cookie@'+VERSION,\n\n     // add the store type, to make humans happy:\n     storeType: type,\n\n     // CookieJar configuration:\n     rejectPublicSuffixes: !!this.rejectPublicSuffixes,\n\n     // this gets filled from getAllCookies:\n     cookies: []\n   };\n\n   if (!(this.store.getAllCookies &&\n         typeof this.store.getAllCookies === 'function'))\n   {\n     return cb(new Error('store does not support getAllCookies and cannot be serialized'));\n   }\n\n   this.store.getAllCookies(function(err,cookies) {\n     if (err) {\n       return cb(err);\n     }\n\n     serialized.cookies = cookies.map(function(cookie) {\n       // convert to serialized 'raw' cookies\n       cookie = (cookie instanceof Cookie) ? cookie.toJSON() : cookie;\n\n       // Remove the index so new ones get assigned during deserialization\n       delete cookie.creationIndex;\n\n       return cookie;\n     });\n\n     return cb(null, serialized);\n   });\n };\n\n // well-known name that JSON.stringify calls\n CookieJar.prototype.toJSON = function() {\n   return this.serializeSync();\n };\n\n // use the class method CookieJar.deserialize instead of calling this directly\n CAN_BE_SYNC.push('_importCookies');\n CookieJar.prototype._importCookies = function(serialized, cb) {\n   var jar = this;\n   var cookies = serialized.cookies;\n   if (!cookies || !Array.isArray(cookies)) {\n     return cb(new Error('serialized jar has no cookies array'));\n   }\n   cookies = cookies.slice(); // do not modify the original\n\n   function putNext(err) {\n     if (err) {\n       return cb(err);\n     }\n\n     if (!cookies.length) {\n       return cb(err, jar);\n     }\n\n     var cookie;\n     try {\n       cookie = fromJSON(cookies.shift());\n     } catch (e) {\n       return cb(e);\n     }\n\n     if (cookie === null) {\n       return putNext(null); // skip this cookie\n     }\n\n     jar.store.putCookie(cookie, putNext);\n   }\n\n   putNext();\n };\n\n CookieJar.deserialize = function(strOrObj, store, cb) {\n   if (arguments.length !== 3) {\n     // store is optional\n     cb = store;\n     store = null;\n   }\n\n   var serialized;\n   if (typeof strOrObj === 'string') {\n     serialized = jsonParse(strOrObj);\n     if (serialized instanceof Error) {\n       return cb(serialized);\n     }\n   } else {\n     serialized = strOrObj;\n   }\n\n   var jar = new CookieJar(store, serialized.rejectPublicSuffixes);\n   jar._importCookies(serialized, function(err) {\n     if (err) {\n       return cb(err);\n     }\n     cb(null, jar);\n   });\n };\n\n CookieJar.deserializeSync = function(strOrObj, store) {\n   var serialized = typeof strOrObj === 'string' ?\n     JSON.parse(strOrObj) : strOrObj;\n   var jar = new CookieJar(store, serialized.rejectPublicSuffixes);\n\n   // catch this mistake early:\n   if (!jar.store.synchronous) {\n     throw new Error('CookieJar store is not synchronous; use async API instead.');\n   }\n\n   jar._importCookiesSync(serialized);\n   return jar;\n };\n CookieJar.fromJSON = CookieJar.deserializeSync;\n\n CookieJar.prototype.clone = function(newStore, cb) {\n   if (arguments.length === 1) {\n     cb = newStore;\n     newStore = null;\n   }\n\n   this.serialize(function(err,serialized) {\n     if (err) {\n       return cb(err);\n     }\n     CookieJar.deserialize(serialized, newStore, cb);\n   });\n };\n\n CAN_BE_SYNC.push('removeAllCookies');\n CookieJar.prototype.removeAllCookies = function(cb) {\n   var store = this.store;\n\n   // Check that the store implements its own removeAllCookies(). The default\n   // implementation in Store will immediately call the callback with a \"not\n   // implemented\" Error.\n   if (store.removeAllCookies instanceof Function &&\n       store.removeAllCookies !== Store.prototype.removeAllCookies)\n   {\n     return store.removeAllCookies(cb);\n   }\n\n   store.getAllCookies(function(err, cookies) {\n     if (err) {\n       return cb(err);\n     }\n\n     if (cookies.length === 0) {\n       return cb(null);\n     }\n\n     var completedCount = 0;\n     var removeErrors = [];\n\n     function removeCookieCb(removeErr) {\n       if (removeErr) {\n         removeErrors.push(removeErr);\n       }\n\n       completedCount++;\n\n       if (completedCount === cookies.length) {\n         return cb(removeErrors.length ? removeErrors[0] : null);\n       }\n     }\n\n     cookies.forEach(function(cookie) {\n       store.removeCookie(cookie.domain, cookie.path, cookie.key, removeCookieCb);\n     });\n   });\n };\n\n CookieJar.prototype._cloneSync = syncWrap('clone');\n CookieJar.prototype.cloneSync = function(newStore) {\n   if (!newStore.synchronous) {\n     throw new Error('CookieJar clone destination store is not synchronous; use async API instead.');\n   }\n   return this._cloneSync(newStore);\n };\n\n // Use a closure to provide a true imperative API for synchronous stores.\n function syncWrap(method) {\n   return function() {\n     if (!this.store.synchronous) {\n       throw new Error('CookieJar store is not synchronous; use async API instead.');\n     }\n\n     var args = Array.prototype.slice.call(arguments);\n     var syncErr, syncResult;\n     args.push(function syncCb(err, result) {\n       syncErr = err;\n       syncResult = result;\n     });\n     this[method].apply(this, args);\n\n     if (syncErr) {\n       throw syncErr;\n     }\n     return syncResult;\n   };\n }\n\n // wrap all declared CAN_BE_SYNC methods in the sync wrapper\n CAN_BE_SYNC.forEach(function(method) {\n   CookieJar.prototype[method+'Sync'] = syncWrap(method);\n });\n\n exports.version = VERSION;\n exports.CookieJar = CookieJar;\n exports.Cookie = Cookie;\n exports.Store = Store;\n exports.MemoryCookieStore = MemoryCookieStore;\n exports.parseDate = parseDate;\n exports.formatDate = formatDate;\n exports.parse = parse;\n exports.fromJSON = fromJSON;\n exports.domainMatch = domainMatch;\n exports.defaultPath = defaultPath;\n exports.pathMatch = pathMatch;\n exports.getPublicSuffix = pubsuffix.getPublicSuffix;\n exports.cookieCompare = cookieCompare;\n exports.permuteDomain = require('./permuteDomain').permuteDomain;\n exports.permutePath = permutePath;\n exports.canonicalDomain = canonicalDomain;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n_version = module.exports.version;\n_CookieJar = module.exports.CookieJar;\n_Cookie = module.exports.Cookie;\n_Store = module.exports.Store;\n_MemoryCookieStore = module.exports.MemoryCookieStore;\n_parseDate = module.exports.parseDate;\n_formatDate = module.exports.formatDate;\n_parse = module.exports.parse;\n_fromJSON = module.exports.fromJSON;\n_domainMatch = module.exports.domainMatch;\n_defaultPath = module.exports.defaultPath;\n_pathMatch = module.exports.pathMatch;\n_getPublicSuffix = module.exports.getPublicSuffix;\n_cookieCompare = module.exports.cookieCompare;\n_permuteDomain = module.exports.permuteDomain;\n_permutePath = module.exports.permutePath;\n_canonicalDomain = module.exports.canonicalDomain;\n\n}, () => ({\n  'net': _req,\n  'url': _req0,\n  'util': _req1,\n  './pubsuffix-psl': _req2,\n  './store': _req3,\n  './memstore': _req4,\n  './pathMatch': _req5,\n  './version': _req6,\n  'punycode': _req7,\n  './permuteDomain': _req8,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}