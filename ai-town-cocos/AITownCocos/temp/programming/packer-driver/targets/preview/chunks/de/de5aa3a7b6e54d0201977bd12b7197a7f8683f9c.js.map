{"version":3,"sources":["file:///Users/feiwang/workSpace/AITown/cutepet/assets/src/model/main/MainModel.ts"],"names":["MainModel","director","_","EventType","BaseModel","showMsg2","mduManger","modelMgr","observer","socket","GlobalConfig","RedManager","network","StaticConfigModel","ModuleID","GuideIndex","Log","TAG","constructor","plantDataArr","playAniComplete","taskmaodan","chatIsediting","hasToySpine","firstIn","currentTapIndex","goumaitishi","userinfo","frameId","uid","done","level","redVipLevel","gold","avatarUrl","redVipExpire","_catsSeverData","playerItems","tasklist","qiandaoResp","init","on","SOCKET_ONMESSAGE","onMessage","getServerCatsData","id","data","da","index","length","element","chgServerCatsData","cat","curCats","key","Object","prototype","hasOwnProperty","call","push","getserItemCountById","goodsId","count","getserItemById","updateTasklist","taskId","status","instance","setkeyState","getTaskserById","taskid","checkcatReq","json","CheckCatsRequest","sendWebSocketBinary","changecatInfoReq","catId","name","userName","career","changeCatInfoRequest","changecatReq","catid","ChangeCatsRequest","checkplayerItems","checkPlayerItemsRequest","chatReq","str","chatRequest","context","chatlistReq","pageNum","chatListRequest","tasklistReq","taskListRequest","taskgetReq","taskgetRequest","shareReq","shareRequest","qiandaoReq","qiandaoRequest","yindaoReq","guideid","yindaoRequest","guide","zhaohuReq","zhaohuRequest","getShopList","shopListParameter","shopListRequest","playWithCat","PlayWithCatRequest","touchCat","touchWithCat","TouchCatRequest","getCurCatId","repData","command","closeModu","MAIN","load","loadScene","error","scene","log","configModel","getStrById","WorkCatModel","catsInfo","guideInfo","LoginData","player","find","START_GUIDE_STATE4","end","post","UPDATE_GUIDE_INFO_MAIN_VIEW","SOCKET_GETALL_CATS","catinfo","SOCKET_CHANGE_CATSDATA","SOCKET_CHANGEINFO_CATS","cati","setCurCatId","SOCKET_SELECT_CATS","SOCKET_CHECK_PLAYERITEMS","Number","SOCKET_CHANGE_CATS","chatNum","SOCKET_CHAT","START_GUIDE_STATE2","START_GUIDE_STATE5","SHOW_CHAT_LOG_BUTTON","START_GUIDE_STATE6","SHOW_WORK_BUTTON","SOCKET_CHATLIST","SOCKET_TASKLIST","lasttask","clone","obserdata","last","cur","SOCKET_TASK_CHANGE","task","taskIdList","taskconf","getConfigById","TaskCfg","dropconfig","DropsCfg","taskReward","catids","catIds","showmsg","SOCKET_TASK_GET","SOCKET_SHARE","SOCKET_QIANDAO","goods","SOCKET_ITEMUPDATE","SOCKET_ZHAOHU","SOCKET_SHOP_ITEM_LIST","SEND_BUY_SHOP_ITEM_SUCCESS_INFO","UPDATE_CAT_CV","code","WORK_DEFAULT","WORK_STATE_INFO"],"mappings":"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","sourcesContent":["import * as _ from \"lodash-es\";\nimport { EventType } from \"../../EventType\";\nimport BaseModel from \"../../core/base/BaseModel\";\nimport { showMsg2 } from \"../../core/message/MessageManager\";\nimport { mduManger, modelMgr, observer, socket } from \"../../game/App\";\nimport { catServerD, itemServerD, taskcell } from \"../../game/config/DataStruct\";\nimport { GlobalConfig } from \"../../game/config/GlobalConfig\";\nimport RedManager from \"../../manager/RedManager\";\nimport mainModule from \"../../module/main/MainModule\";\nimport { network } from \"../RequestData\";\nimport StaticConfigModel from \"../StaticConfig/StaticConfigModel\";\nimport PlantData from \"./PlantData\";\nimport { ModuleID } from \"../../game/config/ModuleID\";\nimport { director } from \"cc\";\nimport { GuideIndex } from \"../StaticTextConfig\";\nimport Log from '../../../../assets/src/utils/LogUtils'\n\nconst TAG = 'MainModel'\nexport default class MainModel extends BaseModel {\n\n\n\n    public plantDataArr: PlantData[] = [];\n    playAniComplete: boolean = true\n    taskmaodan: number;\n    chatIsediting: boolean = false\n    hasToySpine: boolean = false;\n    firstIn: boolean = false ;\n    constructor() {\n        super();\n    }\n    init() {\n        observer.on(EventType.SOCKET_ONMESSAGE, this.onMessage, this);\n    }\n    /**\n     * 获取cats server data\n     * @param id \n     * @returns \n     */\n    getServerCatsData(id: number): catServerD {\n        if (this._catsSeverData?.data) {\n            let da: any[] = this._catsSeverData.data;\n            for (let index = 0; index < da.length; index++) {\n                const element = da[index];\n                if (element.id == id) {\n                    return element;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * 添加新猫咪\n     */\n    chgServerCatsData(cat: catServerD) {\n\n        if (this._catsSeverData?.data) {\n            let curCats = this.getServerCatsData(cat.id);\n            if (curCats) {\n                for (const key in curCats) {\n                    if (Object.prototype.hasOwnProperty.call(curCats, key)) {\n                        curCats[key] = cat[key];\n                    }\n                }\n            } else {\n                this._catsSeverData?.data.push(cat);\n            }\n        }\n    }\n    /**\n     * tab 当前页提示\n     */\n    currentTapIndex: any = {\n        \"mainbottom\": 2,\n        \"gedantab\": 0,\n        \"jishi\": 0,\n        \"jishi_goumai\": 0,\n        \"jishi_chushou\": 0,\n        \"renwuab\": 0,\n        \"pre_renwutab\": 0,\n        \"pre_tujiantab\": 0,\n        \"pre_tujianrwdtab\": 0,\n        \"qingdantab\": 0,\n        \"tujianrdtab\": 0,\n        \"pre_Tujianrand\": 0,\n        \"pre_emailtab\": 0,\n        \"pre_dongtaitab\": 0,\n        \"tujian_pets\": 0,\n        \"shop\": 0,\n\n    };\n    goumaitishi: number;\n    /**\n     * frameId:头像框\n     * uid:用户uid,\n     * done:登录奖励是否领取\n     * level:等级\n     * redVipLevel: 会员等级\n     * done: 是否已领取登录奖励\n     * gold: 云贝数量\n     * avatarUrl 用户头像 \n     * redVipExpire:用户会员到期时间\n     */\n    userinfo: {\n        frameId: string,\n        uid: number,\n        done: boolean,\n        level: number,\n        redVipLevel: number,\n        gold: number,\n        avatarUrl: string,\n        redVipExpire: number,\n    } = {\n            frameId: \"dff\",\n            uid: 121,\n            done: false,\n            level: 11,\n            redVipLevel: 1,\n            gold: 10,\n            avatarUrl: \"\",\n            redVipExpire: 11,\n        };\n\n    /**\n     * 根据道具id获取道具数量\n     * @param id \n     * @returns \n     */\n    public getserItemCountById(id: number) {\n        let da = this.playerItems?.data;\n        if (da && da.length > 0) {\n            for (let index = 0; index < da.length; index++) {\n                const element = da[index];\n                if (element.goodsId == id) {\n                    return element.count;\n                }\n            }\n        } else {\n            return 0;\n        }\n        return 0;\n    }\n    /**\n        * 根据道具id获取道具\n        * @param id \n        * @returns \n        */\n    public getserItemById(id: number): itemServerD {\n        let da = this.playerItems?.data;\n        if (da && da.length > 0) {\n            for (let index = 0; index < da.length; index++) {\n                const element = da[index];\n                if (element.goodsId == id) {\n                    return element;\n                }\n            }\n        } else {\n            return null;\n        }\n        return null;\n    }\n    private updateTasklist(da: taskcell) {\n        if (this?.tasklist?.data) {\n            for (let index = 0; index < this?.tasklist?.data.length; index++) {\n                let element = this?.tasklist?.data[index];\n                if (element.taskId == da.taskId) {\n                    element.status = da.status;\n                }\n            }\n            RedManager.instance.setkeyState(\"renwutabred\", this.tasklist);\n        }\n    }\n\n    public getTaskserById(taskid: number): taskcell {\n        if (this?.tasklist?.data) {\n            for (let index = 0; index < this?.tasklist?.data.length; index++) {\n                let element = this?.tasklist?.data[index];\n                if (element.taskId == taskid) {\n                    return element;\n                }\n            }\n        }\n        return null;\n    }\n\n    //======================================\n    public checkcatReq() {\n        let json = new network.CheckCatsRequest();\n        socket.sendWebSocketBinary(json);\n    }\n    public changecatInfoReq(catId: number, name: string, userName: string, career) {\n        let json = new network.changeCatInfoRequest();\n        json.data.catId = catId;\n        json.data.name = name;\n        json.data.userName = userName;\n        json.data.career = career\n        socket.sendWebSocketBinary(json);\n    }\n    public changecatReq(catid: number) {\n        let json = new network.ChangeCatsRequest();\n        json.data.catId = catid;\n        socket.sendWebSocketBinary(json);\n    }\n    public checkplayerItems() {\n        let json = new network.checkPlayerItemsRequest();\n        socket.sendWebSocketBinary(json);\n    }\n    public chatReq(catid: number, str: string) {\n        let json = new network.chatRequest();\n        json.data.catId = catid;\n        json.data.context = str;\n        socket.sendWebSocketBinary(json);\n    }\n    public chatlistReq(catid: number, pageNum: number) {\n        let json = new network.chatListRequest();\n        json.data.catId = catid;\n        json.data.pageNum = pageNum;\n        socket.sendWebSocketBinary(json);\n    }\n    public tasklistReq() {\n        let json = new network.taskListRequest();\n        socket.sendWebSocketBinary(json);\n    }\n\n    public taskgetReq(taskid: number) {\n        let json = new network.taskgetRequest();\n        json.data.taskId = taskid;\n        socket.sendWebSocketBinary(json);\n    }\n    public shareReq() {\n        let json = new network.shareRequest();\n        socket.sendWebSocketBinary(json);\n    }\n    public qiandaoReq() {\n        let json = new network.qiandaoRequest();\n        socket.sendWebSocketBinary(json);\n    }\n\n    public yindaoReq(guideid: number) {\n        let json = new network.yindaoRequest();\n        json.data.guide = guideid;\n        socket.sendWebSocketBinary(json);\n\n\n    }\n    public zhaohuReq() {\n        let json = new network.zhaohuRequest();\n        socket.sendWebSocketBinary(json);\n    }\n\n    public getShopList(){\n        let shopListParameter = new network.shopListRequest\n        socket.sendWebSocketBinary(shopListParameter)\n    }\n\n    public playWithCat(catId: number, goodsId: number, count: number){\n        let playWithCat = new network.PlayWithCatRequest\n        playWithCat.data.catId = catId\n        playWithCat.data.count = count\n        playWithCat.data.goodsId = goodsId\n        socket.sendWebSocketBinary(playWithCat)\n    }\n\n    public touchCat(){\n        let touchWithCat = new network.TouchCatRequest\n        touchWithCat.data.catId = GlobalConfig.instance.getCurCatId()\n        socket.sendWebSocketBinary(touchWithCat)\n    }\n\n    private _catsSeverData: network.CheckCatsResponse;\n    public playerItems: network.checkPlayerItemsResponse;\n    public tasklist: network.taskListResponse;\n    public qiandaoResp: network.qiandaoResponse;\n    public onMessage(da: any) {\n        let repData: network.InetwarkResponseData = da.data;\n        if (repData.command == 99998) {\n            mduManger.closeModu(ModuleID.MAIN);\n            let load = director.loadScene(\"index\", (error: Error, scene: any) => {\n                Log.log(TAG,error, scene);\n            });\n            if (load) {\n                showMsg2(modelMgr.configModel.getStrById(99998));\n            }\n            return;\n        }\n        if (repData.command == 10005) {//查询猫咪信息\n            this._catsSeverData = da.data;\n            WorkCatModel.catsInfo = da.data.data\n            const guideInfo = GlobalConfig.instance.LoginData.data.player.guide\n            if(da.data.data.length >= 2 && !guideInfo?.find?.(element => element === GuideIndex.START_GUIDE_STATE4.end)){\n                //触发第四阶段引导\n                observer.post(EventType.UPDATE_GUIDE_INFO_MAIN_VIEW, GuideIndex.START_GUIDE_STATE4)\n            }\n            observer.post(EventType.SOCKET_GETALL_CATS);\n        } else if (repData.command == 10006) {//修改猫咪信息\n            let catinfo = this.getServerCatsData(da.data.data.cat.id);\n            for (const key in catinfo) {\n                if (Object.prototype.hasOwnProperty.call(catinfo, key)) {\n                    catinfo[key] = da.data.data.cat[key];\n                    catinfo.career = da.data.data.cat?.career\n                }\n            }\n            observer.post(EventType.SOCKET_CHANGE_CATSDATA);\n            observer.post(EventType.SOCKET_CHANGEINFO_CATS);\n        } else if (repData.command == 10004) {//猫咪信息推送\n            const cati = da.data.data[0];\n            // let curCats = this.getServerCatsData(cati.id);\n            // if (curCats) {\n            //     for (const key in curCats) {\n            //         if (Object.prototype.hasOwnProperty.call(curCats, key)) {\n            //             curCats[key] = cati[key];\n            //         }\n            //     }\n            //     // curCats = {...cati};//会返回一个新的对象；\n            // }\n            this.chgServerCatsData(cati);\n            observer.post(EventType.SOCKET_CHANGEINFO_CATS, cati);\n\n        } else if (repData.command == 10007) {//猫咪选角\n            // GlobalConfig.instance.curSelCat = da.data;\n            GlobalConfig.instance.setCurCatId(da.data.data.cat.id);\n\n            observer.post(EventType.SOCKET_SELECT_CATS);\n        } else if (repData.command == 10008) {//选择道具,查询玩家信息；\n            this.playerItems = da.data;\n            observer.post(EventType.SOCKET_CHECK_PLAYERITEMS, da.data.data);\n\n        } else if (repData.command == 10019) {//切换猫咪\n            GlobalConfig.instance.setCurCatId(Number(da.data.data.catId));\n            observer.post(EventType.SOCKET_CHANGE_CATS);\n        } else if (repData.command == 10016) {\n            GlobalConfig.instance.LoginData.data.player.chatNum = GlobalConfig.instance.LoginData.data.player.chatNum + 1\n            observer.post(EventType.SOCKET_CHAT, da.data);\n            const guideInfo = GlobalConfig.instance.LoginData.data.player.guide\n            if(GlobalConfig.instance.LoginData.data.player.chatNum >= 1 && !guideInfo?.find?.(element => element === GuideIndex.START_GUIDE_STATE2.end - 1)){\n                //触发第二、三阶段引导\n                observer.post(EventType.UPDATE_GUIDE_INFO_MAIN_VIEW, GuideIndex.START_GUIDE_STATE2)\n            }\n            if(GlobalConfig.instance.LoginData.data.player.chatNum >= 3 && !guideInfo?.find?.(element => element === GuideIndex.START_GUIDE_STATE5.end)){\n                //触发第五阶段引导\n                observer.post(EventType.UPDATE_GUIDE_INFO_MAIN_VIEW, GuideIndex.START_GUIDE_STATE5)\n                observer.post(EventType.SHOW_CHAT_LOG_BUTTON)\n            }\n            if(GlobalConfig.instance.LoginData.data.player.chatNum >= 20 && !guideInfo?.find?.(element => element === GuideIndex.START_GUIDE_STATE6.end)){\n                //触发第六阶段引导\n                observer.post(EventType.UPDATE_GUIDE_INFO_MAIN_VIEW, GuideIndex.START_GUIDE_STATE6)\n                observer.post(EventType.SHOW_WORK_BUTTON)\n            }\n\n\n            //modelMgr.mainModel.chatlistReq(GlobalConfig.instance.getCurCatId(), 1);\n        } else if (repData.command == 10017) {\n            observer.post(EventType.SOCKET_CHATLIST, da.data);\n            //GlobalConfig.instance.currentChatTimes = da.data.data.chats.filter(obj => obj.to === GlobalConfig.instance.getCurCatId()).length\n        } else if (repData.command == 10012) {\n            this.tasklist = da.data;\n            RedManager.instance.setkeyState(\"renwutabred\", this.tasklist);\n            observer.post(EventType.SOCKET_TASKLIST, da.data);\n        } else if (repData.command == 10010) {//任务状态改变\n            let lasttask: taskcell = _.clone(this.getTaskserById(da.data.data[0].taskId));\n            this.updateTasklist(da.data.data[0]);\n            let obserdata = { last: lasttask, cur: da.data.data[0] };\n            observer.post(EventType.SOCKET_TASK_CHANGE, obserdata);\n        } else if (repData.command == 10013) {//任务领取\n            let task = this.getTaskserById(da.data.data.taskIdList[0]);\n            task.status = 3;\n            // this.updateTasklist();\n            RedManager.instance.setkeyState(\"renwutabred\", this.tasklist);\n            let taskconf = modelMgr.configModel.getConfigById(StaticConfigModel.TaskCfg, task.taskId);\n            let dropconfig = modelMgr.configModel.getConfigById(StaticConfigModel.DropsCfg, taskconf.taskReward);\n            if (task.taskId == 10003 || task.taskId == 10005 || task.taskId == 30001) {\n                let catids = da.data.data.catIds;\n                if (catids && catids[0]) {\n                    this.taskmaodan = catids[0];\n                    observer.post(\"showcategg\", catids[0]);\n                } else {//猫蛋转金币是10个金币；\n                    showMsg2(`Congratulations on receiving 10 Cat Coins.`)\n                }\n            } else {\n                showMsg2(dropconfig.showmsg);\n            }\n            // if (da.data.goodsDataList && da.data.goodsDataList.length) {\n            //     for (let index = 0; index < da.data.goodsDataList.length; index++) {\n            //         const element: itemServerD = da.data.goodsDataList[index];\n            //         let goods = this.getserItemById(element.goodsId);\n            //         if (goods) {\n            //             goods = { ...element };\n            //         }\n            //     }\n            // }\n            //猫蛋特殊处理\n\n            observer.post(EventType.SOCKET_TASK_GET, da.data);\n        } else if (repData.command == 10015) {//分享\n            observer.post(EventType.SOCKET_SHARE, da.data);\n        } else if (repData.command == 10014) {//签到\n            this.qiandaoResp = da.data;\n            observer.post(EventType.SOCKET_QIANDAO, da.data);\n        } else if (repData.command == 10009) {//道具更新\n            if (da.data.data && da.data.data.length) {\n                for (let index = 0; index < da.data.data.length; index++) {\n                    //goodsId\":10101000,\"count\":70\n                    const element = da.data.data[index];\n                    let goods = this.getserItemById(element.goodsId);\n                    if (goods) {\n                        goods.count = element.count;\n                    }\n                }\n            }\n            observer.post(EventType.SOCKET_ITEMUPDATE, da.data);\n        } else if (repData.command == 10022) {//打招呼\n            // const guideInfo = GlobalConfig.instance.LoginData.data.player.guide\n            // if(GlobalConfig.instance.LoginData.data.player.chatNum >= 3 && !guideInfo?.find?.(element => element === GuideIndex.START_GUIDE_STATE5.end)){\n            //     //触发第五阶段引导\n            //     observer.post(EventType.UPDATE_GUIDE_INFO_MAIN_VIEW, GuideIndex.START_GUIDE_STATE5)\n            //     observer.post(EventType.SHOW_CHAT_LOG_BUTTON)\n            // }\n            observer.post(EventType.SOCKET_ZHAOHU, da.data);\n        }\n        else if(repData.command == 10024){ //商店列表\n            observer.post(EventType.SOCKET_SHOP_ITEM_LIST, da.data)\n        }\n        else if(repData.command == 10025){ //商店列表\n            observer.post(EventType.SEND_BUY_SHOP_ITEM_SUCCESS_INFO, da.data)\n            this.checkplayerItems()\n        }\n\n        else if(repData.command == 10027){ //使用逗猫玩具\n            //observer.post(EventType.SEND_BUY_SHOP_ITEM_SUCCESS_INFO, da.data)\n            //this.checkplayerItems()\n            Log.log(TAG, da.data)\n        }\n\n        else if(repData.command == 10026){ //抚摸猫\n            //observer.post(EventType.SEND_BUY_SHOP_ITEM_SUCCESS_INFO, da.data)\n            //this.checkplayerItems()\n            Log.log(TAG,'play with cat', da.data)\n            observer.post(EventType.UPDATE_CAT_CV, da.data)\n        }\n\n        else if(repData.command == 10028){ //创建打工活动\n            Log.log(TAG,'create work active', da.data)\n            if(da.data.code !== 0){\n                observer.post(EventType.WORK_DEFAULT)\n            }\n            //WorkCatModel.currentWorkId = da?.data?.data?.workId\n        }\n\n        else if(repData.command == 10029){ //领取打工奖励\n            Log.log(TAG,'work reward', da.data)\n        }\n\n        else if(repData.command == 10030){ //打工数据推送\n            Log.log(TAG,'work result', da.data)\n            observer.post(EventType.WORK_STATE_INFO, da.data)\n        }\n\n    }\n\n}"]}