{"version":3,"sources":["file:///Users/feiwang/cutepet/assets/src/module/main/gedan/ShowGequListTiemComponent.ts"],"names":["_decorator","Component","Node","Label","UITransform","ccclass","property","ShowGequListTiemComponent","_data","_curNode","start","node","on","setData","touchStart","event","data","from","node1","active","node2","txt","getChildByName","getComponent","string","content","scheduleOnce","setNodeWidth","bg","height","freshStateHandler","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAgCC,MAAAA,K,OAAAA,K;AAAqBC,MAAAA,W,OAAAA,W;;;;;;;;;OAO/E;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;2CAGjBO,yB,WADZF,OAAO,CAAC,2BAAD,C,UAEHC,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAACJ,IAAD,C,2BAJb,MACaK,yBADb,SAC+CN,SAD/C,CACyD;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAMrDO,KANqD;AAAA,eAO7CC,QAP6C;AAAA;;AAQrDC,QAAAA,KAAK,GAAG;AACJ,eAAKC,IAAL,CAAUC,EAAV,CAAa,SAAb,EAAwB,KAAKC,OAA7B,EAAsC,IAAtC,EADI,CAEJ;AACH;AACD;AACJ;AACA;AACA;;;AACIC,QAAAA,UAAU,CAACC,KAAD,EAAoB,CAE7B;AAGD;AACJ;AACA;;;AACWF,QAAAA,OAAO,CAACG,IAAD,EAAiB;AAC3B,eAAKR,KAAL,GAAaQ,IAAb;;AACA,cAAI,KAAKR,KAAL,CAAWS,IAAX,GAAkB,MAAtB,EAA8B;AAAC;AAC3B,iBAAKC,KAAL,CAAWC,MAAX,GAAoB,KAApB;AACA,iBAAKC,KAAL,CAAWD,MAAX,GAAoB,IAApB;AACA,iBAAKV,QAAL,GAAgB,KAAKW,KAArB;AACH,WAJD,MAIO;AAAC;AACJ,iBAAKF,KAAL,CAAWC,MAAX,GAAoB,IAApB;AACA,iBAAKC,KAAL,CAAWD,MAAX,GAAoB,KAApB;AACA,iBAAKV,QAAL,GAAgB,KAAKS,KAArB;AACH;;AACD,cAAIG,GAAG,GAAG,KAAKZ,QAAL,CAAca,cAAd,CAA6B,aAA7B,CAAV;;AACAD,UAAAA,GAAG,CAACE,YAAJ,CAAiBpB,KAAjB,EAAwBqB,MAAxB,GAAiC,KAAKhB,KAAL,CAAWiB,OAA5C;AACA,eAAKC,YAAL,CAAkB,MAAM;AACpB,iBAAKC,YAAL;AACH,WAFD,EAEG,GAFH;AAGH;;AAEMA,QAAAA,YAAY,GAAG;AAClB,cAAIN,GAAG,GAAG,KAAKZ,QAAL,CAAca,cAAd,CAA6B,aAA7B,CAAV;;AACA,cAAIM,EAAE,GAAG,KAAKnB,QAAL,CAAca,cAAd,CAA6B,QAA7B,CAAT;;AACA,cAAIO,MAAM,GAAGR,GAAG,CAACE,YAAJ,CAAiBnB,WAAjB,EAA8ByB,MAA3C;;AACA,cAAIA,MAAM,GAAG,EAAb,EAAiB;AACbA,YAAAA,MAAM,GAAG,EAAT;AACH;;AACDD,UAAAA,EAAE,CAACL,YAAH,CAAgBnB,WAAhB,EAA6ByB,MAA7B,GAAsCA,MAAM,GAAG,EAA/C;AACA,eAAKpB,QAAL,CAAcc,YAAd,CAA2BnB,WAA3B,EAAwCyB,MAAxC,GAAiDA,MAAM,GAAG,EAA1D;AACA,eAAKlB,IAAL,CAAUY,YAAV,CAAuBnB,WAAvB,EAAoCyB,MAApC,GAA6CA,MAAM,GAAG,EAAtD;AACH;;AAEOC,QAAAA,iBAAiB,GAAG,CAG3B;;AACDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA5DoD,O;;;;;iBAEhC,I;;;;;;;iBAEA,I","sourcesContent":["import { _decorator, Component, Node, assetManager, EventTouch, Label, color, Color, UITransform } from 'cc';\nimport { modelMgr } from '../../../game/App';\nimport { GlobalConfig } from '../../../game/config/GlobalConfig';\nimport { AudioManager } from '../../../manager/AudioManager';\nimport AxiosManager from '../../../manager/AxiosManager';\nimport StringUtils from '../../../utils/StringUtils';\nimport { chatcell } from '../../../game/config/DataStruct';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ShowGequListTiemComponent')\nexport class ShowGequListTiemComponent extends Component {\n    @property(Node)\n    public node1: Node = null;\n    @property(Node)\n    public node2: Node = null;\n\n    _data: chatcell;\n    private _curNode: Node;\n    start() {\n        this.node.on(\"setdata\", this.setData, this);\n        // this.node.on(Node.EventType.TOUCH_START, this.touchStart, this);\n    }\n    /**\n     * 播放歌曲\n     * @param event \n     */\n    touchStart(event: EventTouch) {\n\n    }\n\n\n    /**\n     * 更新数据\n     */\n    public setData(data: chatcell) {\n        this._data = data;\n        if (this._data.from > 200000) {//玩家\n            this.node1.active = false;\n            this.node2.active = true;\n            this._curNode = this.node2;\n        } else {//猫咪\n            this.node1.active = true;\n            this.node2.active = false;\n            this._curNode = this.node1;\n        }\n        let txt = this._curNode.getChildByName(\"Label_title\");\n        txt.getComponent(Label).string = this._data.content;\n        this.scheduleOnce(() => {\n            this.setNodeWidth();\n        }, 0.1);\n    }\n\n    public setNodeWidth() {\n        let txt = this._curNode.getChildByName(\"Label_title\");\n        let bg = this._curNode.getChildByName(\"Sprite\");\n        let height = txt.getComponent(UITransform).height;\n        if (height < 55) {\n            height = 70;\n        }\n        bg.getComponent(UITransform).height = height + 30;\n        this._curNode.getComponent(UITransform).height = height + 30;\n        this.node.getComponent(UITransform).height = height + 30;\n    }\n\n    private freshStateHandler() {\n\n\n    }\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}