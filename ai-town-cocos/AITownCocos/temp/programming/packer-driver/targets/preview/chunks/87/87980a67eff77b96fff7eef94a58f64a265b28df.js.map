{"version":3,"sources":["file:///Users/feiwang/cutepet/assets/src/module/main/catWork/WorkSelectCatComponent.ts"],"names":["_decorator","Component","Node","modelMgr","ListViewCtrl2H","toNumber","WorkCatModel","Log","ccclass","property","TAG","workSelectCatComponent","Number","currentGoodId","start","arr","catsInfo","fliteArr","forEach","cat","mainModel","getServerCatsData","id","push","showZhongziList","onDestroy","updateSerCatsHandler","onEnable","len","Math","ceil","length","countOneLine","grpArr","i","temparr","j","pre_listView","ctrl","getChildByName","spawnCount","getComponent","initData","hideUseBtn","log","useButton","active","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;AAGvBC,MAAAA,Q,iBAAAA,Q;;AAOAC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,Q,aAAAA,Q;;AACFC,MAAAA,Y;;AACAC,MAAAA,G;;;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;AAExBU,MAAAA,G,GAAM,wB;;wCAGCC,sB,WADZH,OAAO,CAAC,wBAAD,C,UAEHC,QAAQ,CAACP,IAAD,C,UAGRO,QAAQ,CAACP,IAAD,C,UAGRO,QAAQ,CAACP,IAAD,C,UAGRO,QAAQ,CAACP,IAAD,C,UAGRO,QAAQ,CAACG,MAAD,C,2BAdb,MACaD,sBADb,SAC4CV,SAD5C,CACsD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAgBlDY,aAhBkD,GAgBzB,CAhByB;AAAA;;AAkBlDC,QAAAA,KAAK,GAAG;AACJ,cAAIC,GAAU,GAAG;AAAA;AAAA,4CAAaC,QAA9B;AACA,cAAIC,QAAQ,GAAG,EAAf;AACAF,UAAAA,GAAG,CAACG,OAAJ,CAAaC,GAAD,IAAO;AACf,gBAAG;AAAA;AAAA,sCAASC,SAAT,CAAmBC,iBAAnB,CAAqCF,GAAG,CAACG,EAAzC,CAAH,EAAgD;AAC5CL,cAAAA,QAAQ,CAACM,IAAT,CAAcJ,GAAd;AACH;AACJ,WAJD;AAMA,eAAKK,eAAL,CAAqBP,QAArB;AACH;;AAESQ,QAAAA,SAAS,GAAS,CAE3B;;AAEOC,QAAAA,oBAAoB,GAAE,CAC1B;AACH;;AACSC,QAAAA,QAAQ,GAAS,CACvB;AACA;AACA;AACH;AACD;AACJ;AACA;;;AACWH,QAAAA,eAAe,CAACT,GAAD,EAAM;AACxB,cAAIa,GAAG,GAAGC,IAAI,CAACC,IAAL,CAAUf,GAAG,CAACgB,MAAJ,GAAa;AAAA;AAAA,oCAAS,KAAKC,YAAd,CAAvB,CAAV;AACA,cAAIC,MAAM,GAAG,EAAb;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,GAApB,EAAyBM,CAAC,EAA1B,EAA8B;AAC1B,gBAAIC,OAAO,GAAG,EAAd;;AACA,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG;AAAA;AAAA,sCAAS,KAAKJ,YAAd,CAApB,EAAiDI,CAAC,EAAlD,EAAsD;AAClDD,cAAAA,OAAO,CAACZ,IAAR,CAAaR,GAAG,CAAEmB,CAAD,GAAM;AAAA;AAAA,wCAAS,KAAKF,YAAd,CAAN,GAAoCI,CAArC,CAAhB;AACH;;AACDH,YAAAA,MAAM,CAACV,IAAP,CAAYY,OAAZ;AACH;;AACD,cAAI,KAAKE,YAAT,EAAuB;AACnB,gBAAIC,IAAI,GAAG,KAAKD,YAAL,CAAkBE,cAAlB,CAAiC,UAAjC,CAAX;AACA,gBAAIC,UAAU,GAAGP,MAAM,CAACF,MAAxB;AACAO,YAAAA,IAAI,CAACG,YAAL;AAAA;AAAA,kDAAkCC,QAAlC,CAA2CF,UAA3C,EAAuDP,MAAvD;AACH;AACJ;;AAEDU,QAAAA,UAAU,GAAE;AACR;AAAA;AAAA,0BAAIC,GAAJ,CAAQlC,GAAR,EAAa,kBAAb;AACA,eAAKmC,SAAL,CAAeC,MAAf,GAAwB,KAAxB;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AArEiD,O;;;;;iBAE7B,I;;;;;;;iBAGL,I;;;;;;;iBAGE,I;;;;;;;iBAGF,I;;;;;;;iBAGO,C","sourcesContent":["import { _decorator, Component, Node } from 'cc';\nimport { ListViewCtrl2 } from '../../../game/components/listViewCtrl2';\nimport { GlobalConfig } from '../../../game/config/GlobalConfig';\nimport { modelMgr, observer } from '../../../game/App';\nimport { EventType } from '../../../EventType';\nimport { ToyDataType } from '../shop/CatEnjoyToolsDataType';\nimport MainModel from '../../../model/main/MainModel';\nimport { ActionType, TouchCatTips } from '../../../model/StaticTextConfig';\nimport { showMsgWithMask } from '../../../core/message/MaskToastManager';\nimport { CatActionInfo } from '../../../game/config/DataStruct';\nimport { ListViewCtrl2H } from '../../../game/components/listViewCtrl2H';\nimport { toNumber } from 'lodash-es';\nimport WorkCatModel from '../../../model/WorkCatModel';\nimport Log from '../../../../../assets/src/utils/LogUtils'\nconst { ccclass, property } = _decorator;\n\nconst TAG = 'workSelectCatComponent'\n\n@ccclass('workSelectCatComponent')\nexport class workSelectCatComponent extends Component {\n    @property(Node)\n    pre_listView: Node = null;\n\n    @property(Node)\n    ToyPage: Node = null;\n\n    @property(Node)\n    useButton: Node = null;\n\n    @property(Node)\n    catNode: Node = null;\n\n    @property(Number)\n    countOneLine: Number = 2\n\n    currentGoodId : number = 0  \n\n    start() {\n        let arr: any[] = WorkCatModel.catsInfo\n        let fliteArr = []\n        arr.forEach((cat)=>{\n            if(modelMgr.mainModel.getServerCatsData(cat.id)){\n                fliteArr.push(cat)\n            }\n        })\n\n        this.showZhongziList(fliteArr);\n    }\n\n    protected onDestroy(): void {\n\n    }\n\n    private updateSerCatsHandler(){\n        //this.showZhongziList(arr);\n    }\n    protected onEnable(): void {\n        //排序逻辑\n        // let arr: any[] = modelMgr.configModel.commonConfigJson.Cat;\n        // this.showZhongziList(arr);\n    }\n    /**\n* \n*/\n    public showZhongziList(arr) {\n        let len = Math.ceil(arr.length / toNumber(this.countOneLine));\n        let grpArr = [];\n        for (let i = 0; i < len; i++) {\n            let temparr = [];\n            for (let j = 0; j < toNumber(this.countOneLine); j++) {\n                temparr.push(arr[(i) * toNumber(this.countOneLine) + j]);\n            }\n            grpArr.push(temparr);\n        }\n        if (this.pre_listView) {\n            let ctrl = this.pre_listView.getChildByName(\"listctrl\");\n            let spawnCount = grpArr.length;\n            ctrl.getComponent(ListViewCtrl2H).initData(spawnCount, grpArr);\n        }\n    }\n\n    hideUseBtn(){\n        Log.log(TAG, 'click hideUseBtn')\n        this.useButton.active = false\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n\n"]}